var Qu=Object.defineProperty;var Nl=e=>{throw TypeError(e)};var Zu=(e,i,a)=>i in e?Qu(e,i,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[i]=a;var Nr=(e,i,a)=>Zu(e,typeof i!="symbol"?i+"":i,a),Ss=(e,i,a)=>i.has(e)||Nl("Cannot "+a);var g=(e,i,a)=>(Ss(e,i,"read from private field"),a?a.call(e):i.get(e)),cn=(e,i,a)=>i.has(e)?Nl("Cannot add the same private member more than once"):i instanceof WeakSet?i.add(e):i.set(e,a),dn=(e,i,a,o)=>(Ss(e,i,"write to private field"),o?o.call(e,a):i.set(e,a),a),qt=(e,i,a)=>(Ss(e,i,"access private method"),a);var Do=(e,i,a,o)=>({set _(c){dn(e,i,c,a)},get _(){return g(e,i,o)}});function _mergeNamespaces(e,i){for(var a=0;a<i.length;a++){const o=i[a];if(typeof o!="string"&&!Array.isArray(o)){for(const c in o)if(c!=="default"&&!(c in e)){const s=Object.getOwnPropertyDescriptor(o,c);s&&Object.defineProperty(e,c,s.get?s:{enumerable:!0,get:()=>o[c]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))o(c);new MutationObserver(c=>{for(const s of c)if(s.type==="childList")for(const d of s.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&o(d)}).observe(document,{childList:!0,subtree:!0});function a(c){const s={};return c.integrity&&(s.integrity=c.integrity),c.referrerPolicy&&(s.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?s.credentials="include":c.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function o(c){if(c.ep)return;c.ep=!0;const s=a(c);fetch(c.href,s)}})();function getDefaultExportFromCjs(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function getAugmentedNamespace(e){if(e.__esModule)return e;var i=e.default;if(typeof i=="function"){var a=function o(){return this instanceof o?Reflect.construct(i,arguments,this.constructor):i.apply(this,arguments)};a.prototype=i.prototype}else a={};return Object.defineProperty(a,"__esModule",{value:!0}),Object.keys(e).forEach(function(o){var c=Object.getOwnPropertyDescriptor(e,o);Object.defineProperty(a,o,c.get?c:{enumerable:!0,get:function(){return e[o]}})}),a}var jsxRuntime={exports:{}},reactJsxRuntime_production_min={},react={exports:{}},react_production_min={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l$1=Symbol.for("react.element"),n$1=Symbol.for("react.portal"),p$2=Symbol.for("react.fragment"),q$1=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),t=Symbol.for("react.provider"),u=Symbol.for("react.context"),v$1=Symbol.for("react.forward_ref"),w=Symbol.for("react.suspense"),x=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),z$1=Symbol.iterator;function A$1(e){return e===null||typeof e!="object"?null:(e=z$1&&e[z$1]||e["@@iterator"],typeof e=="function"?e:null)}var B$1={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C$1=Object.assign,D$1={};function E$1(e,i,a){this.props=e,this.context=i,this.refs=D$1,this.updater=a||B$1}E$1.prototype.isReactComponent={};E$1.prototype.setState=function(e,i){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,i,"setState")};E$1.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function F(){}F.prototype=E$1.prototype;function G$1(e,i,a){this.props=e,this.context=i,this.refs=D$1,this.updater=a||B$1}var H$1=G$1.prototype=new F;H$1.constructor=G$1;C$1(H$1,E$1.prototype);H$1.isPureReactComponent=!0;var I$1=Array.isArray,J=Object.prototype.hasOwnProperty,K$1={current:null},L$1={key:!0,ref:!0,__self:!0,__source:!0};function M$1(e,i,a){var o,c={},s=null,d=null;if(i!=null)for(o in i.ref!==void 0&&(d=i.ref),i.key!==void 0&&(s=""+i.key),i)J.call(i,o)&&!L$1.hasOwnProperty(o)&&(c[o]=i[o]);var et=arguments.length-2;if(et===1)c.children=a;else if(1<et){for(var h=Array(et),_e=0;_e<et;_e++)h[_e]=arguments[_e+2];c.children=h}if(e&&e.defaultProps)for(o in et=e.defaultProps,et)c[o]===void 0&&(c[o]=et[o]);return{$$typeof:l$1,type:e,key:s,ref:d,props:c,_owner:K$1.current}}function N$1(e,i){return{$$typeof:l$1,type:e.type,key:i,ref:e.ref,props:e.props,_owner:e._owner}}function O$1(e){return typeof e=="object"&&e!==null&&e.$$typeof===l$1}function escape$1(e){var i={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(a){return i[a]})}var P$1=/\/+/g;function Q$1(e,i){return typeof e=="object"&&e!==null&&e.key!=null?escape$1(""+e.key):i.toString(36)}function R$1(e,i,a,o,c){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var d=!1;if(e===null)d=!0;else switch(s){case"string":case"number":d=!0;break;case"object":switch(e.$$typeof){case l$1:case n$1:d=!0}}if(d)return d=e,c=c(d),e=o===""?"."+Q$1(d,0):o,I$1(c)?(a="",e!=null&&(a=e.replace(P$1,"$&/")+"/"),R$1(c,i,a,"",function(_e){return _e})):c!=null&&(O$1(c)&&(c=N$1(c,a+(!c.key||d&&d.key===c.key?"":(""+c.key).replace(P$1,"$&/")+"/")+e)),i.push(c)),1;if(d=0,o=o===""?".":o+":",I$1(e))for(var et=0;et<e.length;et++){s=e[et];var h=o+Q$1(s,et);d+=R$1(s,i,a,h,c)}else if(h=A$1(e),typeof h=="function")for(e=h.call(e),et=0;!(s=e.next()).done;)s=s.value,h=o+Q$1(s,et++),d+=R$1(s,i,a,h,c);else if(s==="object")throw i=String(e),Error("Objects are not valid as a React child (found: "+(i==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":i)+"). If you meant to render a collection of children, use an array instead.");return d}function S$1(e,i,a){if(e==null)return e;var o=[],c=0;return R$1(e,o,"","",function(s){return i.call(a,s,c++)}),o}function T$1(e){if(e._status===-1){var i=e._result;i=i(),i.then(function(a){(e._status===0||e._status===-1)&&(e._status=1,e._result=a)},function(a){(e._status===0||e._status===-1)&&(e._status=2,e._result=a)}),e._status===-1&&(e._status=0,e._result=i)}if(e._status===1)return e._result.default;throw e._result}var U$1={current:null},V$1={transition:null},W$1={ReactCurrentDispatcher:U$1,ReactCurrentBatchConfig:V$1,ReactCurrentOwner:K$1};function X$1(){throw Error("act(...) is not supported in production builds of React.")}react_production_min.Children={map:S$1,forEach:function(e,i,a){S$1(e,function(){i.apply(this,arguments)},a)},count:function(e){var i=0;return S$1(e,function(){i++}),i},toArray:function(e){return S$1(e,function(i){return i})||[]},only:function(e){if(!O$1(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};react_production_min.Component=E$1;react_production_min.Fragment=p$2;react_production_min.Profiler=r;react_production_min.PureComponent=G$1;react_production_min.StrictMode=q$1;react_production_min.Suspense=w;react_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W$1;react_production_min.act=X$1;react_production_min.cloneElement=function(e,i,a){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var o=C$1({},e.props),c=e.key,s=e.ref,d=e._owner;if(i!=null){if(i.ref!==void 0&&(s=i.ref,d=K$1.current),i.key!==void 0&&(c=""+i.key),e.type&&e.type.defaultProps)var et=e.type.defaultProps;for(h in i)J.call(i,h)&&!L$1.hasOwnProperty(h)&&(o[h]=i[h]===void 0&&et!==void 0?et[h]:i[h])}var h=arguments.length-2;if(h===1)o.children=a;else if(1<h){et=Array(h);for(var _e=0;_e<h;_e++)et[_e]=arguments[_e+2];o.children=et}return{$$typeof:l$1,type:e.type,key:c,ref:s,props:o,_owner:d}};react_production_min.createContext=function(e){return e={$$typeof:u,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:t,_context:e},e.Consumer=e};react_production_min.createElement=M$1;react_production_min.createFactory=function(e){var i=M$1.bind(null,e);return i.type=e,i};react_production_min.createRef=function(){return{current:null}};react_production_min.forwardRef=function(e){return{$$typeof:v$1,render:e}};react_production_min.isValidElement=O$1;react_production_min.lazy=function(e){return{$$typeof:y,_payload:{_status:-1,_result:e},_init:T$1}};react_production_min.memo=function(e,i){return{$$typeof:x,type:e,compare:i===void 0?null:i}};react_production_min.startTransition=function(e){var i=V$1.transition;V$1.transition={};try{e()}finally{V$1.transition=i}};react_production_min.unstable_act=X$1;react_production_min.useCallback=function(e,i){return U$1.current.useCallback(e,i)};react_production_min.useContext=function(e){return U$1.current.useContext(e)};react_production_min.useDebugValue=function(){};react_production_min.useDeferredValue=function(e){return U$1.current.useDeferredValue(e)};react_production_min.useEffect=function(e,i){return U$1.current.useEffect(e,i)};react_production_min.useId=function(){return U$1.current.useId()};react_production_min.useImperativeHandle=function(e,i,a){return U$1.current.useImperativeHandle(e,i,a)};react_production_min.useInsertionEffect=function(e,i){return U$1.current.useInsertionEffect(e,i)};react_production_min.useLayoutEffect=function(e,i){return U$1.current.useLayoutEffect(e,i)};react_production_min.useMemo=function(e,i){return U$1.current.useMemo(e,i)};react_production_min.useReducer=function(e,i,a){return U$1.current.useReducer(e,i,a)};react_production_min.useRef=function(e){return U$1.current.useRef(e)};react_production_min.useState=function(e){return U$1.current.useState(e)};react_production_min.useSyncExternalStore=function(e,i,a){return U$1.current.useSyncExternalStore(e,i,a)};react_production_min.useTransition=function(){return U$1.current.useTransition()};react_production_min.version="18.3.1";react.exports=react_production_min;var reactExports=react.exports;const index$1=getDefaultExportFromCjs(reactExports),React=_mergeNamespaces({__proto__:null,default:index$1},[reactExports]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f=reactExports,k=Symbol.for("react.element"),l=Symbol.for("react.fragment"),m$1=Object.prototype.hasOwnProperty,n=f.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p$1={key:!0,ref:!0,__self:!0,__source:!0};function q(e,i,a){var o,c={},s=null,d=null;a!==void 0&&(s=""+a),i.key!==void 0&&(s=""+i.key),i.ref!==void 0&&(d=i.ref);for(o in i)m$1.call(i,o)&&!p$1.hasOwnProperty(o)&&(c[o]=i[o]);if(e&&e.defaultProps)for(o in i=e.defaultProps,i)c[o]===void 0&&(c[o]=i[o]);return{$$typeof:k,type:e,key:s,ref:d,props:c,_owner:n.current}}reactJsxRuntime_production_min.Fragment=l;reactJsxRuntime_production_min.jsx=q;reactJsxRuntime_production_min.jsxs=q;jsxRuntime.exports=reactJsxRuntime_production_min;var jsxRuntimeExports=jsxRuntime.exports,reactDom={exports:{}},reactDom_production_min={},scheduler={exports:{}},scheduler_production_min={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function i(Bt,wt){var Lt=Bt.length;Bt.push(wt);e:for(;0<Lt;){var $t=Lt-1>>>1,bt=Bt[$t];if(0<c(bt,wt))Bt[$t]=wt,Bt[Lt]=bt,Lt=$t;else break e}}function a(Bt){return Bt.length===0?null:Bt[0]}function o(Bt){if(Bt.length===0)return null;var wt=Bt[0],Lt=Bt.pop();if(Lt!==wt){Bt[0]=Lt;e:for(var $t=0,bt=Bt.length,at=bt>>>1;$t<at;){var st=2*($t+1)-1,yt=Bt[st],Pt=st+1,Tt=Bt[Pt];if(0>c(yt,Lt))Pt<bt&&0>c(Tt,yt)?(Bt[$t]=Tt,Bt[Pt]=Lt,$t=Pt):(Bt[$t]=yt,Bt[st]=Lt,$t=st);else if(Pt<bt&&0>c(Tt,Lt))Bt[$t]=Tt,Bt[Pt]=Lt,$t=Pt;else break e}}return wt}function c(Bt,wt){var Lt=Bt.sortIndex-wt.sortIndex;return Lt!==0?Lt:Bt.id-wt.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var d=Date,et=d.now();e.unstable_now=function(){return d.now()-et}}var h=[],_e=[],_=1,ct=null,ut=3,ot=!1,lt=!1,gt=!1,mt=typeof setTimeout=="function"?setTimeout:null,j=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function ft(Bt){for(var wt=a(_e);wt!==null;){if(wt.callback===null)o(_e);else if(wt.startTime<=Bt)o(_e),wt.sortIndex=wt.expirationTime,i(h,wt);else break;wt=a(_e)}}function pt(Bt){if(gt=!1,ft(Bt),!lt)if(a(h)!==null)lt=!0,Yt(nt);else{var wt=a(_e);wt!==null&&Nt(pt,wt.startTime-Bt)}}function nt(Bt,wt){lt=!1,gt&&(gt=!1,j(it),it=-1),ot=!0;var Lt=ut;try{for(ft(wt),ct=a(h);ct!==null&&(!(ct.expirationTime>wt)||Bt&&!ht());){var $t=ct.callback;if(typeof $t=="function"){ct.callback=null,ut=ct.priorityLevel;var bt=$t(ct.expirationTime<=wt);wt=e.unstable_now(),typeof bt=="function"?ct.callback=bt:ct===a(h)&&o(h),ft(wt)}else o(h);ct=a(h)}if(ct!==null)var at=!0;else{var st=a(_e);st!==null&&Nt(pt,st.startTime-wt),at=!1}return at}finally{ct=null,ut=Lt,ot=!1}}var $=!1,rt=null,it=-1,dt=5,At=-1;function ht(){return!(e.unstable_now()-At<dt)}function St(){if(rt!==null){var Bt=e.unstable_now();At=Bt;var wt=!0;try{wt=rt(!0,Bt)}finally{wt?Rt():($=!1,rt=null)}}else $=!1}var Rt;if(typeof b=="function")Rt=function(){b(St)};else if(typeof MessageChannel<"u"){var Jt=new MessageChannel,Ut=Jt.port2;Jt.port1.onmessage=St,Rt=function(){Ut.postMessage(null)}}else Rt=function(){mt(St,0)};function Yt(Bt){rt=Bt,$||($=!0,Rt())}function Nt(Bt,wt){it=mt(function(){Bt(e.unstable_now())},wt)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(Bt){Bt.callback=null},e.unstable_continueExecution=function(){lt||ot||(lt=!0,Yt(nt))},e.unstable_forceFrameRate=function(Bt){0>Bt||125<Bt?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):dt=0<Bt?Math.floor(1e3/Bt):5},e.unstable_getCurrentPriorityLevel=function(){return ut},e.unstable_getFirstCallbackNode=function(){return a(h)},e.unstable_next=function(Bt){switch(ut){case 1:case 2:case 3:var wt=3;break;default:wt=ut}var Lt=ut;ut=wt;try{return Bt()}finally{ut=Lt}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(Bt,wt){switch(Bt){case 1:case 2:case 3:case 4:case 5:break;default:Bt=3}var Lt=ut;ut=Bt;try{return wt()}finally{ut=Lt}},e.unstable_scheduleCallback=function(Bt,wt,Lt){var $t=e.unstable_now();switch(typeof Lt=="object"&&Lt!==null?(Lt=Lt.delay,Lt=typeof Lt=="number"&&0<Lt?$t+Lt:$t):Lt=$t,Bt){case 1:var bt=-1;break;case 2:bt=250;break;case 5:bt=1073741823;break;case 4:bt=1e4;break;default:bt=5e3}return bt=Lt+bt,Bt={id:_++,callback:wt,priorityLevel:Bt,startTime:Lt,expirationTime:bt,sortIndex:-1},Lt>$t?(Bt.sortIndex=Lt,i(_e,Bt),a(h)===null&&Bt===a(_e)&&(gt?(j(it),it=-1):gt=!0,Nt(pt,Lt-$t))):(Bt.sortIndex=bt,i(h,Bt),lt||ot||(lt=!0,Yt(nt))),Bt},e.unstable_shouldYield=ht,e.unstable_wrapCallback=function(Bt){var wt=ut;return function(){var Lt=ut;ut=wt;try{return Bt.apply(this,arguments)}finally{ut=Lt}}}})(scheduler_production_min);scheduler.exports=scheduler_production_min;var schedulerExports=scheduler.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aa=reactExports,ca=schedulerExports;function p(e){for(var i="https://reactjs.org/docs/error-decoder.html?invariant="+e,a=1;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+e+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var da=new Set,ea={};function fa(e,i){ha(e,i),ha(e+"Capture",i)}function ha(e,i){for(ea[e]=i,e=0;e<i.length;e++)da.add(i[e])}var ia=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ja=Object.prototype.hasOwnProperty,ka=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,la={},ma={};function oa(e){return ja.call(ma,e)?!0:ja.call(la,e)?!1:ka.test(e)?ma[e]=!0:(la[e]=!0,!1)}function pa(e,i,a,o){if(a!==null&&a.type===0)return!1;switch(typeof i){case"function":case"symbol":return!0;case"boolean":return o?!1:a!==null?!a.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function qa(e,i,a,o){if(i===null||typeof i>"u"||pa(e,i,a,o))return!0;if(o)return!1;if(a!==null)switch(a.type){case 3:return!i;case 4:return i===!1;case 5:return isNaN(i);case 6:return isNaN(i)||1>i}return!1}function v(e,i,a,o,c,s,d){this.acceptsBooleans=i===2||i===3||i===4,this.attributeName=o,this.attributeNamespace=c,this.mustUseProperty=a,this.propertyName=e,this.type=i,this.sanitizeURL=s,this.removeEmptyString=d}var z={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){z[e]=new v(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var i=e[0];z[i]=new v(i,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){z[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){z[e]=new v(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){z[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){z[e]=new v(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){z[e]=new v(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){z[e]=new v(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){z[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)});var ra=/[\-:]([a-z])/g;function sa(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var i=e.replace(ra,sa);z[i]=new v(i,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var i=e.replace(ra,sa);z[i]=new v(i,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var i=e.replace(ra,sa);z[i]=new v(i,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){z[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)});z.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){z[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)});function ta(e,i,a,o){var c=z.hasOwnProperty(i)?z[i]:null;(c!==null?c.type!==0:o||!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(qa(i,a,c,o)&&(a=null),o||c===null?oa(i)&&(a===null?e.removeAttribute(i):e.setAttribute(i,""+a)):c.mustUseProperty?e[c.propertyName]=a===null?c.type===3?!1:"":a:(i=c.attributeName,o=c.attributeNamespace,a===null?e.removeAttribute(i):(c=c.type,a=c===3||c===4&&a===!0?"":""+a,o?e.setAttributeNS(o,i,a):e.setAttribute(i,a))))}var ua=aa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,va=Symbol.for("react.element"),wa=Symbol.for("react.portal"),ya=Symbol.for("react.fragment"),za=Symbol.for("react.strict_mode"),Aa=Symbol.for("react.profiler"),Ba=Symbol.for("react.provider"),Ca=Symbol.for("react.context"),Da=Symbol.for("react.forward_ref"),Ea=Symbol.for("react.suspense"),Fa=Symbol.for("react.suspense_list"),Ga=Symbol.for("react.memo"),Ha=Symbol.for("react.lazy"),Ia=Symbol.for("react.offscreen"),Ja=Symbol.iterator;function Ka(e){return e===null||typeof e!="object"?null:(e=Ja&&e[Ja]||e["@@iterator"],typeof e=="function"?e:null)}var A=Object.assign,La;function Ma(e){if(La===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);La=i&&i[1]||""}return`
`+La+e}var Na=!1;function Oa(e,i){if(!e||Na)return"";Na=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(i)if(i=function(){throw Error()},Object.defineProperty(i.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(i,[])}catch(_e){var o=_e}Reflect.construct(e,[],i)}else{try{i.call()}catch(_e){o=_e}e.call(i.prototype)}else{try{throw Error()}catch(_e){o=_e}e()}}catch(_e){if(_e&&o&&typeof _e.stack=="string"){for(var c=_e.stack.split(`
`),s=o.stack.split(`
`),d=c.length-1,et=s.length-1;1<=d&&0<=et&&c[d]!==s[et];)et--;for(;1<=d&&0<=et;d--,et--)if(c[d]!==s[et]){if(d!==1||et!==1)do if(d--,et--,0>et||c[d]!==s[et]){var h=`
`+c[d].replace(" at new "," at ");return e.displayName&&h.includes("<anonymous>")&&(h=h.replace("<anonymous>",e.displayName)),h}while(1<=d&&0<=et);break}}}finally{Na=!1,Error.prepareStackTrace=a}return(e=e?e.displayName||e.name:"")?Ma(e):""}function Pa(e){switch(e.tag){case 5:return Ma(e.type);case 16:return Ma("Lazy");case 13:return Ma("Suspense");case 19:return Ma("SuspenseList");case 0:case 2:case 15:return e=Oa(e.type,!1),e;case 11:return e=Oa(e.type.render,!1),e;case 1:return e=Oa(e.type,!0),e;default:return""}}function Qa(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ya:return"Fragment";case wa:return"Portal";case Aa:return"Profiler";case za:return"StrictMode";case Ea:return"Suspense";case Fa:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Ca:return(e.displayName||"Context")+".Consumer";case Ba:return(e._context.displayName||"Context")+".Provider";case Da:var i=e.render;return e=e.displayName,e||(e=i.displayName||i.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Ga:return i=e.displayName||null,i!==null?i:Qa(e.type)||"Memo";case Ha:i=e._payload,e=e._init;try{return Qa(e(i))}catch{}}return null}function Ra(e){var i=e.type;switch(e.tag){case 24:return"Cache";case 9:return(i.displayName||"Context")+".Consumer";case 10:return(i._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=i.render,e=e.displayName||e.name||"",i.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return i;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Qa(i);case 8:return i===za?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i}return null}function Sa(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ta(e){var i=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Ua(e){var i=Ta(e)?"checked":"value",a=Object.getOwnPropertyDescriptor(e.constructor.prototype,i),o=""+e[i];if(!e.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var c=a.get,s=a.set;return Object.defineProperty(e,i,{configurable:!0,get:function(){return c.call(this)},set:function(d){o=""+d,s.call(this,d)}}),Object.defineProperty(e,i,{enumerable:a.enumerable}),{getValue:function(){return o},setValue:function(d){o=""+d},stopTracking:function(){e._valueTracker=null,delete e[i]}}}}function Va(e){e._valueTracker||(e._valueTracker=Ua(e))}function Wa(e){if(!e)return!1;var i=e._valueTracker;if(!i)return!0;var a=i.getValue(),o="";return e&&(o=Ta(e)?e.checked?"true":"false":e.value),e=o,e!==a?(i.setValue(e),!0):!1}function Xa(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Ya(e,i){var a=i.checked;return A({},i,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:a??e._wrapperState.initialChecked})}function Za(e,i){var a=i.defaultValue==null?"":i.defaultValue,o=i.checked!=null?i.checked:i.defaultChecked;a=Sa(i.value!=null?i.value:a),e._wrapperState={initialChecked:o,initialValue:a,controlled:i.type==="checkbox"||i.type==="radio"?i.checked!=null:i.value!=null}}function ab(e,i){i=i.checked,i!=null&&ta(e,"checked",i,!1)}function bb(e,i){ab(e,i);var a=Sa(i.value),o=i.type;if(a!=null)o==="number"?(a===0&&e.value===""||e.value!=a)&&(e.value=""+a):e.value!==""+a&&(e.value=""+a);else if(o==="submit"||o==="reset"){e.removeAttribute("value");return}i.hasOwnProperty("value")?cb(e,i.type,a):i.hasOwnProperty("defaultValue")&&cb(e,i.type,Sa(i.defaultValue)),i.checked==null&&i.defaultChecked!=null&&(e.defaultChecked=!!i.defaultChecked)}function db(e,i,a){if(i.hasOwnProperty("value")||i.hasOwnProperty("defaultValue")){var o=i.type;if(!(o!=="submit"&&o!=="reset"||i.value!==void 0&&i.value!==null))return;i=""+e._wrapperState.initialValue,a||i===e.value||(e.value=i),e.defaultValue=i}a=e.name,a!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,a!==""&&(e.name=a)}function cb(e,i,a){(i!=="number"||Xa(e.ownerDocument)!==e)&&(a==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+a&&(e.defaultValue=""+a))}var eb=Array.isArray;function fb(e,i,a,o){if(e=e.options,i){i={};for(var c=0;c<a.length;c++)i["$"+a[c]]=!0;for(a=0;a<e.length;a++)c=i.hasOwnProperty("$"+e[a].value),e[a].selected!==c&&(e[a].selected=c),c&&o&&(e[a].defaultSelected=!0)}else{for(a=""+Sa(a),i=null,c=0;c<e.length;c++){if(e[c].value===a){e[c].selected=!0,o&&(e[c].defaultSelected=!0);return}i!==null||e[c].disabled||(i=e[c])}i!==null&&(i.selected=!0)}}function gb(e,i){if(i.dangerouslySetInnerHTML!=null)throw Error(p(91));return A({},i,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function hb(e,i){var a=i.value;if(a==null){if(a=i.children,i=i.defaultValue,a!=null){if(i!=null)throw Error(p(92));if(eb(a)){if(1<a.length)throw Error(p(93));a=a[0]}i=a}i==null&&(i=""),a=i}e._wrapperState={initialValue:Sa(a)}}function ib(e,i){var a=Sa(i.value),o=Sa(i.defaultValue);a!=null&&(a=""+a,a!==e.value&&(e.value=a),i.defaultValue==null&&e.defaultValue!==a&&(e.defaultValue=a)),o!=null&&(e.defaultValue=""+o)}function jb(e){var i=e.textContent;i===e._wrapperState.initialValue&&i!==""&&i!==null&&(e.value=i)}function kb(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lb(e,i){return e==null||e==="http://www.w3.org/1999/xhtml"?kb(i):e==="http://www.w3.org/2000/svg"&&i==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var mb,nb=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(i,a,o,c){MSApp.execUnsafeLocalFunction(function(){return e(i,a,o,c)})}:e}(function(e,i){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=i;else{for(mb=mb||document.createElement("div"),mb.innerHTML="<svg>"+i.valueOf().toString()+"</svg>",i=mb.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;i.firstChild;)e.appendChild(i.firstChild)}});function ob(e,i){if(i){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=i;return}}e.textContent=i}var pb={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qb=["Webkit","ms","Moz","O"];Object.keys(pb).forEach(function(e){qb.forEach(function(i){i=i+e.charAt(0).toUpperCase()+e.substring(1),pb[i]=pb[e]})});function rb(e,i,a){return i==null||typeof i=="boolean"||i===""?"":a||typeof i!="number"||i===0||pb.hasOwnProperty(e)&&pb[e]?(""+i).trim():i+"px"}function sb(e,i){e=e.style;for(var a in i)if(i.hasOwnProperty(a)){var o=a.indexOf("--")===0,c=rb(a,i[a],o);a==="float"&&(a="cssFloat"),o?e.setProperty(a,c):e[a]=c}}var tb=A({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ub(e,i){if(i){if(tb[e]&&(i.children!=null||i.dangerouslySetInnerHTML!=null))throw Error(p(137,e));if(i.dangerouslySetInnerHTML!=null){if(i.children!=null)throw Error(p(60));if(typeof i.dangerouslySetInnerHTML!="object"||!("__html"in i.dangerouslySetInnerHTML))throw Error(p(61))}if(i.style!=null&&typeof i.style!="object")throw Error(p(62))}}function vb(e,i){if(e.indexOf("-")===-1)return typeof i.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wb=null;function xb(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var yb=null,zb=null,Ab=null;function Bb(e){if(e=Cb(e)){if(typeof yb!="function")throw Error(p(280));var i=e.stateNode;i&&(i=Db(i),yb(e.stateNode,e.type,i))}}function Eb(e){zb?Ab?Ab.push(e):Ab=[e]:zb=e}function Fb(){if(zb){var e=zb,i=Ab;if(Ab=zb=null,Bb(e),i)for(e=0;e<i.length;e++)Bb(i[e])}}function Gb(e,i){return e(i)}function Hb(){}var Ib=!1;function Jb(e,i,a){if(Ib)return e(i,a);Ib=!0;try{return Gb(e,i,a)}finally{Ib=!1,(zb!==null||Ab!==null)&&(Hb(),Fb())}}function Kb(e,i){var a=e.stateNode;if(a===null)return null;var o=Db(a);if(o===null)return null;a=o[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(p(231,i,typeof a));return a}var Lb=!1;if(ia)try{var Mb={};Object.defineProperty(Mb,"passive",{get:function(){Lb=!0}}),window.addEventListener("test",Mb,Mb),window.removeEventListener("test",Mb,Mb)}catch{Lb=!1}function Nb(e,i,a,o,c,s,d,et,h){var _e=Array.prototype.slice.call(arguments,3);try{i.apply(a,_e)}catch(_){this.onError(_)}}var Ob=!1,Pb=null,Qb=!1,Rb=null,Sb={onError:function(e){Ob=!0,Pb=e}};function Tb(e,i,a,o,c,s,d,et,h){Ob=!1,Pb=null,Nb.apply(Sb,arguments)}function Ub(e,i,a,o,c,s,d,et,h){if(Tb.apply(this,arguments),Ob){if(Ob){var _e=Pb;Ob=!1,Pb=null}else throw Error(p(198));Qb||(Qb=!0,Rb=_e)}}function Vb(e){var i=e,a=e;if(e.alternate)for(;i.return;)i=i.return;else{e=i;do i=e,i.flags&4098&&(a=i.return),e=i.return;while(e)}return i.tag===3?a:null}function Wb(e){if(e.tag===13){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function Xb(e){if(Vb(e)!==e)throw Error(p(188))}function Yb(e){var i=e.alternate;if(!i){if(i=Vb(e),i===null)throw Error(p(188));return i!==e?null:e}for(var a=e,o=i;;){var c=a.return;if(c===null)break;var s=c.alternate;if(s===null){if(o=c.return,o!==null){a=o;continue}break}if(c.child===s.child){for(s=c.child;s;){if(s===a)return Xb(c),e;if(s===o)return Xb(c),i;s=s.sibling}throw Error(p(188))}if(a.return!==o.return)a=c,o=s;else{for(var d=!1,et=c.child;et;){if(et===a){d=!0,a=c,o=s;break}if(et===o){d=!0,o=c,a=s;break}et=et.sibling}if(!d){for(et=s.child;et;){if(et===a){d=!0,a=s,o=c;break}if(et===o){d=!0,o=s,a=c;break}et=et.sibling}if(!d)throw Error(p(189))}}if(a.alternate!==o)throw Error(p(190))}if(a.tag!==3)throw Error(p(188));return a.stateNode.current===a?e:i}function Zb(e){return e=Yb(e),e!==null?$b(e):null}function $b(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var i=$b(e);if(i!==null)return i;e=e.sibling}return null}var ac=ca.unstable_scheduleCallback,bc=ca.unstable_cancelCallback,cc=ca.unstable_shouldYield,dc=ca.unstable_requestPaint,B=ca.unstable_now,ec=ca.unstable_getCurrentPriorityLevel,fc=ca.unstable_ImmediatePriority,gc=ca.unstable_UserBlockingPriority,hc=ca.unstable_NormalPriority,ic=ca.unstable_LowPriority,jc=ca.unstable_IdlePriority,kc=null,lc=null;function mc(e){if(lc&&typeof lc.onCommitFiberRoot=="function")try{lc.onCommitFiberRoot(kc,e,void 0,(e.current.flags&128)===128)}catch{}}var oc=Math.clz32?Math.clz32:nc,pc=Math.log,qc=Math.LN2;function nc(e){return e>>>=0,e===0?32:31-(pc(e)/qc|0)|0}var rc=64,sc=4194304;function tc(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function uc(e,i){var a=e.pendingLanes;if(a===0)return 0;var o=0,c=e.suspendedLanes,s=e.pingedLanes,d=a&268435455;if(d!==0){var et=d&~c;et!==0?o=tc(et):(s&=d,s!==0&&(o=tc(s)))}else d=a&~c,d!==0?o=tc(d):s!==0&&(o=tc(s));if(o===0)return 0;if(i!==0&&i!==o&&!(i&c)&&(c=o&-o,s=i&-i,c>=s||c===16&&(s&4194240)!==0))return i;if(o&4&&(o|=a&16),i=e.entangledLanes,i!==0)for(e=e.entanglements,i&=o;0<i;)a=31-oc(i),c=1<<a,o|=e[a],i&=~c;return o}function vc(e,i){switch(e){case 1:case 2:case 4:return i+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wc(e,i){for(var a=e.suspendedLanes,o=e.pingedLanes,c=e.expirationTimes,s=e.pendingLanes;0<s;){var d=31-oc(s),et=1<<d,h=c[d];h===-1?(!(et&a)||et&o)&&(c[d]=vc(et,i)):h<=i&&(e.expiredLanes|=et),s&=~et}}function xc(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function yc(){var e=rc;return rc<<=1,!(rc&4194240)&&(rc=64),e}function zc(e){for(var i=[],a=0;31>a;a++)i.push(e);return i}function Ac(e,i,a){e.pendingLanes|=i,i!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,i=31-oc(i),e[i]=a}function Bc(e,i){var a=e.pendingLanes&~i;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=i,e.mutableReadLanes&=i,e.entangledLanes&=i,i=e.entanglements;var o=e.eventTimes;for(e=e.expirationTimes;0<a;){var c=31-oc(a),s=1<<c;i[c]=0,o[c]=-1,e[c]=-1,a&=~s}}function Cc(e,i){var a=e.entangledLanes|=i;for(e=e.entanglements;a;){var o=31-oc(a),c=1<<o;c&i|e[o]&i&&(e[o]|=i),a&=~c}}var C=0;function Dc(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Ec,Fc,Gc,Hc,Ic,Jc=!1,Kc=[],Lc=null,Mc=null,Nc=null,Oc=new Map,Pc=new Map,Qc=[],Rc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Sc(e,i){switch(e){case"focusin":case"focusout":Lc=null;break;case"dragenter":case"dragleave":Mc=null;break;case"mouseover":case"mouseout":Nc=null;break;case"pointerover":case"pointerout":Oc.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pc.delete(i.pointerId)}}function Tc(e,i,a,o,c,s){return e===null||e.nativeEvent!==s?(e={blockedOn:i,domEventName:a,eventSystemFlags:o,nativeEvent:s,targetContainers:[c]},i!==null&&(i=Cb(i),i!==null&&Fc(i)),e):(e.eventSystemFlags|=o,i=e.targetContainers,c!==null&&i.indexOf(c)===-1&&i.push(c),e)}function Uc(e,i,a,o,c){switch(i){case"focusin":return Lc=Tc(Lc,e,i,a,o,c),!0;case"dragenter":return Mc=Tc(Mc,e,i,a,o,c),!0;case"mouseover":return Nc=Tc(Nc,e,i,a,o,c),!0;case"pointerover":var s=c.pointerId;return Oc.set(s,Tc(Oc.get(s)||null,e,i,a,o,c)),!0;case"gotpointercapture":return s=c.pointerId,Pc.set(s,Tc(Pc.get(s)||null,e,i,a,o,c)),!0}return!1}function Vc(e){var i=Wc(e.target);if(i!==null){var a=Vb(i);if(a!==null){if(i=a.tag,i===13){if(i=Wb(a),i!==null){e.blockedOn=i,Ic(e.priority,function(){Gc(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Xc(e){if(e.blockedOn!==null)return!1;for(var i=e.targetContainers;0<i.length;){var a=Yc(e.domEventName,e.eventSystemFlags,i[0],e.nativeEvent);if(a===null){a=e.nativeEvent;var o=new a.constructor(a.type,a);wb=o,a.target.dispatchEvent(o),wb=null}else return i=Cb(a),i!==null&&Fc(i),e.blockedOn=a,!1;i.shift()}return!0}function Zc(e,i,a){Xc(e)&&a.delete(i)}function $c(){Jc=!1,Lc!==null&&Xc(Lc)&&(Lc=null),Mc!==null&&Xc(Mc)&&(Mc=null),Nc!==null&&Xc(Nc)&&(Nc=null),Oc.forEach(Zc),Pc.forEach(Zc)}function ad(e,i){e.blockedOn===i&&(e.blockedOn=null,Jc||(Jc=!0,ca.unstable_scheduleCallback(ca.unstable_NormalPriority,$c)))}function bd(e){function i(c){return ad(c,e)}if(0<Kc.length){ad(Kc[0],e);for(var a=1;a<Kc.length;a++){var o=Kc[a];o.blockedOn===e&&(o.blockedOn=null)}}for(Lc!==null&&ad(Lc,e),Mc!==null&&ad(Mc,e),Nc!==null&&ad(Nc,e),Oc.forEach(i),Pc.forEach(i),a=0;a<Qc.length;a++)o=Qc[a],o.blockedOn===e&&(o.blockedOn=null);for(;0<Qc.length&&(a=Qc[0],a.blockedOn===null);)Vc(a),a.blockedOn===null&&Qc.shift()}var cd=ua.ReactCurrentBatchConfig,dd=!0;function ed(e,i,a,o){var c=C,s=cd.transition;cd.transition=null;try{C=1,fd(e,i,a,o)}finally{C=c,cd.transition=s}}function gd(e,i,a,o){var c=C,s=cd.transition;cd.transition=null;try{C=4,fd(e,i,a,o)}finally{C=c,cd.transition=s}}function fd(e,i,a,o){if(dd){var c=Yc(e,i,a,o);if(c===null)hd(e,i,o,id,a),Sc(e,o);else if(Uc(c,e,i,a,o))o.stopPropagation();else if(Sc(e,o),i&4&&-1<Rc.indexOf(e)){for(;c!==null;){var s=Cb(c);if(s!==null&&Ec(s),s=Yc(e,i,a,o),s===null&&hd(e,i,o,id,a),s===c)break;c=s}c!==null&&o.stopPropagation()}else hd(e,i,o,null,a)}}var id=null;function Yc(e,i,a,o){if(id=null,e=xb(o),e=Wc(e),e!==null)if(i=Vb(e),i===null)e=null;else if(a=i.tag,a===13){if(e=Wb(i),e!==null)return e;e=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;e=null}else i!==e&&(e=null);return id=e,null}function jd(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ec()){case fc:return 1;case gc:return 4;case hc:case ic:return 16;case jc:return 536870912;default:return 16}default:return 16}}var kd=null,ld=null,md=null;function nd(){if(md)return md;var e,i=ld,a=i.length,o,c="value"in kd?kd.value:kd.textContent,s=c.length;for(e=0;e<a&&i[e]===c[e];e++);var d=a-e;for(o=1;o<=d&&i[a-o]===c[s-o];o++);return md=c.slice(e,1<o?1-o:void 0)}function od(e){var i=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&i===13&&(e=13)):e=i,e===10&&(e=13),32<=e||e===13?e:0}function pd(){return!0}function qd(){return!1}function rd(e){function i(a,o,c,s,d){this._reactName=a,this._targetInst=c,this.type=o,this.nativeEvent=s,this.target=d,this.currentTarget=null;for(var et in e)e.hasOwnProperty(et)&&(a=e[et],this[et]=a?a(s):s[et]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?pd:qd,this.isPropagationStopped=qd,this}return A(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=pd)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=pd)},persist:function(){},isPersistent:pd}),i}var sd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},td=rd(sd),ud=A({},sd,{view:0,detail:0}),vd=rd(ud),wd,xd,yd,Ad=A({},ud,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zd,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==yd&&(yd&&e.type==="mousemove"?(wd=e.screenX-yd.screenX,xd=e.screenY-yd.screenY):xd=wd=0,yd=e),wd)},movementY:function(e){return"movementY"in e?e.movementY:xd}}),Bd=rd(Ad),Cd=A({},Ad,{dataTransfer:0}),Dd=rd(Cd),Ed=A({},ud,{relatedTarget:0}),Fd=rd(Ed),Gd=A({},sd,{animationName:0,elapsedTime:0,pseudoElement:0}),Hd=rd(Gd),Id=A({},sd,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Jd=rd(Id),Kd=A({},sd,{data:0}),Ld=rd(Kd),Md={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Od={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pd(e){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(e):(e=Od[e])?!!i[e]:!1}function zd(){return Pd}var Qd=A({},ud,{key:function(e){if(e.key){var i=Md[e.key]||e.key;if(i!=="Unidentified")return i}return e.type==="keypress"?(e=od(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Nd[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zd,charCode:function(e){return e.type==="keypress"?od(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?od(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Rd=rd(Qd),Sd=A({},Ad,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Td=rd(Sd),Ud=A({},ud,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zd}),Vd=rd(Ud),Wd=A({},sd,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xd=rd(Wd),Yd=A({},Ad,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Zd=rd(Yd),$d=[9,13,27,32],ae=ia&&"CompositionEvent"in window,be=null;ia&&"documentMode"in document&&(be=document.documentMode);var ce=ia&&"TextEvent"in window&&!be,de=ia&&(!ae||be&&8<be&&11>=be),ee=" ",fe=!1;function ge(e,i){switch(e){case"keyup":return $d.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function he(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ie=!1;function je(e,i){switch(e){case"compositionend":return he(i);case"keypress":return i.which!==32?null:(fe=!0,ee);case"textInput":return e=i.data,e===ee&&fe?null:e;default:return null}}function ke(e,i){if(ie)return e==="compositionend"||!ae&&ge(e,i)?(e=nd(),md=ld=kd=null,ie=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return de&&i.locale!=="ko"?null:i.data;default:return null}}var le={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function me(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i==="input"?!!le[e.type]:i==="textarea"}function ne(e,i,a,o){Eb(o),i=oe(i,"onChange"),0<i.length&&(a=new td("onChange","change",null,a,o),e.push({event:a,listeners:i}))}var pe=null,qe=null;function re(e){se(e,0)}function te(e){var i=ue(e);if(Wa(i))return e}function ve(e,i){if(e==="change")return i}var we=!1;if(ia){var xe;if(ia){var ye="oninput"in document;if(!ye){var ze=document.createElement("div");ze.setAttribute("oninput","return;"),ye=typeof ze.oninput=="function"}xe=ye}else xe=!1;we=xe&&(!document.documentMode||9<document.documentMode)}function Ae(){pe&&(pe.detachEvent("onpropertychange",Be),qe=pe=null)}function Be(e){if(e.propertyName==="value"&&te(qe)){var i=[];ne(i,qe,e,xb(e)),Jb(re,i)}}function Ce(e,i,a){e==="focusin"?(Ae(),pe=i,qe=a,pe.attachEvent("onpropertychange",Be)):e==="focusout"&&Ae()}function De(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return te(qe)}function Ee(e,i){if(e==="click")return te(i)}function Fe(e,i){if(e==="input"||e==="change")return te(i)}function Ge(e,i){return e===i&&(e!==0||1/e===1/i)||e!==e&&i!==i}var He=typeof Object.is=="function"?Object.is:Ge;function Ie(e,i){if(He(e,i))return!0;if(typeof e!="object"||e===null||typeof i!="object"||i===null)return!1;var a=Object.keys(e),o=Object.keys(i);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++){var c=a[o];if(!ja.call(i,c)||!He(e[c],i[c]))return!1}return!0}function Je(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ke(e,i){var a=Je(e);e=0;for(var o;a;){if(a.nodeType===3){if(o=e+a.textContent.length,e<=i&&o>=i)return{node:a,offset:i-e};e=o}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Je(a)}}function Le(e,i){return e&&i?e===i?!0:e&&e.nodeType===3?!1:i&&i.nodeType===3?Le(e,i.parentNode):"contains"in e?e.contains(i):e.compareDocumentPosition?!!(e.compareDocumentPosition(i)&16):!1:!1}function Me(){for(var e=window,i=Xa();i instanceof e.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)e=i.contentWindow;else break;i=Xa(e.document)}return i}function Ne(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i&&(i==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||i==="textarea"||e.contentEditable==="true")}function Oe(e){var i=Me(),a=e.focusedElem,o=e.selectionRange;if(i!==a&&a&&a.ownerDocument&&Le(a.ownerDocument.documentElement,a)){if(o!==null&&Ne(a)){if(i=o.start,e=o.end,e===void 0&&(e=i),"selectionStart"in a)a.selectionStart=i,a.selectionEnd=Math.min(e,a.value.length);else if(e=(i=a.ownerDocument||document)&&i.defaultView||window,e.getSelection){e=e.getSelection();var c=a.textContent.length,s=Math.min(o.start,c);o=o.end===void 0?s:Math.min(o.end,c),!e.extend&&s>o&&(c=o,o=s,s=c),c=Ke(a,s);var d=Ke(a,o);c&&d&&(e.rangeCount!==1||e.anchorNode!==c.node||e.anchorOffset!==c.offset||e.focusNode!==d.node||e.focusOffset!==d.offset)&&(i=i.createRange(),i.setStart(c.node,c.offset),e.removeAllRanges(),s>o?(e.addRange(i),e.extend(d.node,d.offset)):(i.setEnd(d.node,d.offset),e.addRange(i)))}}for(i=[],e=a;e=e.parentNode;)e.nodeType===1&&i.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<i.length;a++)e=i[a],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Pe=ia&&"documentMode"in document&&11>=document.documentMode,Qe=null,Re=null,Se=null,Te=!1;function Ue(e,i,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Te||Qe==null||Qe!==Xa(o)||(o=Qe,"selectionStart"in o&&Ne(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Se&&Ie(Se,o)||(Se=o,o=oe(Re,"onSelect"),0<o.length&&(i=new td("onSelect","select",null,i,a),e.push({event:i,listeners:o}),i.target=Qe)))}function Ve(e,i){var a={};return a[e.toLowerCase()]=i.toLowerCase(),a["Webkit"+e]="webkit"+i,a["Moz"+e]="moz"+i,a}var We={animationend:Ve("Animation","AnimationEnd"),animationiteration:Ve("Animation","AnimationIteration"),animationstart:Ve("Animation","AnimationStart"),transitionend:Ve("Transition","TransitionEnd")},Xe={},Ye={};ia&&(Ye=document.createElement("div").style,"AnimationEvent"in window||(delete We.animationend.animation,delete We.animationiteration.animation,delete We.animationstart.animation),"TransitionEvent"in window||delete We.transitionend.transition);function Ze(e){if(Xe[e])return Xe[e];if(!We[e])return e;var i=We[e],a;for(a in i)if(i.hasOwnProperty(a)&&a in Ye)return Xe[e]=i[a];return e}var $e=Ze("animationend"),af=Ze("animationiteration"),bf=Ze("animationstart"),cf=Ze("transitionend"),df=new Map,ef="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ff(e,i){df.set(e,i),fa(i,[e])}for(var gf=0;gf<ef.length;gf++){var hf=ef[gf],jf=hf.toLowerCase(),kf=hf[0].toUpperCase()+hf.slice(1);ff(jf,"on"+kf)}ff($e,"onAnimationEnd");ff(af,"onAnimationIteration");ff(bf,"onAnimationStart");ff("dblclick","onDoubleClick");ff("focusin","onFocus");ff("focusout","onBlur");ff(cf,"onTransitionEnd");ha("onMouseEnter",["mouseout","mouseover"]);ha("onMouseLeave",["mouseout","mouseover"]);ha("onPointerEnter",["pointerout","pointerover"]);ha("onPointerLeave",["pointerout","pointerover"]);fa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fa("onBeforeInput",["compositionend","keypress","textInput","paste"]);fa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mf=new Set("cancel close invalid load scroll toggle".split(" ").concat(lf));function nf(e,i,a){var o=e.type||"unknown-event";e.currentTarget=a,Ub(o,i,void 0,e),e.currentTarget=null}function se(e,i){i=(i&4)!==0;for(var a=0;a<e.length;a++){var o=e[a],c=o.event;o=o.listeners;e:{var s=void 0;if(i)for(var d=o.length-1;0<=d;d--){var et=o[d],h=et.instance,_e=et.currentTarget;if(et=et.listener,h!==s&&c.isPropagationStopped())break e;nf(c,et,_e),s=h}else for(d=0;d<o.length;d++){if(et=o[d],h=et.instance,_e=et.currentTarget,et=et.listener,h!==s&&c.isPropagationStopped())break e;nf(c,et,_e),s=h}}}if(Qb)throw e=Rb,Qb=!1,Rb=null,e}function D(e,i){var a=i[of];a===void 0&&(a=i[of]=new Set);var o=e+"__bubble";a.has(o)||(pf(i,e,2,!1),a.add(o))}function qf(e,i,a){var o=0;i&&(o|=4),pf(a,e,o,i)}var rf="_reactListening"+Math.random().toString(36).slice(2);function sf(e){if(!e[rf]){e[rf]=!0,da.forEach(function(a){a!=="selectionchange"&&(mf.has(a)||qf(a,!1,e),qf(a,!0,e))});var i=e.nodeType===9?e:e.ownerDocument;i===null||i[rf]||(i[rf]=!0,qf("selectionchange",!1,i))}}function pf(e,i,a,o){switch(jd(i)){case 1:var c=ed;break;case 4:c=gd;break;default:c=fd}a=c.bind(null,i,a,e),c=void 0,!Lb||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(c=!0),o?c!==void 0?e.addEventListener(i,a,{capture:!0,passive:c}):e.addEventListener(i,a,!0):c!==void 0?e.addEventListener(i,a,{passive:c}):e.addEventListener(i,a,!1)}function hd(e,i,a,o,c){var s=o;if(!(i&1)&&!(i&2)&&o!==null)e:for(;;){if(o===null)return;var d=o.tag;if(d===3||d===4){var et=o.stateNode.containerInfo;if(et===c||et.nodeType===8&&et.parentNode===c)break;if(d===4)for(d=o.return;d!==null;){var h=d.tag;if((h===3||h===4)&&(h=d.stateNode.containerInfo,h===c||h.nodeType===8&&h.parentNode===c))return;d=d.return}for(;et!==null;){if(d=Wc(et),d===null)return;if(h=d.tag,h===5||h===6){o=s=d;continue e}et=et.parentNode}}o=o.return}Jb(function(){var _e=s,_=xb(a),ct=[];e:{var ut=df.get(e);if(ut!==void 0){var ot=td,lt=e;switch(e){case"keypress":if(od(a)===0)break e;case"keydown":case"keyup":ot=Rd;break;case"focusin":lt="focus",ot=Fd;break;case"focusout":lt="blur",ot=Fd;break;case"beforeblur":case"afterblur":ot=Fd;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ot=Bd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ot=Dd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ot=Vd;break;case $e:case af:case bf:ot=Hd;break;case cf:ot=Xd;break;case"scroll":ot=vd;break;case"wheel":ot=Zd;break;case"copy":case"cut":case"paste":ot=Jd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ot=Td}var gt=(i&4)!==0,mt=!gt&&e==="scroll",j=gt?ut!==null?ut+"Capture":null:ut;gt=[];for(var b=_e,ft;b!==null;){ft=b;var pt=ft.stateNode;if(ft.tag===5&&pt!==null&&(ft=pt,j!==null&&(pt=Kb(b,j),pt!=null&&gt.push(tf(b,pt,ft)))),mt)break;b=b.return}0<gt.length&&(ut=new ot(ut,lt,null,a,_),ct.push({event:ut,listeners:gt}))}}if(!(i&7)){e:{if(ut=e==="mouseover"||e==="pointerover",ot=e==="mouseout"||e==="pointerout",ut&&a!==wb&&(lt=a.relatedTarget||a.fromElement)&&(Wc(lt)||lt[uf]))break e;if((ot||ut)&&(ut=_.window===_?_:(ut=_.ownerDocument)?ut.defaultView||ut.parentWindow:window,ot?(lt=a.relatedTarget||a.toElement,ot=_e,lt=lt?Wc(lt):null,lt!==null&&(mt=Vb(lt),lt!==mt||lt.tag!==5&&lt.tag!==6)&&(lt=null)):(ot=null,lt=_e),ot!==lt)){if(gt=Bd,pt="onMouseLeave",j="onMouseEnter",b="mouse",(e==="pointerout"||e==="pointerover")&&(gt=Td,pt="onPointerLeave",j="onPointerEnter",b="pointer"),mt=ot==null?ut:ue(ot),ft=lt==null?ut:ue(lt),ut=new gt(pt,b+"leave",ot,a,_),ut.target=mt,ut.relatedTarget=ft,pt=null,Wc(_)===_e&&(gt=new gt(j,b+"enter",lt,a,_),gt.target=ft,gt.relatedTarget=mt,pt=gt),mt=pt,ot&&lt)t:{for(gt=ot,j=lt,b=0,ft=gt;ft;ft=vf(ft))b++;for(ft=0,pt=j;pt;pt=vf(pt))ft++;for(;0<b-ft;)gt=vf(gt),b--;for(;0<ft-b;)j=vf(j),ft--;for(;b--;){if(gt===j||j!==null&&gt===j.alternate)break t;gt=vf(gt),j=vf(j)}gt=null}else gt=null;ot!==null&&wf(ct,ut,ot,gt,!1),lt!==null&&mt!==null&&wf(ct,mt,lt,gt,!0)}}e:{if(ut=_e?ue(_e):window,ot=ut.nodeName&&ut.nodeName.toLowerCase(),ot==="select"||ot==="input"&&ut.type==="file")var nt=ve;else if(me(ut))if(we)nt=Fe;else{nt=De;var $=Ce}else(ot=ut.nodeName)&&ot.toLowerCase()==="input"&&(ut.type==="checkbox"||ut.type==="radio")&&(nt=Ee);if(nt&&(nt=nt(e,_e))){ne(ct,nt,a,_);break e}$&&$(e,ut,_e),e==="focusout"&&($=ut._wrapperState)&&$.controlled&&ut.type==="number"&&cb(ut,"number",ut.value)}switch($=_e?ue(_e):window,e){case"focusin":(me($)||$.contentEditable==="true")&&(Qe=$,Re=_e,Se=null);break;case"focusout":Se=Re=Qe=null;break;case"mousedown":Te=!0;break;case"contextmenu":case"mouseup":case"dragend":Te=!1,Ue(ct,a,_);break;case"selectionchange":if(Pe)break;case"keydown":case"keyup":Ue(ct,a,_)}var rt;if(ae)e:{switch(e){case"compositionstart":var it="onCompositionStart";break e;case"compositionend":it="onCompositionEnd";break e;case"compositionupdate":it="onCompositionUpdate";break e}it=void 0}else ie?ge(e,a)&&(it="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(it="onCompositionStart");it&&(de&&a.locale!=="ko"&&(ie||it!=="onCompositionStart"?it==="onCompositionEnd"&&ie&&(rt=nd()):(kd=_,ld="value"in kd?kd.value:kd.textContent,ie=!0)),$=oe(_e,it),0<$.length&&(it=new Ld(it,e,null,a,_),ct.push({event:it,listeners:$}),rt?it.data=rt:(rt=he(a),rt!==null&&(it.data=rt)))),(rt=ce?je(e,a):ke(e,a))&&(_e=oe(_e,"onBeforeInput"),0<_e.length&&(_=new Ld("onBeforeInput","beforeinput",null,a,_),ct.push({event:_,listeners:_e}),_.data=rt))}se(ct,i)})}function tf(e,i,a){return{instance:e,listener:i,currentTarget:a}}function oe(e,i){for(var a=i+"Capture",o=[];e!==null;){var c=e,s=c.stateNode;c.tag===5&&s!==null&&(c=s,s=Kb(e,a),s!=null&&o.unshift(tf(e,s,c)),s=Kb(e,i),s!=null&&o.push(tf(e,s,c))),e=e.return}return o}function vf(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function wf(e,i,a,o,c){for(var s=i._reactName,d=[];a!==null&&a!==o;){var et=a,h=et.alternate,_e=et.stateNode;if(h!==null&&h===o)break;et.tag===5&&_e!==null&&(et=_e,c?(h=Kb(a,s),h!=null&&d.unshift(tf(a,h,et))):c||(h=Kb(a,s),h!=null&&d.push(tf(a,h,et)))),a=a.return}d.length!==0&&e.push({event:i,listeners:d})}var xf=/\r\n?/g,yf=/\u0000|\uFFFD/g;function zf(e){return(typeof e=="string"?e:""+e).replace(xf,`
`).replace(yf,"")}function Af(e,i,a){if(i=zf(i),zf(e)!==i&&a)throw Error(p(425))}function Bf(){}var Cf=null,Df=null;function Ef(e,i){return e==="textarea"||e==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Ff=typeof setTimeout=="function"?setTimeout:void 0,Gf=typeof clearTimeout=="function"?clearTimeout:void 0,Hf=typeof Promise=="function"?Promise:void 0,Jf=typeof queueMicrotask=="function"?queueMicrotask:typeof Hf<"u"?function(e){return Hf.resolve(null).then(e).catch(If)}:Ff;function If(e){setTimeout(function(){throw e})}function Kf(e,i){var a=i,o=0;do{var c=a.nextSibling;if(e.removeChild(a),c&&c.nodeType===8)if(a=c.data,a==="/$"){if(o===0){e.removeChild(c),bd(i);return}o--}else a!=="$"&&a!=="$?"&&a!=="$!"||o++;a=c}while(a);bd(i)}function Lf(e){for(;e!=null;e=e.nextSibling){var i=e.nodeType;if(i===1||i===3)break;if(i===8){if(i=e.data,i==="$"||i==="$!"||i==="$?")break;if(i==="/$")return null}}return e}function Mf(e){e=e.previousSibling;for(var i=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return e;i--}else a==="/$"&&i++}e=e.previousSibling}return null}var Nf=Math.random().toString(36).slice(2),Of="__reactFiber$"+Nf,Pf="__reactProps$"+Nf,uf="__reactContainer$"+Nf,of="__reactEvents$"+Nf,Qf="__reactListeners$"+Nf,Rf="__reactHandles$"+Nf;function Wc(e){var i=e[Of];if(i)return i;for(var a=e.parentNode;a;){if(i=a[uf]||a[Of]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(e=Mf(e);e!==null;){if(a=e[Of])return a;e=Mf(e)}return i}e=a,a=e.parentNode}return null}function Cb(e){return e=e[Of]||e[uf],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ue(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(p(33))}function Db(e){return e[Pf]||null}var Sf=[],Tf=-1;function Uf(e){return{current:e}}function E(e){0>Tf||(e.current=Sf[Tf],Sf[Tf]=null,Tf--)}function G(e,i){Tf++,Sf[Tf]=e.current,e.current=i}var Vf={},H=Uf(Vf),Wf=Uf(!1),Xf=Vf;function Yf(e,i){var a=e.type.contextTypes;if(!a)return Vf;var o=e.stateNode;if(o&&o.__reactInternalMemoizedUnmaskedChildContext===i)return o.__reactInternalMemoizedMaskedChildContext;var c={},s;for(s in a)c[s]=i[s];return o&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=c),c}function Zf(e){return e=e.childContextTypes,e!=null}function $f(){E(Wf),E(H)}function ag(e,i,a){if(H.current!==Vf)throw Error(p(168));G(H,i),G(Wf,a)}function bg(e,i,a){var o=e.stateNode;if(i=i.childContextTypes,typeof o.getChildContext!="function")return a;o=o.getChildContext();for(var c in o)if(!(c in i))throw Error(p(108,Ra(e)||"Unknown",c));return A({},a,o)}function cg(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Vf,Xf=H.current,G(H,e),G(Wf,Wf.current),!0}function dg(e,i,a){var o=e.stateNode;if(!o)throw Error(p(169));a?(e=bg(e,i,Xf),o.__reactInternalMemoizedMergedChildContext=e,E(Wf),E(H),G(H,e)):E(Wf),G(Wf,a)}var eg=null,fg=!1,gg=!1;function hg(e){eg===null?eg=[e]:eg.push(e)}function ig(e){fg=!0,hg(e)}function jg(){if(!gg&&eg!==null){gg=!0;var e=0,i=C;try{var a=eg;for(C=1;e<a.length;e++){var o=a[e];do o=o(!0);while(o!==null)}eg=null,fg=!1}catch(c){throw eg!==null&&(eg=eg.slice(e+1)),ac(fc,jg),c}finally{C=i,gg=!1}}return null}var kg=[],lg=0,mg=null,ng=0,og=[],pg=0,qg=null,rg=1,sg="";function tg(e,i){kg[lg++]=ng,kg[lg++]=mg,mg=e,ng=i}function ug(e,i,a){og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,qg=e;var o=rg;e=sg;var c=32-oc(o)-1;o&=~(1<<c),a+=1;var s=32-oc(i)+c;if(30<s){var d=c-c%5;s=(o&(1<<d)-1).toString(32),o>>=d,c-=d,rg=1<<32-oc(i)+c|a<<c|o,sg=s+e}else rg=1<<s|a<<c|o,sg=e}function vg(e){e.return!==null&&(tg(e,1),ug(e,1,0))}function wg(e){for(;e===mg;)mg=kg[--lg],kg[lg]=null,ng=kg[--lg],kg[lg]=null;for(;e===qg;)qg=og[--pg],og[pg]=null,sg=og[--pg],og[pg]=null,rg=og[--pg],og[pg]=null}var xg=null,yg=null,I=!1,zg=null;function Ag(e,i){var a=Bg(5,null,null,0);a.elementType="DELETED",a.stateNode=i,a.return=e,i=e.deletions,i===null?(e.deletions=[a],e.flags|=16):i.push(a)}function Cg(e,i){switch(e.tag){case 5:var a=e.type;return i=i.nodeType!==1||a.toLowerCase()!==i.nodeName.toLowerCase()?null:i,i!==null?(e.stateNode=i,xg=e,yg=Lf(i.firstChild),!0):!1;case 6:return i=e.pendingProps===""||i.nodeType!==3?null:i,i!==null?(e.stateNode=i,xg=e,yg=null,!0):!1;case 13:return i=i.nodeType!==8?null:i,i!==null?(a=qg!==null?{id:rg,overflow:sg}:null,e.memoizedState={dehydrated:i,treeContext:a,retryLane:1073741824},a=Bg(18,null,null,0),a.stateNode=i,a.return=e,e.child=a,xg=e,yg=null,!0):!1;default:return!1}}function Dg(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Eg(e){if(I){var i=yg;if(i){var a=i;if(!Cg(e,i)){if(Dg(e))throw Error(p(418));i=Lf(a.nextSibling);var o=xg;i&&Cg(e,i)?Ag(o,a):(e.flags=e.flags&-4097|2,I=!1,xg=e)}}else{if(Dg(e))throw Error(p(418));e.flags=e.flags&-4097|2,I=!1,xg=e}}}function Fg(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;xg=e}function Gg(e){if(e!==xg)return!1;if(!I)return Fg(e),I=!0,!1;var i;if((i=e.tag!==3)&&!(i=e.tag!==5)&&(i=e.type,i=i!=="head"&&i!=="body"&&!Ef(e.type,e.memoizedProps)),i&&(i=yg)){if(Dg(e))throw Hg(),Error(p(418));for(;i;)Ag(e,i),i=Lf(i.nextSibling)}if(Fg(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(p(317));e:{for(e=e.nextSibling,i=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"){if(i===0){yg=Lf(e.nextSibling);break e}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++}e=e.nextSibling}yg=null}}else yg=xg?Lf(e.stateNode.nextSibling):null;return!0}function Hg(){for(var e=yg;e;)e=Lf(e.nextSibling)}function Ig(){yg=xg=null,I=!1}function Jg(e){zg===null?zg=[e]:zg.push(e)}var Kg=ua.ReactCurrentBatchConfig;function Lg(e,i,a){if(e=a.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(a._owner){if(a=a._owner,a){if(a.tag!==1)throw Error(p(309));var o=a.stateNode}if(!o)throw Error(p(147,e));var c=o,s=""+e;return i!==null&&i.ref!==null&&typeof i.ref=="function"&&i.ref._stringRef===s?i.ref:(i=function(d){var et=c.refs;d===null?delete et[s]:et[s]=d},i._stringRef=s,i)}if(typeof e!="string")throw Error(p(284));if(!a._owner)throw Error(p(290,e))}return e}function Mg(e,i){throw e=Object.prototype.toString.call(i),Error(p(31,e==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":e))}function Ng(e){var i=e._init;return i(e._payload)}function Og(e){function i(j,b){if(e){var ft=j.deletions;ft===null?(j.deletions=[b],j.flags|=16):ft.push(b)}}function a(j,b){if(!e)return null;for(;b!==null;)i(j,b),b=b.sibling;return null}function o(j,b){for(j=new Map;b!==null;)b.key!==null?j.set(b.key,b):j.set(b.index,b),b=b.sibling;return j}function c(j,b){return j=Pg(j,b),j.index=0,j.sibling=null,j}function s(j,b,ft){return j.index=ft,e?(ft=j.alternate,ft!==null?(ft=ft.index,ft<b?(j.flags|=2,b):ft):(j.flags|=2,b)):(j.flags|=1048576,b)}function d(j){return e&&j.alternate===null&&(j.flags|=2),j}function et(j,b,ft,pt){return b===null||b.tag!==6?(b=Qg(ft,j.mode,pt),b.return=j,b):(b=c(b,ft),b.return=j,b)}function h(j,b,ft,pt){var nt=ft.type;return nt===ya?_(j,b,ft.props.children,pt,ft.key):b!==null&&(b.elementType===nt||typeof nt=="object"&&nt!==null&&nt.$$typeof===Ha&&Ng(nt)===b.type)?(pt=c(b,ft.props),pt.ref=Lg(j,b,ft),pt.return=j,pt):(pt=Rg(ft.type,ft.key,ft.props,null,j.mode,pt),pt.ref=Lg(j,b,ft),pt.return=j,pt)}function _e(j,b,ft,pt){return b===null||b.tag!==4||b.stateNode.containerInfo!==ft.containerInfo||b.stateNode.implementation!==ft.implementation?(b=Sg(ft,j.mode,pt),b.return=j,b):(b=c(b,ft.children||[]),b.return=j,b)}function _(j,b,ft,pt,nt){return b===null||b.tag!==7?(b=Tg(ft,j.mode,pt,nt),b.return=j,b):(b=c(b,ft),b.return=j,b)}function ct(j,b,ft){if(typeof b=="string"&&b!==""||typeof b=="number")return b=Qg(""+b,j.mode,ft),b.return=j,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case va:return ft=Rg(b.type,b.key,b.props,null,j.mode,ft),ft.ref=Lg(j,null,b),ft.return=j,ft;case wa:return b=Sg(b,j.mode,ft),b.return=j,b;case Ha:var pt=b._init;return ct(j,pt(b._payload),ft)}if(eb(b)||Ka(b))return b=Tg(b,j.mode,ft,null),b.return=j,b;Mg(j,b)}return null}function ut(j,b,ft,pt){var nt=b!==null?b.key:null;if(typeof ft=="string"&&ft!==""||typeof ft=="number")return nt!==null?null:et(j,b,""+ft,pt);if(typeof ft=="object"&&ft!==null){switch(ft.$$typeof){case va:return ft.key===nt?h(j,b,ft,pt):null;case wa:return ft.key===nt?_e(j,b,ft,pt):null;case Ha:return nt=ft._init,ut(j,b,nt(ft._payload),pt)}if(eb(ft)||Ka(ft))return nt!==null?null:_(j,b,ft,pt,null);Mg(j,ft)}return null}function ot(j,b,ft,pt,nt){if(typeof pt=="string"&&pt!==""||typeof pt=="number")return j=j.get(ft)||null,et(b,j,""+pt,nt);if(typeof pt=="object"&&pt!==null){switch(pt.$$typeof){case va:return j=j.get(pt.key===null?ft:pt.key)||null,h(b,j,pt,nt);case wa:return j=j.get(pt.key===null?ft:pt.key)||null,_e(b,j,pt,nt);case Ha:var $=pt._init;return ot(j,b,ft,$(pt._payload),nt)}if(eb(pt)||Ka(pt))return j=j.get(ft)||null,_(b,j,pt,nt,null);Mg(b,pt)}return null}function lt(j,b,ft,pt){for(var nt=null,$=null,rt=b,it=b=0,dt=null;rt!==null&&it<ft.length;it++){rt.index>it?(dt=rt,rt=null):dt=rt.sibling;var At=ut(j,rt,ft[it],pt);if(At===null){rt===null&&(rt=dt);break}e&&rt&&At.alternate===null&&i(j,rt),b=s(At,b,it),$===null?nt=At:$.sibling=At,$=At,rt=dt}if(it===ft.length)return a(j,rt),I&&tg(j,it),nt;if(rt===null){for(;it<ft.length;it++)rt=ct(j,ft[it],pt),rt!==null&&(b=s(rt,b,it),$===null?nt=rt:$.sibling=rt,$=rt);return I&&tg(j,it),nt}for(rt=o(j,rt);it<ft.length;it++)dt=ot(rt,j,it,ft[it],pt),dt!==null&&(e&&dt.alternate!==null&&rt.delete(dt.key===null?it:dt.key),b=s(dt,b,it),$===null?nt=dt:$.sibling=dt,$=dt);return e&&rt.forEach(function(ht){return i(j,ht)}),I&&tg(j,it),nt}function gt(j,b,ft,pt){var nt=Ka(ft);if(typeof nt!="function")throw Error(p(150));if(ft=nt.call(ft),ft==null)throw Error(p(151));for(var $=nt=null,rt=b,it=b=0,dt=null,At=ft.next();rt!==null&&!At.done;it++,At=ft.next()){rt.index>it?(dt=rt,rt=null):dt=rt.sibling;var ht=ut(j,rt,At.value,pt);if(ht===null){rt===null&&(rt=dt);break}e&&rt&&ht.alternate===null&&i(j,rt),b=s(ht,b,it),$===null?nt=ht:$.sibling=ht,$=ht,rt=dt}if(At.done)return a(j,rt),I&&tg(j,it),nt;if(rt===null){for(;!At.done;it++,At=ft.next())At=ct(j,At.value,pt),At!==null&&(b=s(At,b,it),$===null?nt=At:$.sibling=At,$=At);return I&&tg(j,it),nt}for(rt=o(j,rt);!At.done;it++,At=ft.next())At=ot(rt,j,it,At.value,pt),At!==null&&(e&&At.alternate!==null&&rt.delete(At.key===null?it:At.key),b=s(At,b,it),$===null?nt=At:$.sibling=At,$=At);return e&&rt.forEach(function(St){return i(j,St)}),I&&tg(j,it),nt}function mt(j,b,ft,pt){if(typeof ft=="object"&&ft!==null&&ft.type===ya&&ft.key===null&&(ft=ft.props.children),typeof ft=="object"&&ft!==null){switch(ft.$$typeof){case va:e:{for(var nt=ft.key,$=b;$!==null;){if($.key===nt){if(nt=ft.type,nt===ya){if($.tag===7){a(j,$.sibling),b=c($,ft.props.children),b.return=j,j=b;break e}}else if($.elementType===nt||typeof nt=="object"&&nt!==null&&nt.$$typeof===Ha&&Ng(nt)===$.type){a(j,$.sibling),b=c($,ft.props),b.ref=Lg(j,$,ft),b.return=j,j=b;break e}a(j,$);break}else i(j,$);$=$.sibling}ft.type===ya?(b=Tg(ft.props.children,j.mode,pt,ft.key),b.return=j,j=b):(pt=Rg(ft.type,ft.key,ft.props,null,j.mode,pt),pt.ref=Lg(j,b,ft),pt.return=j,j=pt)}return d(j);case wa:e:{for($=ft.key;b!==null;){if(b.key===$)if(b.tag===4&&b.stateNode.containerInfo===ft.containerInfo&&b.stateNode.implementation===ft.implementation){a(j,b.sibling),b=c(b,ft.children||[]),b.return=j,j=b;break e}else{a(j,b);break}else i(j,b);b=b.sibling}b=Sg(ft,j.mode,pt),b.return=j,j=b}return d(j);case Ha:return $=ft._init,mt(j,b,$(ft._payload),pt)}if(eb(ft))return lt(j,b,ft,pt);if(Ka(ft))return gt(j,b,ft,pt);Mg(j,ft)}return typeof ft=="string"&&ft!==""||typeof ft=="number"?(ft=""+ft,b!==null&&b.tag===6?(a(j,b.sibling),b=c(b,ft),b.return=j,j=b):(a(j,b),b=Qg(ft,j.mode,pt),b.return=j,j=b),d(j)):a(j,b)}return mt}var Ug=Og(!0),Vg=Og(!1),Wg=Uf(null),Xg=null,Yg=null,Zg=null;function $g(){Zg=Yg=Xg=null}function ah(e){var i=Wg.current;E(Wg),e._currentValue=i}function bh(e,i,a){for(;e!==null;){var o=e.alternate;if((e.childLanes&i)!==i?(e.childLanes|=i,o!==null&&(o.childLanes|=i)):o!==null&&(o.childLanes&i)!==i&&(o.childLanes|=i),e===a)break;e=e.return}}function ch(e,i){Xg=e,Zg=Yg=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&i&&(dh=!0),e.firstContext=null)}function eh(e){var i=e._currentValue;if(Zg!==e)if(e={context:e,memoizedValue:i,next:null},Yg===null){if(Xg===null)throw Error(p(308));Yg=e,Xg.dependencies={lanes:0,firstContext:e}}else Yg=Yg.next=e;return i}var fh=null;function gh(e){fh===null?fh=[e]:fh.push(e)}function hh(e,i,a,o){var c=i.interleaved;return c===null?(a.next=a,gh(i)):(a.next=c.next,c.next=a),i.interleaved=a,ih(e,o)}function ih(e,i){e.lanes|=i;var a=e.alternate;for(a!==null&&(a.lanes|=i),a=e,e=e.return;e!==null;)e.childLanes|=i,a=e.alternate,a!==null&&(a.childLanes|=i),a=e,e=e.return;return a.tag===3?a.stateNode:null}var jh=!1;function kh(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function lh(e,i){e=e.updateQueue,i.updateQueue===e&&(i.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function mh(e,i){return{eventTime:e,lane:i,tag:0,payload:null,callback:null,next:null}}function nh(e,i,a){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,K&2){var c=o.pending;return c===null?i.next=i:(i.next=c.next,c.next=i),o.pending=i,ih(e,a)}return c=o.interleaved,c===null?(i.next=i,gh(o)):(i.next=c.next,c.next=i),o.interleaved=i,ih(e,a)}function oh(e,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194240)!==0)){var o=i.lanes;o&=e.pendingLanes,a|=o,i.lanes=a,Cc(e,a)}}function ph(e,i){var a=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var c=null,s=null;if(a=a.firstBaseUpdate,a!==null){do{var d={eventTime:a.eventTime,lane:a.lane,tag:a.tag,payload:a.payload,callback:a.callback,next:null};s===null?c=s=d:s=s.next=d,a=a.next}while(a!==null);s===null?c=s=i:s=s.next=i}else c=s=i;a={baseState:o.baseState,firstBaseUpdate:c,lastBaseUpdate:s,shared:o.shared,effects:o.effects},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=i:e.next=i,a.lastBaseUpdate=i}function qh(e,i,a,o){var c=e.updateQueue;jh=!1;var s=c.firstBaseUpdate,d=c.lastBaseUpdate,et=c.shared.pending;if(et!==null){c.shared.pending=null;var h=et,_e=h.next;h.next=null,d===null?s=_e:d.next=_e,d=h;var _=e.alternate;_!==null&&(_=_.updateQueue,et=_.lastBaseUpdate,et!==d&&(et===null?_.firstBaseUpdate=_e:et.next=_e,_.lastBaseUpdate=h))}if(s!==null){var ct=c.baseState;d=0,_=_e=h=null,et=s;do{var ut=et.lane,ot=et.eventTime;if((o&ut)===ut){_!==null&&(_=_.next={eventTime:ot,lane:0,tag:et.tag,payload:et.payload,callback:et.callback,next:null});e:{var lt=e,gt=et;switch(ut=i,ot=a,gt.tag){case 1:if(lt=gt.payload,typeof lt=="function"){ct=lt.call(ot,ct,ut);break e}ct=lt;break e;case 3:lt.flags=lt.flags&-65537|128;case 0:if(lt=gt.payload,ut=typeof lt=="function"?lt.call(ot,ct,ut):lt,ut==null)break e;ct=A({},ct,ut);break e;case 2:jh=!0}}et.callback!==null&&et.lane!==0&&(e.flags|=64,ut=c.effects,ut===null?c.effects=[et]:ut.push(et))}else ot={eventTime:ot,lane:ut,tag:et.tag,payload:et.payload,callback:et.callback,next:null},_===null?(_e=_=ot,h=ct):_=_.next=ot,d|=ut;if(et=et.next,et===null){if(et=c.shared.pending,et===null)break;ut=et,et=ut.next,ut.next=null,c.lastBaseUpdate=ut,c.shared.pending=null}}while(!0);if(_===null&&(h=ct),c.baseState=h,c.firstBaseUpdate=_e,c.lastBaseUpdate=_,i=c.shared.interleaved,i!==null){c=i;do d|=c.lane,c=c.next;while(c!==i)}else s===null&&(c.shared.lanes=0);rh|=d,e.lanes=d,e.memoizedState=ct}}function sh(e,i,a){if(e=i.effects,i.effects=null,e!==null)for(i=0;i<e.length;i++){var o=e[i],c=o.callback;if(c!==null){if(o.callback=null,o=a,typeof c!="function")throw Error(p(191,c));c.call(o)}}}var th={},uh=Uf(th),vh=Uf(th),wh=Uf(th);function xh(e){if(e===th)throw Error(p(174));return e}function yh(e,i){switch(G(wh,i),G(vh,e),G(uh,th),e=i.nodeType,e){case 9:case 11:i=(i=i.documentElement)?i.namespaceURI:lb(null,"");break;default:e=e===8?i.parentNode:i,i=e.namespaceURI||null,e=e.tagName,i=lb(i,e)}E(uh),G(uh,i)}function zh(){E(uh),E(vh),E(wh)}function Ah(e){xh(wh.current);var i=xh(uh.current),a=lb(i,e.type);i!==a&&(G(vh,e),G(uh,a))}function Bh(e){vh.current===e&&(E(uh),E(vh))}var L=Uf(0);function Ch(e){for(var i=e;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if(i.flags&128)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Dh=[];function Eh(){for(var e=0;e<Dh.length;e++)Dh[e]._workInProgressVersionPrimary=null;Dh.length=0}var Fh=ua.ReactCurrentDispatcher,Gh=ua.ReactCurrentBatchConfig,Hh=0,M=null,N=null,O=null,Ih=!1,Jh=!1,Kh=0,Lh=0;function P(){throw Error(p(321))}function Mh(e,i){if(i===null)return!1;for(var a=0;a<i.length&&a<e.length;a++)if(!He(e[a],i[a]))return!1;return!0}function Nh(e,i,a,o,c,s){if(Hh=s,M=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,Fh.current=e===null||e.memoizedState===null?Oh:Ph,e=a(o,c),Jh){s=0;do{if(Jh=!1,Kh=0,25<=s)throw Error(p(301));s+=1,O=N=null,i.updateQueue=null,Fh.current=Qh,e=a(o,c)}while(Jh)}if(Fh.current=Rh,i=N!==null&&N.next!==null,Hh=0,O=N=M=null,Ih=!1,i)throw Error(p(300));return e}function Sh(){var e=Kh!==0;return Kh=0,e}function Th(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return O===null?M.memoizedState=O=e:O=O.next=e,O}function Uh(){if(N===null){var e=M.alternate;e=e!==null?e.memoizedState:null}else e=N.next;var i=O===null?M.memoizedState:O.next;if(i!==null)O=i,N=e;else{if(e===null)throw Error(p(310));N=e,e={memoizedState:N.memoizedState,baseState:N.baseState,baseQueue:N.baseQueue,queue:N.queue,next:null},O===null?M.memoizedState=O=e:O=O.next=e}return O}function Vh(e,i){return typeof i=="function"?i(e):i}function Wh(e){var i=Uh(),a=i.queue;if(a===null)throw Error(p(311));a.lastRenderedReducer=e;var o=N,c=o.baseQueue,s=a.pending;if(s!==null){if(c!==null){var d=c.next;c.next=s.next,s.next=d}o.baseQueue=c=s,a.pending=null}if(c!==null){s=c.next,o=o.baseState;var et=d=null,h=null,_e=s;do{var _=_e.lane;if((Hh&_)===_)h!==null&&(h=h.next={lane:0,action:_e.action,hasEagerState:_e.hasEagerState,eagerState:_e.eagerState,next:null}),o=_e.hasEagerState?_e.eagerState:e(o,_e.action);else{var ct={lane:_,action:_e.action,hasEagerState:_e.hasEagerState,eagerState:_e.eagerState,next:null};h===null?(et=h=ct,d=o):h=h.next=ct,M.lanes|=_,rh|=_}_e=_e.next}while(_e!==null&&_e!==s);h===null?d=o:h.next=et,He(o,i.memoizedState)||(dh=!0),i.memoizedState=o,i.baseState=d,i.baseQueue=h,a.lastRenderedState=o}if(e=a.interleaved,e!==null){c=e;do s=c.lane,M.lanes|=s,rh|=s,c=c.next;while(c!==e)}else c===null&&(a.lanes=0);return[i.memoizedState,a.dispatch]}function Xh(e){var i=Uh(),a=i.queue;if(a===null)throw Error(p(311));a.lastRenderedReducer=e;var o=a.dispatch,c=a.pending,s=i.memoizedState;if(c!==null){a.pending=null;var d=c=c.next;do s=e(s,d.action),d=d.next;while(d!==c);He(s,i.memoizedState)||(dh=!0),i.memoizedState=s,i.baseQueue===null&&(i.baseState=s),a.lastRenderedState=s}return[s,o]}function Yh(){}function Zh(e,i){var a=M,o=Uh(),c=i(),s=!He(o.memoizedState,c);if(s&&(o.memoizedState=c,dh=!0),o=o.queue,$h(ai.bind(null,a,o,e),[e]),o.getSnapshot!==i||s||O!==null&&O.memoizedState.tag&1){if(a.flags|=2048,bi(9,ci.bind(null,a,o,c,i),void 0,null),Q===null)throw Error(p(349));Hh&30||di(a,i,c)}return c}function di(e,i,a){e.flags|=16384,e={getSnapshot:i,value:a},i=M.updateQueue,i===null?(i={lastEffect:null,stores:null},M.updateQueue=i,i.stores=[e]):(a=i.stores,a===null?i.stores=[e]:a.push(e))}function ci(e,i,a,o){i.value=a,i.getSnapshot=o,ei(i)&&fi(e)}function ai(e,i,a){return a(function(){ei(i)&&fi(e)})}function ei(e){var i=e.getSnapshot;e=e.value;try{var a=i();return!He(e,a)}catch{return!0}}function fi(e){var i=ih(e,1);i!==null&&gi(i,e,1,-1)}function hi(e){var i=Th();return typeof e=="function"&&(e=e()),i.memoizedState=i.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Vh,lastRenderedState:e},i.queue=e,e=e.dispatch=ii.bind(null,M,e),[i.memoizedState,e]}function bi(e,i,a,o){return e={tag:e,create:i,destroy:a,deps:o,next:null},i=M.updateQueue,i===null?(i={lastEffect:null,stores:null},M.updateQueue=i,i.lastEffect=e.next=e):(a=i.lastEffect,a===null?i.lastEffect=e.next=e:(o=a.next,a.next=e,e.next=o,i.lastEffect=e)),e}function ji(){return Uh().memoizedState}function ki(e,i,a,o){var c=Th();M.flags|=e,c.memoizedState=bi(1|i,a,void 0,o===void 0?null:o)}function li(e,i,a,o){var c=Uh();o=o===void 0?null:o;var s=void 0;if(N!==null){var d=N.memoizedState;if(s=d.destroy,o!==null&&Mh(o,d.deps)){c.memoizedState=bi(i,a,s,o);return}}M.flags|=e,c.memoizedState=bi(1|i,a,s,o)}function mi(e,i){return ki(8390656,8,e,i)}function $h(e,i){return li(2048,8,e,i)}function ni(e,i){return li(4,2,e,i)}function oi(e,i){return li(4,4,e,i)}function pi(e,i){if(typeof i=="function")return e=e(),i(e),function(){i(null)};if(i!=null)return e=e(),i.current=e,function(){i.current=null}}function qi(e,i,a){return a=a!=null?a.concat([e]):null,li(4,4,pi.bind(null,i,e),a)}function ri(){}function si(e,i){var a=Uh();i=i===void 0?null:i;var o=a.memoizedState;return o!==null&&i!==null&&Mh(i,o[1])?o[0]:(a.memoizedState=[e,i],e)}function ti(e,i){var a=Uh();i=i===void 0?null:i;var o=a.memoizedState;return o!==null&&i!==null&&Mh(i,o[1])?o[0]:(e=e(),a.memoizedState=[e,i],e)}function ui(e,i,a){return Hh&21?(He(a,i)||(a=yc(),M.lanes|=a,rh|=a,e.baseState=!0),i):(e.baseState&&(e.baseState=!1,dh=!0),e.memoizedState=a)}function vi(e,i){var a=C;C=a!==0&&4>a?a:4,e(!0);var o=Gh.transition;Gh.transition={};try{e(!1),i()}finally{C=a,Gh.transition=o}}function wi(){return Uh().memoizedState}function xi(e,i,a){var o=yi(e);if(a={lane:o,action:a,hasEagerState:!1,eagerState:null,next:null},zi(e))Ai(i,a);else if(a=hh(e,i,a,o),a!==null){var c=R();gi(a,e,o,c),Bi(a,i,o)}}function ii(e,i,a){var o=yi(e),c={lane:o,action:a,hasEagerState:!1,eagerState:null,next:null};if(zi(e))Ai(i,c);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=i.lastRenderedReducer,s!==null))try{var d=i.lastRenderedState,et=s(d,a);if(c.hasEagerState=!0,c.eagerState=et,He(et,d)){var h=i.interleaved;h===null?(c.next=c,gh(i)):(c.next=h.next,h.next=c),i.interleaved=c;return}}catch{}finally{}a=hh(e,i,c,o),a!==null&&(c=R(),gi(a,e,o,c),Bi(a,i,o))}}function zi(e){var i=e.alternate;return e===M||i!==null&&i===M}function Ai(e,i){Jh=Ih=!0;var a=e.pending;a===null?i.next=i:(i.next=a.next,a.next=i),e.pending=i}function Bi(e,i,a){if(a&4194240){var o=i.lanes;o&=e.pendingLanes,a|=o,i.lanes=a,Cc(e,a)}}var Rh={readContext:eh,useCallback:P,useContext:P,useEffect:P,useImperativeHandle:P,useInsertionEffect:P,useLayoutEffect:P,useMemo:P,useReducer:P,useRef:P,useState:P,useDebugValue:P,useDeferredValue:P,useTransition:P,useMutableSource:P,useSyncExternalStore:P,useId:P,unstable_isNewReconciler:!1},Oh={readContext:eh,useCallback:function(e,i){return Th().memoizedState=[e,i===void 0?null:i],e},useContext:eh,useEffect:mi,useImperativeHandle:function(e,i,a){return a=a!=null?a.concat([e]):null,ki(4194308,4,pi.bind(null,i,e),a)},useLayoutEffect:function(e,i){return ki(4194308,4,e,i)},useInsertionEffect:function(e,i){return ki(4,2,e,i)},useMemo:function(e,i){var a=Th();return i=i===void 0?null:i,e=e(),a.memoizedState=[e,i],e},useReducer:function(e,i,a){var o=Th();return i=a!==void 0?a(i):i,o.memoizedState=o.baseState=i,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:i},o.queue=e,e=e.dispatch=xi.bind(null,M,e),[o.memoizedState,e]},useRef:function(e){var i=Th();return e={current:e},i.memoizedState=e},useState:hi,useDebugValue:ri,useDeferredValue:function(e){return Th().memoizedState=e},useTransition:function(){var e=hi(!1),i=e[0];return e=vi.bind(null,e[1]),Th().memoizedState=e,[i,e]},useMutableSource:function(){},useSyncExternalStore:function(e,i,a){var o=M,c=Th();if(I){if(a===void 0)throw Error(p(407));a=a()}else{if(a=i(),Q===null)throw Error(p(349));Hh&30||di(o,i,a)}c.memoizedState=a;var s={value:a,getSnapshot:i};return c.queue=s,mi(ai.bind(null,o,s,e),[e]),o.flags|=2048,bi(9,ci.bind(null,o,s,a,i),void 0,null),a},useId:function(){var e=Th(),i=Q.identifierPrefix;if(I){var a=sg,o=rg;a=(o&~(1<<32-oc(o)-1)).toString(32)+a,i=":"+i+"R"+a,a=Kh++,0<a&&(i+="H"+a.toString(32)),i+=":"}else a=Lh++,i=":"+i+"r"+a.toString(32)+":";return e.memoizedState=i},unstable_isNewReconciler:!1},Ph={readContext:eh,useCallback:si,useContext:eh,useEffect:$h,useImperativeHandle:qi,useInsertionEffect:ni,useLayoutEffect:oi,useMemo:ti,useReducer:Wh,useRef:ji,useState:function(){return Wh(Vh)},useDebugValue:ri,useDeferredValue:function(e){var i=Uh();return ui(i,N.memoizedState,e)},useTransition:function(){var e=Wh(Vh)[0],i=Uh().memoizedState;return[e,i]},useMutableSource:Yh,useSyncExternalStore:Zh,useId:wi,unstable_isNewReconciler:!1},Qh={readContext:eh,useCallback:si,useContext:eh,useEffect:$h,useImperativeHandle:qi,useInsertionEffect:ni,useLayoutEffect:oi,useMemo:ti,useReducer:Xh,useRef:ji,useState:function(){return Xh(Vh)},useDebugValue:ri,useDeferredValue:function(e){var i=Uh();return N===null?i.memoizedState=e:ui(i,N.memoizedState,e)},useTransition:function(){var e=Xh(Vh)[0],i=Uh().memoizedState;return[e,i]},useMutableSource:Yh,useSyncExternalStore:Zh,useId:wi,unstable_isNewReconciler:!1};function Ci(e,i){if(e&&e.defaultProps){i=A({},i),e=e.defaultProps;for(var a in e)i[a]===void 0&&(i[a]=e[a]);return i}return i}function Di(e,i,a,o){i=e.memoizedState,a=a(o,i),a=a==null?i:A({},i,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Ei={isMounted:function(e){return(e=e._reactInternals)?Vb(e)===e:!1},enqueueSetState:function(e,i,a){e=e._reactInternals;var o=R(),c=yi(e),s=mh(o,c);s.payload=i,a!=null&&(s.callback=a),i=nh(e,s,c),i!==null&&(gi(i,e,c,o),oh(i,e,c))},enqueueReplaceState:function(e,i,a){e=e._reactInternals;var o=R(),c=yi(e),s=mh(o,c);s.tag=1,s.payload=i,a!=null&&(s.callback=a),i=nh(e,s,c),i!==null&&(gi(i,e,c,o),oh(i,e,c))},enqueueForceUpdate:function(e,i){e=e._reactInternals;var a=R(),o=yi(e),c=mh(a,o);c.tag=2,i!=null&&(c.callback=i),i=nh(e,c,o),i!==null&&(gi(i,e,o,a),oh(i,e,o))}};function Fi(e,i,a,o,c,s,d){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,s,d):i.prototype&&i.prototype.isPureReactComponent?!Ie(a,o)||!Ie(c,s):!0}function Gi(e,i,a){var o=!1,c=Vf,s=i.contextType;return typeof s=="object"&&s!==null?s=eh(s):(c=Zf(i)?Xf:H.current,o=i.contextTypes,s=(o=o!=null)?Yf(e,c):Vf),i=new i(a,s),e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=Ei,e.stateNode=i,i._reactInternals=e,o&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=c,e.__reactInternalMemoizedMaskedChildContext=s),i}function Hi(e,i,a,o){e=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,o),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,o),i.state!==e&&Ei.enqueueReplaceState(i,i.state,null)}function Ii(e,i,a,o){var c=e.stateNode;c.props=a,c.state=e.memoizedState,c.refs={},kh(e);var s=i.contextType;typeof s=="object"&&s!==null?c.context=eh(s):(s=Zf(i)?Xf:H.current,c.context=Yf(e,s)),c.state=e.memoizedState,s=i.getDerivedStateFromProps,typeof s=="function"&&(Di(e,i,s,a),c.state=e.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof c.getSnapshotBeforeUpdate=="function"||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(i=c.state,typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount(),i!==c.state&&Ei.enqueueReplaceState(c,c.state,null),qh(e,a,c,o),c.state=e.memoizedState),typeof c.componentDidMount=="function"&&(e.flags|=4194308)}function Ji(e,i){try{var a="",o=i;do a+=Pa(o),o=o.return;while(o);var c=a}catch(s){c=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:i,stack:c,digest:null}}function Ki(e,i,a){return{value:e,source:null,stack:a??null,digest:i??null}}function Li(e,i){try{console.error(i.value)}catch(a){setTimeout(function(){throw a})}}var Mi=typeof WeakMap=="function"?WeakMap:Map;function Ni(e,i,a){a=mh(-1,a),a.tag=3,a.payload={element:null};var o=i.value;return a.callback=function(){Oi||(Oi=!0,Pi=o),Li(e,i)},a}function Qi(e,i,a){a=mh(-1,a),a.tag=3;var o=e.type.getDerivedStateFromError;if(typeof o=="function"){var c=i.value;a.payload=function(){return o(c)},a.callback=function(){Li(e,i)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(a.callback=function(){Li(e,i),typeof o!="function"&&(Ri===null?Ri=new Set([this]):Ri.add(this));var d=i.stack;this.componentDidCatch(i.value,{componentStack:d!==null?d:""})}),a}function Si(e,i,a){var o=e.pingCache;if(o===null){o=e.pingCache=new Mi;var c=new Set;o.set(i,c)}else c=o.get(i),c===void 0&&(c=new Set,o.set(i,c));c.has(a)||(c.add(a),e=Ti.bind(null,e,i,a),i.then(e,e))}function Ui(e){do{var i;if((i=e.tag===13)&&(i=e.memoizedState,i=i!==null?i.dehydrated!==null:!0),i)return e;e=e.return}while(e!==null);return null}function Vi(e,i,a,o,c){return e.mode&1?(e.flags|=65536,e.lanes=c,e):(e===i?e.flags|=65536:(e.flags|=128,a.flags|=131072,a.flags&=-52805,a.tag===1&&(a.alternate===null?a.tag=17:(i=mh(-1,1),i.tag=2,nh(a,i,1))),a.lanes|=1),e)}var Wi=ua.ReactCurrentOwner,dh=!1;function Xi(e,i,a,o){i.child=e===null?Vg(i,null,a,o):Ug(i,e.child,a,o)}function Yi(e,i,a,o,c){a=a.render;var s=i.ref;return ch(i,c),o=Nh(e,i,a,o,s,c),a=Sh(),e!==null&&!dh?(i.updateQueue=e.updateQueue,i.flags&=-2053,e.lanes&=~c,Zi(e,i,c)):(I&&a&&vg(i),i.flags|=1,Xi(e,i,o,c),i.child)}function $i(e,i,a,o,c){if(e===null){var s=a.type;return typeof s=="function"&&!aj(s)&&s.defaultProps===void 0&&a.compare===null&&a.defaultProps===void 0?(i.tag=15,i.type=s,bj(e,i,s,o,c)):(e=Rg(a.type,null,o,i,i.mode,c),e.ref=i.ref,e.return=i,i.child=e)}if(s=e.child,!(e.lanes&c)){var d=s.memoizedProps;if(a=a.compare,a=a!==null?a:Ie,a(d,o)&&e.ref===i.ref)return Zi(e,i,c)}return i.flags|=1,e=Pg(s,o),e.ref=i.ref,e.return=i,i.child=e}function bj(e,i,a,o,c){if(e!==null){var s=e.memoizedProps;if(Ie(s,o)&&e.ref===i.ref)if(dh=!1,i.pendingProps=o=s,(e.lanes&c)!==0)e.flags&131072&&(dh=!0);else return i.lanes=e.lanes,Zi(e,i,c)}return cj(e,i,a,o,c)}function dj(e,i,a){var o=i.pendingProps,c=o.children,s=e!==null?e.memoizedState:null;if(o.mode==="hidden")if(!(i.mode&1))i.memoizedState={baseLanes:0,cachePool:null,transitions:null},G(ej,fj),fj|=a;else{if(!(a&1073741824))return e=s!==null?s.baseLanes|a:a,i.lanes=i.childLanes=1073741824,i.memoizedState={baseLanes:e,cachePool:null,transitions:null},i.updateQueue=null,G(ej,fj),fj|=e,null;i.memoizedState={baseLanes:0,cachePool:null,transitions:null},o=s!==null?s.baseLanes:a,G(ej,fj),fj|=o}else s!==null?(o=s.baseLanes|a,i.memoizedState=null):o=a,G(ej,fj),fj|=o;return Xi(e,i,c,a),i.child}function gj(e,i){var a=i.ref;(e===null&&a!==null||e!==null&&e.ref!==a)&&(i.flags|=512,i.flags|=2097152)}function cj(e,i,a,o,c){var s=Zf(a)?Xf:H.current;return s=Yf(i,s),ch(i,c),a=Nh(e,i,a,o,s,c),o=Sh(),e!==null&&!dh?(i.updateQueue=e.updateQueue,i.flags&=-2053,e.lanes&=~c,Zi(e,i,c)):(I&&o&&vg(i),i.flags|=1,Xi(e,i,a,c),i.child)}function hj(e,i,a,o,c){if(Zf(a)){var s=!0;cg(i)}else s=!1;if(ch(i,c),i.stateNode===null)ij(e,i),Gi(i,a,o),Ii(i,a,o,c),o=!0;else if(e===null){var d=i.stateNode,et=i.memoizedProps;d.props=et;var h=d.context,_e=a.contextType;typeof _e=="object"&&_e!==null?_e=eh(_e):(_e=Zf(a)?Xf:H.current,_e=Yf(i,_e));var _=a.getDerivedStateFromProps,ct=typeof _=="function"||typeof d.getSnapshotBeforeUpdate=="function";ct||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(et!==o||h!==_e)&&Hi(i,d,o,_e),jh=!1;var ut=i.memoizedState;d.state=ut,qh(i,o,d,c),h=i.memoizedState,et!==o||ut!==h||Wf.current||jh?(typeof _=="function"&&(Di(i,a,_,o),h=i.memoizedState),(et=jh||Fi(i,a,et,o,ut,h,_e))?(ct||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=o,i.memoizedState=h),d.props=o,d.state=h,d.context=_e,o=et):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),o=!1)}else{d=i.stateNode,lh(e,i),et=i.memoizedProps,_e=i.type===i.elementType?et:Ci(i.type,et),d.props=_e,ct=i.pendingProps,ut=d.context,h=a.contextType,typeof h=="object"&&h!==null?h=eh(h):(h=Zf(a)?Xf:H.current,h=Yf(i,h));var ot=a.getDerivedStateFromProps;(_=typeof ot=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(et!==ct||ut!==h)&&Hi(i,d,o,h),jh=!1,ut=i.memoizedState,d.state=ut,qh(i,o,d,c);var lt=i.memoizedState;et!==ct||ut!==lt||Wf.current||jh?(typeof ot=="function"&&(Di(i,a,ot,o),lt=i.memoizedState),(_e=jh||Fi(i,a,_e,o,ut,lt,h)||!1)?(_||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(o,lt,h),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(o,lt,h)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||et===e.memoizedProps&&ut===e.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||et===e.memoizedProps&&ut===e.memoizedState||(i.flags|=1024),i.memoizedProps=o,i.memoizedState=lt),d.props=o,d.state=lt,d.context=h,o=_e):(typeof d.componentDidUpdate!="function"||et===e.memoizedProps&&ut===e.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||et===e.memoizedProps&&ut===e.memoizedState||(i.flags|=1024),o=!1)}return jj(e,i,a,o,s,c)}function jj(e,i,a,o,c,s){gj(e,i);var d=(i.flags&128)!==0;if(!o&&!d)return c&&dg(i,a,!1),Zi(e,i,s);o=i.stateNode,Wi.current=i;var et=d&&typeof a.getDerivedStateFromError!="function"?null:o.render();return i.flags|=1,e!==null&&d?(i.child=Ug(i,e.child,null,s),i.child=Ug(i,null,et,s)):Xi(e,i,et,s),i.memoizedState=o.state,c&&dg(i,a,!0),i.child}function kj(e){var i=e.stateNode;i.pendingContext?ag(e,i.pendingContext,i.pendingContext!==i.context):i.context&&ag(e,i.context,!1),yh(e,i.containerInfo)}function lj(e,i,a,o,c){return Ig(),Jg(c),i.flags|=256,Xi(e,i,a,o),i.child}var mj={dehydrated:null,treeContext:null,retryLane:0};function nj(e){return{baseLanes:e,cachePool:null,transitions:null}}function oj(e,i,a){var o=i.pendingProps,c=L.current,s=!1,d=(i.flags&128)!==0,et;if((et=d)||(et=e!==null&&e.memoizedState===null?!1:(c&2)!==0),et?(s=!0,i.flags&=-129):(e===null||e.memoizedState!==null)&&(c|=1),G(L,c&1),e===null)return Eg(i),e=i.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(i.mode&1?e.data==="$!"?i.lanes=8:i.lanes=1073741824:i.lanes=1,null):(d=o.children,e=o.fallback,s?(o=i.mode,s=i.child,d={mode:"hidden",children:d},!(o&1)&&s!==null?(s.childLanes=0,s.pendingProps=d):s=pj(d,o,0,null),e=Tg(e,o,a,null),s.return=i,e.return=i,s.sibling=e,i.child=s,i.child.memoizedState=nj(a),i.memoizedState=mj,e):qj(i,d));if(c=e.memoizedState,c!==null&&(et=c.dehydrated,et!==null))return rj(e,i,d,o,et,c,a);if(s){s=o.fallback,d=i.mode,c=e.child,et=c.sibling;var h={mode:"hidden",children:o.children};return!(d&1)&&i.child!==c?(o=i.child,o.childLanes=0,o.pendingProps=h,i.deletions=null):(o=Pg(c,h),o.subtreeFlags=c.subtreeFlags&14680064),et!==null?s=Pg(et,s):(s=Tg(s,d,a,null),s.flags|=2),s.return=i,o.return=i,o.sibling=s,i.child=o,o=s,s=i.child,d=e.child.memoizedState,d=d===null?nj(a):{baseLanes:d.baseLanes|a,cachePool:null,transitions:d.transitions},s.memoizedState=d,s.childLanes=e.childLanes&~a,i.memoizedState=mj,o}return s=e.child,e=s.sibling,o=Pg(s,{mode:"visible",children:o.children}),!(i.mode&1)&&(o.lanes=a),o.return=i,o.sibling=null,e!==null&&(a=i.deletions,a===null?(i.deletions=[e],i.flags|=16):a.push(e)),i.child=o,i.memoizedState=null,o}function qj(e,i){return i=pj({mode:"visible",children:i},e.mode,0,null),i.return=e,e.child=i}function sj(e,i,a,o){return o!==null&&Jg(o),Ug(i,e.child,null,a),e=qj(i,i.pendingProps.children),e.flags|=2,i.memoizedState=null,e}function rj(e,i,a,o,c,s,d){if(a)return i.flags&256?(i.flags&=-257,o=Ki(Error(p(422))),sj(e,i,d,o)):i.memoizedState!==null?(i.child=e.child,i.flags|=128,null):(s=o.fallback,c=i.mode,o=pj({mode:"visible",children:o.children},c,0,null),s=Tg(s,c,d,null),s.flags|=2,o.return=i,s.return=i,o.sibling=s,i.child=o,i.mode&1&&Ug(i,e.child,null,d),i.child.memoizedState=nj(d),i.memoizedState=mj,s);if(!(i.mode&1))return sj(e,i,d,null);if(c.data==="$!"){if(o=c.nextSibling&&c.nextSibling.dataset,o)var et=o.dgst;return o=et,s=Error(p(419)),o=Ki(s,o,void 0),sj(e,i,d,o)}if(et=(d&e.childLanes)!==0,dh||et){if(o=Q,o!==null){switch(d&-d){case 4:c=2;break;case 16:c=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:c=32;break;case 536870912:c=268435456;break;default:c=0}c=c&(o.suspendedLanes|d)?0:c,c!==0&&c!==s.retryLane&&(s.retryLane=c,ih(e,c),gi(o,e,c,-1))}return tj(),o=Ki(Error(p(421))),sj(e,i,d,o)}return c.data==="$?"?(i.flags|=128,i.child=e.child,i=uj.bind(null,e),c._reactRetry=i,null):(e=s.treeContext,yg=Lf(c.nextSibling),xg=i,I=!0,zg=null,e!==null&&(og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,rg=e.id,sg=e.overflow,qg=i),i=qj(i,o.children),i.flags|=4096,i)}function vj(e,i,a){e.lanes|=i;var o=e.alternate;o!==null&&(o.lanes|=i),bh(e.return,i,a)}function wj(e,i,a,o,c){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:c}:(s.isBackwards=i,s.rendering=null,s.renderingStartTime=0,s.last=o,s.tail=a,s.tailMode=c)}function xj(e,i,a){var o=i.pendingProps,c=o.revealOrder,s=o.tail;if(Xi(e,i,o.children,a),o=L.current,o&2)o=o&1|2,i.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=i.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&vj(e,a,i);else if(e.tag===19)vj(e,a,i);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===i)break e;for(;e.sibling===null;){if(e.return===null||e.return===i)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}o&=1}if(G(L,o),!(i.mode&1))i.memoizedState=null;else switch(c){case"forwards":for(a=i.child,c=null;a!==null;)e=a.alternate,e!==null&&Ch(e)===null&&(c=a),a=a.sibling;a=c,a===null?(c=i.child,i.child=null):(c=a.sibling,a.sibling=null),wj(i,!1,c,a,s);break;case"backwards":for(a=null,c=i.child,i.child=null;c!==null;){if(e=c.alternate,e!==null&&Ch(e)===null){i.child=c;break}e=c.sibling,c.sibling=a,a=c,c=e}wj(i,!0,a,null,s);break;case"together":wj(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function ij(e,i){!(i.mode&1)&&e!==null&&(e.alternate=null,i.alternate=null,i.flags|=2)}function Zi(e,i,a){if(e!==null&&(i.dependencies=e.dependencies),rh|=i.lanes,!(a&i.childLanes))return null;if(e!==null&&i.child!==e.child)throw Error(p(153));if(i.child!==null){for(e=i.child,a=Pg(e,e.pendingProps),i.child=a,a.return=i;e.sibling!==null;)e=e.sibling,a=a.sibling=Pg(e,e.pendingProps),a.return=i;a.sibling=null}return i.child}function yj(e,i,a){switch(i.tag){case 3:kj(i),Ig();break;case 5:Ah(i);break;case 1:Zf(i.type)&&cg(i);break;case 4:yh(i,i.stateNode.containerInfo);break;case 10:var o=i.type._context,c=i.memoizedProps.value;G(Wg,o._currentValue),o._currentValue=c;break;case 13:if(o=i.memoizedState,o!==null)return o.dehydrated!==null?(G(L,L.current&1),i.flags|=128,null):a&i.child.childLanes?oj(e,i,a):(G(L,L.current&1),e=Zi(e,i,a),e!==null?e.sibling:null);G(L,L.current&1);break;case 19:if(o=(a&i.childLanes)!==0,e.flags&128){if(o)return xj(e,i,a);i.flags|=128}if(c=i.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),G(L,L.current),o)break;return null;case 22:case 23:return i.lanes=0,dj(e,i,a)}return Zi(e,i,a)}var zj,Aj,Bj,Cj;zj=function(e,i){for(var a=i.child;a!==null;){if(a.tag===5||a.tag===6)e.appendChild(a.stateNode);else if(a.tag!==4&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return;a=a.return}a.sibling.return=a.return,a=a.sibling}};Aj=function(){};Bj=function(e,i,a,o){var c=e.memoizedProps;if(c!==o){e=i.stateNode,xh(uh.current);var s=null;switch(a){case"input":c=Ya(e,c),o=Ya(e,o),s=[];break;case"select":c=A({},c,{value:void 0}),o=A({},o,{value:void 0}),s=[];break;case"textarea":c=gb(e,c),o=gb(e,o),s=[];break;default:typeof c.onClick!="function"&&typeof o.onClick=="function"&&(e.onclick=Bf)}ub(a,o);var d;a=null;for(_e in c)if(!o.hasOwnProperty(_e)&&c.hasOwnProperty(_e)&&c[_e]!=null)if(_e==="style"){var et=c[_e];for(d in et)et.hasOwnProperty(d)&&(a||(a={}),a[d]="")}else _e!=="dangerouslySetInnerHTML"&&_e!=="children"&&_e!=="suppressContentEditableWarning"&&_e!=="suppressHydrationWarning"&&_e!=="autoFocus"&&(ea.hasOwnProperty(_e)?s||(s=[]):(s=s||[]).push(_e,null));for(_e in o){var h=o[_e];if(et=c!=null?c[_e]:void 0,o.hasOwnProperty(_e)&&h!==et&&(h!=null||et!=null))if(_e==="style")if(et){for(d in et)!et.hasOwnProperty(d)||h&&h.hasOwnProperty(d)||(a||(a={}),a[d]="");for(d in h)h.hasOwnProperty(d)&&et[d]!==h[d]&&(a||(a={}),a[d]=h[d])}else a||(s||(s=[]),s.push(_e,a)),a=h;else _e==="dangerouslySetInnerHTML"?(h=h?h.__html:void 0,et=et?et.__html:void 0,h!=null&&et!==h&&(s=s||[]).push(_e,h)):_e==="children"?typeof h!="string"&&typeof h!="number"||(s=s||[]).push(_e,""+h):_e!=="suppressContentEditableWarning"&&_e!=="suppressHydrationWarning"&&(ea.hasOwnProperty(_e)?(h!=null&&_e==="onScroll"&&D("scroll",e),s||et===h||(s=[])):(s=s||[]).push(_e,h))}a&&(s=s||[]).push("style",a);var _e=s;(i.updateQueue=_e)&&(i.flags|=4)}};Cj=function(e,i,a,o){a!==o&&(i.flags|=4)};function Dj(e,i){if(!I)switch(e.tailMode){case"hidden":i=e.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?i||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function S(e){var i=e.alternate!==null&&e.alternate.child===e.child,a=0,o=0;if(i)for(var c=e.child;c!==null;)a|=c.lanes|c.childLanes,o|=c.subtreeFlags&14680064,o|=c.flags&14680064,c.return=e,c=c.sibling;else for(c=e.child;c!==null;)a|=c.lanes|c.childLanes,o|=c.subtreeFlags,o|=c.flags,c.return=e,c=c.sibling;return e.subtreeFlags|=o,e.childLanes=a,i}function Ej(e,i,a){var o=i.pendingProps;switch(wg(i),i.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return S(i),null;case 1:return Zf(i.type)&&$f(),S(i),null;case 3:return o=i.stateNode,zh(),E(Wf),E(H),Eh(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(e===null||e.child===null)&&(Gg(i)?i.flags|=4:e===null||e.memoizedState.isDehydrated&&!(i.flags&256)||(i.flags|=1024,zg!==null&&(Fj(zg),zg=null))),Aj(e,i),S(i),null;case 5:Bh(i);var c=xh(wh.current);if(a=i.type,e!==null&&i.stateNode!=null)Bj(e,i,a,o,c),e.ref!==i.ref&&(i.flags|=512,i.flags|=2097152);else{if(!o){if(i.stateNode===null)throw Error(p(166));return S(i),null}if(e=xh(uh.current),Gg(i)){o=i.stateNode,a=i.type;var s=i.memoizedProps;switch(o[Of]=i,o[Pf]=s,e=(i.mode&1)!==0,a){case"dialog":D("cancel",o),D("close",o);break;case"iframe":case"object":case"embed":D("load",o);break;case"video":case"audio":for(c=0;c<lf.length;c++)D(lf[c],o);break;case"source":D("error",o);break;case"img":case"image":case"link":D("error",o),D("load",o);break;case"details":D("toggle",o);break;case"input":Za(o,s),D("invalid",o);break;case"select":o._wrapperState={wasMultiple:!!s.multiple},D("invalid",o);break;case"textarea":hb(o,s),D("invalid",o)}ub(a,s),c=null;for(var d in s)if(s.hasOwnProperty(d)){var et=s[d];d==="children"?typeof et=="string"?o.textContent!==et&&(s.suppressHydrationWarning!==!0&&Af(o.textContent,et,e),c=["children",et]):typeof et=="number"&&o.textContent!==""+et&&(s.suppressHydrationWarning!==!0&&Af(o.textContent,et,e),c=["children",""+et]):ea.hasOwnProperty(d)&&et!=null&&d==="onScroll"&&D("scroll",o)}switch(a){case"input":Va(o),db(o,s,!0);break;case"textarea":Va(o),jb(o);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(o.onclick=Bf)}o=c,i.updateQueue=o,o!==null&&(i.flags|=4)}else{d=c.nodeType===9?c:c.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=kb(a)),e==="http://www.w3.org/1999/xhtml"?a==="script"?(e=d.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof o.is=="string"?e=d.createElement(a,{is:o.is}):(e=d.createElement(a),a==="select"&&(d=e,o.multiple?d.multiple=!0:o.size&&(d.size=o.size))):e=d.createElementNS(e,a),e[Of]=i,e[Pf]=o,zj(e,i,!1,!1),i.stateNode=e;e:{switch(d=vb(a,o),a){case"dialog":D("cancel",e),D("close",e),c=o;break;case"iframe":case"object":case"embed":D("load",e),c=o;break;case"video":case"audio":for(c=0;c<lf.length;c++)D(lf[c],e);c=o;break;case"source":D("error",e),c=o;break;case"img":case"image":case"link":D("error",e),D("load",e),c=o;break;case"details":D("toggle",e),c=o;break;case"input":Za(e,o),c=Ya(e,o),D("invalid",e);break;case"option":c=o;break;case"select":e._wrapperState={wasMultiple:!!o.multiple},c=A({},o,{value:void 0}),D("invalid",e);break;case"textarea":hb(e,o),c=gb(e,o),D("invalid",e);break;default:c=o}ub(a,c),et=c;for(s in et)if(et.hasOwnProperty(s)){var h=et[s];s==="style"?sb(e,h):s==="dangerouslySetInnerHTML"?(h=h?h.__html:void 0,h!=null&&nb(e,h)):s==="children"?typeof h=="string"?(a!=="textarea"||h!=="")&&ob(e,h):typeof h=="number"&&ob(e,""+h):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(ea.hasOwnProperty(s)?h!=null&&s==="onScroll"&&D("scroll",e):h!=null&&ta(e,s,h,d))}switch(a){case"input":Va(e),db(e,o,!1);break;case"textarea":Va(e),jb(e);break;case"option":o.value!=null&&e.setAttribute("value",""+Sa(o.value));break;case"select":e.multiple=!!o.multiple,s=o.value,s!=null?fb(e,!!o.multiple,s,!1):o.defaultValue!=null&&fb(e,!!o.multiple,o.defaultValue,!0);break;default:typeof c.onClick=="function"&&(e.onclick=Bf)}switch(a){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}}o&&(i.flags|=4)}i.ref!==null&&(i.flags|=512,i.flags|=2097152)}return S(i),null;case 6:if(e&&i.stateNode!=null)Cj(e,i,e.memoizedProps,o);else{if(typeof o!="string"&&i.stateNode===null)throw Error(p(166));if(a=xh(wh.current),xh(uh.current),Gg(i)){if(o=i.stateNode,a=i.memoizedProps,o[Of]=i,(s=o.nodeValue!==a)&&(e=xg,e!==null))switch(e.tag){case 3:Af(o.nodeValue,a,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Af(o.nodeValue,a,(e.mode&1)!==0)}s&&(i.flags|=4)}else o=(a.nodeType===9?a:a.ownerDocument).createTextNode(o),o[Of]=i,i.stateNode=o}return S(i),null;case 13:if(E(L),o=i.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(I&&yg!==null&&i.mode&1&&!(i.flags&128))Hg(),Ig(),i.flags|=98560,s=!1;else if(s=Gg(i),o!==null&&o.dehydrated!==null){if(e===null){if(!s)throw Error(p(318));if(s=i.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(p(317));s[Of]=i}else Ig(),!(i.flags&128)&&(i.memoizedState=null),i.flags|=4;S(i),s=!1}else zg!==null&&(Fj(zg),zg=null),s=!0;if(!s)return i.flags&65536?i:null}return i.flags&128?(i.lanes=a,i):(o=o!==null,o!==(e!==null&&e.memoizedState!==null)&&o&&(i.child.flags|=8192,i.mode&1&&(e===null||L.current&1?T===0&&(T=3):tj())),i.updateQueue!==null&&(i.flags|=4),S(i),null);case 4:return zh(),Aj(e,i),e===null&&sf(i.stateNode.containerInfo),S(i),null;case 10:return ah(i.type._context),S(i),null;case 17:return Zf(i.type)&&$f(),S(i),null;case 19:if(E(L),s=i.memoizedState,s===null)return S(i),null;if(o=(i.flags&128)!==0,d=s.rendering,d===null)if(o)Dj(s,!1);else{if(T!==0||e!==null&&e.flags&128)for(e=i.child;e!==null;){if(d=Ch(e),d!==null){for(i.flags|=128,Dj(s,!1),o=d.updateQueue,o!==null&&(i.updateQueue=o,i.flags|=4),i.subtreeFlags=0,o=a,a=i.child;a!==null;)s=a,e=o,s.flags&=14680066,d=s.alternate,d===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=d.childLanes,s.lanes=d.lanes,s.child=d.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=d.memoizedProps,s.memoizedState=d.memoizedState,s.updateQueue=d.updateQueue,s.type=d.type,e=d.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),a=a.sibling;return G(L,L.current&1|2),i.child}e=e.sibling}s.tail!==null&&B()>Gj&&(i.flags|=128,o=!0,Dj(s,!1),i.lanes=4194304)}else{if(!o)if(e=Ch(d),e!==null){if(i.flags|=128,o=!0,a=e.updateQueue,a!==null&&(i.updateQueue=a,i.flags|=4),Dj(s,!0),s.tail===null&&s.tailMode==="hidden"&&!d.alternate&&!I)return S(i),null}else 2*B()-s.renderingStartTime>Gj&&a!==1073741824&&(i.flags|=128,o=!0,Dj(s,!1),i.lanes=4194304);s.isBackwards?(d.sibling=i.child,i.child=d):(a=s.last,a!==null?a.sibling=d:i.child=d,s.last=d)}return s.tail!==null?(i=s.tail,s.rendering=i,s.tail=i.sibling,s.renderingStartTime=B(),i.sibling=null,a=L.current,G(L,o?a&1|2:a&1),i):(S(i),null);case 22:case 23:return Hj(),o=i.memoizedState!==null,e!==null&&e.memoizedState!==null!==o&&(i.flags|=8192),o&&i.mode&1?fj&1073741824&&(S(i),i.subtreeFlags&6&&(i.flags|=8192)):S(i),null;case 24:return null;case 25:return null}throw Error(p(156,i.tag))}function Ij(e,i){switch(wg(i),i.tag){case 1:return Zf(i.type)&&$f(),e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 3:return zh(),E(Wf),E(H),Eh(),e=i.flags,e&65536&&!(e&128)?(i.flags=e&-65537|128,i):null;case 5:return Bh(i),null;case 13:if(E(L),e=i.memoizedState,e!==null&&e.dehydrated!==null){if(i.alternate===null)throw Error(p(340));Ig()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 19:return E(L),null;case 4:return zh(),null;case 10:return ah(i.type._context),null;case 22:case 23:return Hj(),null;case 24:return null;default:return null}}var Jj=!1,U=!1,Kj=typeof WeakSet=="function"?WeakSet:Set,V=null;function Lj(e,i){var a=e.ref;if(a!==null)if(typeof a=="function")try{a(null)}catch(o){W(e,i,o)}else a.current=null}function Mj(e,i,a){try{a()}catch(o){W(e,i,o)}}var Nj=!1;function Oj(e,i){if(Cf=dd,e=Me(),Ne(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{a=(a=e.ownerDocument)&&a.defaultView||window;var o=a.getSelection&&a.getSelection();if(o&&o.rangeCount!==0){a=o.anchorNode;var c=o.anchorOffset,s=o.focusNode;o=o.focusOffset;try{a.nodeType,s.nodeType}catch{a=null;break e}var d=0,et=-1,h=-1,_e=0,_=0,ct=e,ut=null;t:for(;;){for(var ot;ct!==a||c!==0&&ct.nodeType!==3||(et=d+c),ct!==s||o!==0&&ct.nodeType!==3||(h=d+o),ct.nodeType===3&&(d+=ct.nodeValue.length),(ot=ct.firstChild)!==null;)ut=ct,ct=ot;for(;;){if(ct===e)break t;if(ut===a&&++_e===c&&(et=d),ut===s&&++_===o&&(h=d),(ot=ct.nextSibling)!==null)break;ct=ut,ut=ct.parentNode}ct=ot}a=et===-1||h===-1?null:{start:et,end:h}}else a=null}a=a||{start:0,end:0}}else a=null;for(Df={focusedElem:e,selectionRange:a},dd=!1,V=i;V!==null;)if(i=V,e=i.child,(i.subtreeFlags&1028)!==0&&e!==null)e.return=i,V=e;else for(;V!==null;){i=V;try{var lt=i.alternate;if(i.flags&1024)switch(i.tag){case 0:case 11:case 15:break;case 1:if(lt!==null){var gt=lt.memoizedProps,mt=lt.memoizedState,j=i.stateNode,b=j.getSnapshotBeforeUpdate(i.elementType===i.type?gt:Ci(i.type,gt),mt);j.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var ft=i.stateNode.containerInfo;ft.nodeType===1?ft.textContent="":ft.nodeType===9&&ft.documentElement&&ft.removeChild(ft.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(p(163))}}catch(pt){W(i,i.return,pt)}if(e=i.sibling,e!==null){e.return=i.return,V=e;break}V=i.return}return lt=Nj,Nj=!1,lt}function Pj(e,i,a){var o=i.updateQueue;if(o=o!==null?o.lastEffect:null,o!==null){var c=o=o.next;do{if((c.tag&e)===e){var s=c.destroy;c.destroy=void 0,s!==void 0&&Mj(i,a,s)}c=c.next}while(c!==o)}}function Qj(e,i){if(i=i.updateQueue,i=i!==null?i.lastEffect:null,i!==null){var a=i=i.next;do{if((a.tag&e)===e){var o=a.create;a.destroy=o()}a=a.next}while(a!==i)}}function Rj(e){var i=e.ref;if(i!==null){var a=e.stateNode;switch(e.tag){case 5:e=a;break;default:e=a}typeof i=="function"?i(e):i.current=e}}function Sj(e){var i=e.alternate;i!==null&&(e.alternate=null,Sj(i)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(i=e.stateNode,i!==null&&(delete i[Of],delete i[Pf],delete i[of],delete i[Qf],delete i[Rf])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Tj(e){return e.tag===5||e.tag===3||e.tag===4}function Uj(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Tj(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Vj(e,i,a){var o=e.tag;if(o===5||o===6)e=e.stateNode,i?a.nodeType===8?a.parentNode.insertBefore(e,i):a.insertBefore(e,i):(a.nodeType===8?(i=a.parentNode,i.insertBefore(e,a)):(i=a,i.appendChild(e)),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Bf));else if(o!==4&&(e=e.child,e!==null))for(Vj(e,i,a),e=e.sibling;e!==null;)Vj(e,i,a),e=e.sibling}function Wj(e,i,a){var o=e.tag;if(o===5||o===6)e=e.stateNode,i?a.insertBefore(e,i):a.appendChild(e);else if(o!==4&&(e=e.child,e!==null))for(Wj(e,i,a),e=e.sibling;e!==null;)Wj(e,i,a),e=e.sibling}var X=null,Xj=!1;function Yj(e,i,a){for(a=a.child;a!==null;)Zj(e,i,a),a=a.sibling}function Zj(e,i,a){if(lc&&typeof lc.onCommitFiberUnmount=="function")try{lc.onCommitFiberUnmount(kc,a)}catch{}switch(a.tag){case 5:U||Lj(a,i);case 6:var o=X,c=Xj;X=null,Yj(e,i,a),X=o,Xj=c,X!==null&&(Xj?(e=X,a=a.stateNode,e.nodeType===8?e.parentNode.removeChild(a):e.removeChild(a)):X.removeChild(a.stateNode));break;case 18:X!==null&&(Xj?(e=X,a=a.stateNode,e.nodeType===8?Kf(e.parentNode,a):e.nodeType===1&&Kf(e,a),bd(e)):Kf(X,a.stateNode));break;case 4:o=X,c=Xj,X=a.stateNode.containerInfo,Xj=!0,Yj(e,i,a),X=o,Xj=c;break;case 0:case 11:case 14:case 15:if(!U&&(o=a.updateQueue,o!==null&&(o=o.lastEffect,o!==null))){c=o=o.next;do{var s=c,d=s.destroy;s=s.tag,d!==void 0&&(s&2||s&4)&&Mj(a,i,d),c=c.next}while(c!==o)}Yj(e,i,a);break;case 1:if(!U&&(Lj(a,i),o=a.stateNode,typeof o.componentWillUnmount=="function"))try{o.props=a.memoizedProps,o.state=a.memoizedState,o.componentWillUnmount()}catch(et){W(a,i,et)}Yj(e,i,a);break;case 21:Yj(e,i,a);break;case 22:a.mode&1?(U=(o=U)||a.memoizedState!==null,Yj(e,i,a),U=o):Yj(e,i,a);break;default:Yj(e,i,a)}}function ak(e){var i=e.updateQueue;if(i!==null){e.updateQueue=null;var a=e.stateNode;a===null&&(a=e.stateNode=new Kj),i.forEach(function(o){var c=bk.bind(null,e,o);a.has(o)||(a.add(o),o.then(c,c))})}}function ck(e,i){var a=i.deletions;if(a!==null)for(var o=0;o<a.length;o++){var c=a[o];try{var s=e,d=i,et=d;e:for(;et!==null;){switch(et.tag){case 5:X=et.stateNode,Xj=!1;break e;case 3:X=et.stateNode.containerInfo,Xj=!0;break e;case 4:X=et.stateNode.containerInfo,Xj=!0;break e}et=et.return}if(X===null)throw Error(p(160));Zj(s,d,c),X=null,Xj=!1;var h=c.alternate;h!==null&&(h.return=null),c.return=null}catch(_e){W(c,i,_e)}}if(i.subtreeFlags&12854)for(i=i.child;i!==null;)dk(i,e),i=i.sibling}function dk(e,i){var a=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ck(i,e),ek(e),o&4){try{Pj(3,e,e.return),Qj(3,e)}catch(gt){W(e,e.return,gt)}try{Pj(5,e,e.return)}catch(gt){W(e,e.return,gt)}}break;case 1:ck(i,e),ek(e),o&512&&a!==null&&Lj(a,a.return);break;case 5:if(ck(i,e),ek(e),o&512&&a!==null&&Lj(a,a.return),e.flags&32){var c=e.stateNode;try{ob(c,"")}catch(gt){W(e,e.return,gt)}}if(o&4&&(c=e.stateNode,c!=null)){var s=e.memoizedProps,d=a!==null?a.memoizedProps:s,et=e.type,h=e.updateQueue;if(e.updateQueue=null,h!==null)try{et==="input"&&s.type==="radio"&&s.name!=null&&ab(c,s),vb(et,d);var _e=vb(et,s);for(d=0;d<h.length;d+=2){var _=h[d],ct=h[d+1];_==="style"?sb(c,ct):_==="dangerouslySetInnerHTML"?nb(c,ct):_==="children"?ob(c,ct):ta(c,_,ct,_e)}switch(et){case"input":bb(c,s);break;case"textarea":ib(c,s);break;case"select":var ut=c._wrapperState.wasMultiple;c._wrapperState.wasMultiple=!!s.multiple;var ot=s.value;ot!=null?fb(c,!!s.multiple,ot,!1):ut!==!!s.multiple&&(s.defaultValue!=null?fb(c,!!s.multiple,s.defaultValue,!0):fb(c,!!s.multiple,s.multiple?[]:"",!1))}c[Pf]=s}catch(gt){W(e,e.return,gt)}}break;case 6:if(ck(i,e),ek(e),o&4){if(e.stateNode===null)throw Error(p(162));c=e.stateNode,s=e.memoizedProps;try{c.nodeValue=s}catch(gt){W(e,e.return,gt)}}break;case 3:if(ck(i,e),ek(e),o&4&&a!==null&&a.memoizedState.isDehydrated)try{bd(i.containerInfo)}catch(gt){W(e,e.return,gt)}break;case 4:ck(i,e),ek(e);break;case 13:ck(i,e),ek(e),c=e.child,c.flags&8192&&(s=c.memoizedState!==null,c.stateNode.isHidden=s,!s||c.alternate!==null&&c.alternate.memoizedState!==null||(fk=B())),o&4&&ak(e);break;case 22:if(_=a!==null&&a.memoizedState!==null,e.mode&1?(U=(_e=U)||_,ck(i,e),U=_e):ck(i,e),ek(e),o&8192){if(_e=e.memoizedState!==null,(e.stateNode.isHidden=_e)&&!_&&e.mode&1)for(V=e,_=e.child;_!==null;){for(ct=V=_;V!==null;){switch(ut=V,ot=ut.child,ut.tag){case 0:case 11:case 14:case 15:Pj(4,ut,ut.return);break;case 1:Lj(ut,ut.return);var lt=ut.stateNode;if(typeof lt.componentWillUnmount=="function"){o=ut,a=ut.return;try{i=o,lt.props=i.memoizedProps,lt.state=i.memoizedState,lt.componentWillUnmount()}catch(gt){W(o,a,gt)}}break;case 5:Lj(ut,ut.return);break;case 22:if(ut.memoizedState!==null){gk(ct);continue}}ot!==null?(ot.return=ut,V=ot):gk(ct)}_=_.sibling}e:for(_=null,ct=e;;){if(ct.tag===5){if(_===null){_=ct;try{c=ct.stateNode,_e?(s=c.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(et=ct.stateNode,h=ct.memoizedProps.style,d=h!=null&&h.hasOwnProperty("display")?h.display:null,et.style.display=rb("display",d))}catch(gt){W(e,e.return,gt)}}}else if(ct.tag===6){if(_===null)try{ct.stateNode.nodeValue=_e?"":ct.memoizedProps}catch(gt){W(e,e.return,gt)}}else if((ct.tag!==22&&ct.tag!==23||ct.memoizedState===null||ct===e)&&ct.child!==null){ct.child.return=ct,ct=ct.child;continue}if(ct===e)break e;for(;ct.sibling===null;){if(ct.return===null||ct.return===e)break e;_===ct&&(_=null),ct=ct.return}_===ct&&(_=null),ct.sibling.return=ct.return,ct=ct.sibling}}break;case 19:ck(i,e),ek(e),o&4&&ak(e);break;case 21:break;default:ck(i,e),ek(e)}}function ek(e){var i=e.flags;if(i&2){try{e:{for(var a=e.return;a!==null;){if(Tj(a)){var o=a;break e}a=a.return}throw Error(p(160))}switch(o.tag){case 5:var c=o.stateNode;o.flags&32&&(ob(c,""),o.flags&=-33);var s=Uj(e);Wj(e,s,c);break;case 3:case 4:var d=o.stateNode.containerInfo,et=Uj(e);Vj(e,et,d);break;default:throw Error(p(161))}}catch(h){W(e,e.return,h)}e.flags&=-3}i&4096&&(e.flags&=-4097)}function hk(e,i,a){V=e,ik(e)}function ik(e,i,a){for(var o=(e.mode&1)!==0;V!==null;){var c=V,s=c.child;if(c.tag===22&&o){var d=c.memoizedState!==null||Jj;if(!d){var et=c.alternate,h=et!==null&&et.memoizedState!==null||U;et=Jj;var _e=U;if(Jj=d,(U=h)&&!_e)for(V=c;V!==null;)d=V,h=d.child,d.tag===22&&d.memoizedState!==null?jk(c):h!==null?(h.return=d,V=h):jk(c);for(;s!==null;)V=s,ik(s),s=s.sibling;V=c,Jj=et,U=_e}kk(e)}else c.subtreeFlags&8772&&s!==null?(s.return=c,V=s):kk(e)}}function kk(e){for(;V!==null;){var i=V;if(i.flags&8772){var a=i.alternate;try{if(i.flags&8772)switch(i.tag){case 0:case 11:case 15:U||Qj(5,i);break;case 1:var o=i.stateNode;if(i.flags&4&&!U)if(a===null)o.componentDidMount();else{var c=i.elementType===i.type?a.memoizedProps:Ci(i.type,a.memoizedProps);o.componentDidUpdate(c,a.memoizedState,o.__reactInternalSnapshotBeforeUpdate)}var s=i.updateQueue;s!==null&&sh(i,s,o);break;case 3:var d=i.updateQueue;if(d!==null){if(a=null,i.child!==null)switch(i.child.tag){case 5:a=i.child.stateNode;break;case 1:a=i.child.stateNode}sh(i,d,a)}break;case 5:var et=i.stateNode;if(a===null&&i.flags&4){a=et;var h=i.memoizedProps;switch(i.type){case"button":case"input":case"select":case"textarea":h.autoFocus&&a.focus();break;case"img":h.src&&(a.src=h.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(i.memoizedState===null){var _e=i.alternate;if(_e!==null){var _=_e.memoizedState;if(_!==null){var ct=_.dehydrated;ct!==null&&bd(ct)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(p(163))}U||i.flags&512&&Rj(i)}catch(ut){W(i,i.return,ut)}}if(i===e){V=null;break}if(a=i.sibling,a!==null){a.return=i.return,V=a;break}V=i.return}}function gk(e){for(;V!==null;){var i=V;if(i===e){V=null;break}var a=i.sibling;if(a!==null){a.return=i.return,V=a;break}V=i.return}}function jk(e){for(;V!==null;){var i=V;try{switch(i.tag){case 0:case 11:case 15:var a=i.return;try{Qj(4,i)}catch(h){W(i,a,h)}break;case 1:var o=i.stateNode;if(typeof o.componentDidMount=="function"){var c=i.return;try{o.componentDidMount()}catch(h){W(i,c,h)}}var s=i.return;try{Rj(i)}catch(h){W(i,s,h)}break;case 5:var d=i.return;try{Rj(i)}catch(h){W(i,d,h)}}}catch(h){W(i,i.return,h)}if(i===e){V=null;break}var et=i.sibling;if(et!==null){et.return=i.return,V=et;break}V=i.return}}var lk=Math.ceil,mk=ua.ReactCurrentDispatcher,nk=ua.ReactCurrentOwner,ok=ua.ReactCurrentBatchConfig,K=0,Q=null,Y=null,Z=0,fj=0,ej=Uf(0),T=0,pk=null,rh=0,qk=0,rk=0,sk=null,tk=null,fk=0,Gj=1/0,uk=null,Oi=!1,Pi=null,Ri=null,vk=!1,wk=null,xk=0,yk=0,zk=null,Ak=-1,Bk=0;function R(){return K&6?B():Ak!==-1?Ak:Ak=B()}function yi(e){return e.mode&1?K&2&&Z!==0?Z&-Z:Kg.transition!==null?(Bk===0&&(Bk=yc()),Bk):(e=C,e!==0||(e=window.event,e=e===void 0?16:jd(e.type)),e):1}function gi(e,i,a,o){if(50<yk)throw yk=0,zk=null,Error(p(185));Ac(e,a,o),(!(K&2)||e!==Q)&&(e===Q&&(!(K&2)&&(qk|=a),T===4&&Ck(e,Z)),Dk(e,o),a===1&&K===0&&!(i.mode&1)&&(Gj=B()+500,fg&&jg()))}function Dk(e,i){var a=e.callbackNode;wc(e,i);var o=uc(e,e===Q?Z:0);if(o===0)a!==null&&bc(a),e.callbackNode=null,e.callbackPriority=0;else if(i=o&-o,e.callbackPriority!==i){if(a!=null&&bc(a),i===1)e.tag===0?ig(Ek.bind(null,e)):hg(Ek.bind(null,e)),Jf(function(){!(K&6)&&jg()}),a=null;else{switch(Dc(o)){case 1:a=fc;break;case 4:a=gc;break;case 16:a=hc;break;case 536870912:a=jc;break;default:a=hc}a=Fk(a,Gk.bind(null,e))}e.callbackPriority=i,e.callbackNode=a}}function Gk(e,i){if(Ak=-1,Bk=0,K&6)throw Error(p(327));var a=e.callbackNode;if(Hk()&&e.callbackNode!==a)return null;var o=uc(e,e===Q?Z:0);if(o===0)return null;if(o&30||o&e.expiredLanes||i)i=Ik(e,o);else{i=o;var c=K;K|=2;var s=Jk();(Q!==e||Z!==i)&&(uk=null,Gj=B()+500,Kk(e,i));do try{Lk();break}catch(et){Mk(e,et)}while(!0);$g(),mk.current=s,K=c,Y!==null?i=0:(Q=null,Z=0,i=T)}if(i!==0){if(i===2&&(c=xc(e),c!==0&&(o=c,i=Nk(e,c))),i===1)throw a=pk,Kk(e,0),Ck(e,o),Dk(e,B()),a;if(i===6)Ck(e,o);else{if(c=e.current.alternate,!(o&30)&&!Ok(c)&&(i=Ik(e,o),i===2&&(s=xc(e),s!==0&&(o=s,i=Nk(e,s))),i===1))throw a=pk,Kk(e,0),Ck(e,o),Dk(e,B()),a;switch(e.finishedWork=c,e.finishedLanes=o,i){case 0:case 1:throw Error(p(345));case 2:Pk(e,tk,uk);break;case 3:if(Ck(e,o),(o&130023424)===o&&(i=fk+500-B(),10<i)){if(uc(e,0)!==0)break;if(c=e.suspendedLanes,(c&o)!==o){R(),e.pingedLanes|=e.suspendedLanes&c;break}e.timeoutHandle=Ff(Pk.bind(null,e,tk,uk),i);break}Pk(e,tk,uk);break;case 4:if(Ck(e,o),(o&4194240)===o)break;for(i=e.eventTimes,c=-1;0<o;){var d=31-oc(o);s=1<<d,d=i[d],d>c&&(c=d),o&=~s}if(o=c,o=B()-o,o=(120>o?120:480>o?480:1080>o?1080:1920>o?1920:3e3>o?3e3:4320>o?4320:1960*lk(o/1960))-o,10<o){e.timeoutHandle=Ff(Pk.bind(null,e,tk,uk),o);break}Pk(e,tk,uk);break;case 5:Pk(e,tk,uk);break;default:throw Error(p(329))}}}return Dk(e,B()),e.callbackNode===a?Gk.bind(null,e):null}function Nk(e,i){var a=sk;return e.current.memoizedState.isDehydrated&&(Kk(e,i).flags|=256),e=Ik(e,i),e!==2&&(i=tk,tk=a,i!==null&&Fj(i)),e}function Fj(e){tk===null?tk=e:tk.push.apply(tk,e)}function Ok(e){for(var i=e;;){if(i.flags&16384){var a=i.updateQueue;if(a!==null&&(a=a.stores,a!==null))for(var o=0;o<a.length;o++){var c=a[o],s=c.getSnapshot;c=c.value;try{if(!He(s(),c))return!1}catch{return!1}}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Ck(e,i){for(i&=~rk,i&=~qk,e.suspendedLanes|=i,e.pingedLanes&=~i,e=e.expirationTimes;0<i;){var a=31-oc(i),o=1<<a;e[a]=-1,i&=~o}}function Ek(e){if(K&6)throw Error(p(327));Hk();var i=uc(e,0);if(!(i&1))return Dk(e,B()),null;var a=Ik(e,i);if(e.tag!==0&&a===2){var o=xc(e);o!==0&&(i=o,a=Nk(e,o))}if(a===1)throw a=pk,Kk(e,0),Ck(e,i),Dk(e,B()),a;if(a===6)throw Error(p(345));return e.finishedWork=e.current.alternate,e.finishedLanes=i,Pk(e,tk,uk),Dk(e,B()),null}function Qk(e,i){var a=K;K|=1;try{return e(i)}finally{K=a,K===0&&(Gj=B()+500,fg&&jg())}}function Rk(e){wk!==null&&wk.tag===0&&!(K&6)&&Hk();var i=K;K|=1;var a=ok.transition,o=C;try{if(ok.transition=null,C=1,e)return e()}finally{C=o,ok.transition=a,K=i,!(K&6)&&jg()}}function Hj(){fj=ej.current,E(ej)}function Kk(e,i){e.finishedWork=null,e.finishedLanes=0;var a=e.timeoutHandle;if(a!==-1&&(e.timeoutHandle=-1,Gf(a)),Y!==null)for(a=Y.return;a!==null;){var o=a;switch(wg(o),o.tag){case 1:o=o.type.childContextTypes,o!=null&&$f();break;case 3:zh(),E(Wf),E(H),Eh();break;case 5:Bh(o);break;case 4:zh();break;case 13:E(L);break;case 19:E(L);break;case 10:ah(o.type._context);break;case 22:case 23:Hj()}a=a.return}if(Q=e,Y=e=Pg(e.current,null),Z=fj=i,T=0,pk=null,rk=qk=rh=0,tk=sk=null,fh!==null){for(i=0;i<fh.length;i++)if(a=fh[i],o=a.interleaved,o!==null){a.interleaved=null;var c=o.next,s=a.pending;if(s!==null){var d=s.next;s.next=c,o.next=d}a.pending=o}fh=null}return e}function Mk(e,i){do{var a=Y;try{if($g(),Fh.current=Rh,Ih){for(var o=M.memoizedState;o!==null;){var c=o.queue;c!==null&&(c.pending=null),o=o.next}Ih=!1}if(Hh=0,O=N=M=null,Jh=!1,Kh=0,nk.current=null,a===null||a.return===null){T=1,pk=i,Y=null;break}e:{var s=e,d=a.return,et=a,h=i;if(i=Z,et.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){var _e=h,_=et,ct=_.tag;if(!(_.mode&1)&&(ct===0||ct===11||ct===15)){var ut=_.alternate;ut?(_.updateQueue=ut.updateQueue,_.memoizedState=ut.memoizedState,_.lanes=ut.lanes):(_.updateQueue=null,_.memoizedState=null)}var ot=Ui(d);if(ot!==null){ot.flags&=-257,Vi(ot,d,et,s,i),ot.mode&1&&Si(s,_e,i),i=ot,h=_e;var lt=i.updateQueue;if(lt===null){var gt=new Set;gt.add(h),i.updateQueue=gt}else lt.add(h);break e}else{if(!(i&1)){Si(s,_e,i),tj();break e}h=Error(p(426))}}else if(I&&et.mode&1){var mt=Ui(d);if(mt!==null){!(mt.flags&65536)&&(mt.flags|=256),Vi(mt,d,et,s,i),Jg(Ji(h,et));break e}}s=h=Ji(h,et),T!==4&&(T=2),sk===null?sk=[s]:sk.push(s),s=d;do{switch(s.tag){case 3:s.flags|=65536,i&=-i,s.lanes|=i;var j=Ni(s,h,i);ph(s,j);break e;case 1:et=h;var b=s.type,ft=s.stateNode;if(!(s.flags&128)&&(typeof b.getDerivedStateFromError=="function"||ft!==null&&typeof ft.componentDidCatch=="function"&&(Ri===null||!Ri.has(ft)))){s.flags|=65536,i&=-i,s.lanes|=i;var pt=Qi(s,et,i);ph(s,pt);break e}}s=s.return}while(s!==null)}Sk(a)}catch(nt){i=nt,Y===a&&a!==null&&(Y=a=a.return);continue}break}while(!0)}function Jk(){var e=mk.current;return mk.current=Rh,e===null?Rh:e}function tj(){(T===0||T===3||T===2)&&(T=4),Q===null||!(rh&268435455)&&!(qk&268435455)||Ck(Q,Z)}function Ik(e,i){var a=K;K|=2;var o=Jk();(Q!==e||Z!==i)&&(uk=null,Kk(e,i));do try{Tk();break}catch(c){Mk(e,c)}while(!0);if($g(),K=a,mk.current=o,Y!==null)throw Error(p(261));return Q=null,Z=0,T}function Tk(){for(;Y!==null;)Uk(Y)}function Lk(){for(;Y!==null&&!cc();)Uk(Y)}function Uk(e){var i=Vk(e.alternate,e,fj);e.memoizedProps=e.pendingProps,i===null?Sk(e):Y=i,nk.current=null}function Sk(e){var i=e;do{var a=i.alternate;if(e=i.return,i.flags&32768){if(a=Ij(a,i),a!==null){a.flags&=32767,Y=a;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{T=6,Y=null;return}}else if(a=Ej(a,i,fj),a!==null){Y=a;return}if(i=i.sibling,i!==null){Y=i;return}Y=i=e}while(i!==null);T===0&&(T=5)}function Pk(e,i,a){var o=C,c=ok.transition;try{ok.transition=null,C=1,Wk(e,i,a,o)}finally{ok.transition=c,C=o}return null}function Wk(e,i,a,o){do Hk();while(wk!==null);if(K&6)throw Error(p(327));a=e.finishedWork;var c=e.finishedLanes;if(a===null)return null;if(e.finishedWork=null,e.finishedLanes=0,a===e.current)throw Error(p(177));e.callbackNode=null,e.callbackPriority=0;var s=a.lanes|a.childLanes;if(Bc(e,s),e===Q&&(Y=Q=null,Z=0),!(a.subtreeFlags&2064)&&!(a.flags&2064)||vk||(vk=!0,Fk(hc,function(){return Hk(),null})),s=(a.flags&15990)!==0,a.subtreeFlags&15990||s){s=ok.transition,ok.transition=null;var d=C;C=1;var et=K;K|=4,nk.current=null,Oj(e,a),dk(a,e),Oe(Df),dd=!!Cf,Df=Cf=null,e.current=a,hk(a),dc(),K=et,C=d,ok.transition=s}else e.current=a;if(vk&&(vk=!1,wk=e,xk=c),s=e.pendingLanes,s===0&&(Ri=null),mc(a.stateNode),Dk(e,B()),i!==null)for(o=e.onRecoverableError,a=0;a<i.length;a++)c=i[a],o(c.value,{componentStack:c.stack,digest:c.digest});if(Oi)throw Oi=!1,e=Pi,Pi=null,e;return xk&1&&e.tag!==0&&Hk(),s=e.pendingLanes,s&1?e===zk?yk++:(yk=0,zk=e):yk=0,jg(),null}function Hk(){if(wk!==null){var e=Dc(xk),i=ok.transition,a=C;try{if(ok.transition=null,C=16>e?16:e,wk===null)var o=!1;else{if(e=wk,wk=null,xk=0,K&6)throw Error(p(331));var c=K;for(K|=4,V=e.current;V!==null;){var s=V,d=s.child;if(V.flags&16){var et=s.deletions;if(et!==null){for(var h=0;h<et.length;h++){var _e=et[h];for(V=_e;V!==null;){var _=V;switch(_.tag){case 0:case 11:case 15:Pj(8,_,s)}var ct=_.child;if(ct!==null)ct.return=_,V=ct;else for(;V!==null;){_=V;var ut=_.sibling,ot=_.return;if(Sj(_),_===_e){V=null;break}if(ut!==null){ut.return=ot,V=ut;break}V=ot}}}var lt=s.alternate;if(lt!==null){var gt=lt.child;if(gt!==null){lt.child=null;do{var mt=gt.sibling;gt.sibling=null,gt=mt}while(gt!==null)}}V=s}}if(s.subtreeFlags&2064&&d!==null)d.return=s,V=d;else e:for(;V!==null;){if(s=V,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Pj(9,s,s.return)}var j=s.sibling;if(j!==null){j.return=s.return,V=j;break e}V=s.return}}var b=e.current;for(V=b;V!==null;){d=V;var ft=d.child;if(d.subtreeFlags&2064&&ft!==null)ft.return=d,V=ft;else e:for(d=b;V!==null;){if(et=V,et.flags&2048)try{switch(et.tag){case 0:case 11:case 15:Qj(9,et)}}catch(nt){W(et,et.return,nt)}if(et===d){V=null;break e}var pt=et.sibling;if(pt!==null){pt.return=et.return,V=pt;break e}V=et.return}}if(K=c,jg(),lc&&typeof lc.onPostCommitFiberRoot=="function")try{lc.onPostCommitFiberRoot(kc,e)}catch{}o=!0}return o}finally{C=a,ok.transition=i}}return!1}function Xk(e,i,a){i=Ji(a,i),i=Ni(e,i,1),e=nh(e,i,1),i=R(),e!==null&&(Ac(e,1,i),Dk(e,i))}function W(e,i,a){if(e.tag===3)Xk(e,e,a);else for(;i!==null;){if(i.tag===3){Xk(i,e,a);break}else if(i.tag===1){var o=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Ri===null||!Ri.has(o))){e=Ji(a,e),e=Qi(i,e,1),i=nh(i,e,1),e=R(),i!==null&&(Ac(i,1,e),Dk(i,e));break}}i=i.return}}function Ti(e,i,a){var o=e.pingCache;o!==null&&o.delete(i),i=R(),e.pingedLanes|=e.suspendedLanes&a,Q===e&&(Z&a)===a&&(T===4||T===3&&(Z&130023424)===Z&&500>B()-fk?Kk(e,0):rk|=a),Dk(e,i)}function Yk(e,i){i===0&&(e.mode&1?(i=sc,sc<<=1,!(sc&130023424)&&(sc=4194304)):i=1);var a=R();e=ih(e,i),e!==null&&(Ac(e,i,a),Dk(e,a))}function uj(e){var i=e.memoizedState,a=0;i!==null&&(a=i.retryLane),Yk(e,a)}function bk(e,i){var a=0;switch(e.tag){case 13:var o=e.stateNode,c=e.memoizedState;c!==null&&(a=c.retryLane);break;case 19:o=e.stateNode;break;default:throw Error(p(314))}o!==null&&o.delete(i),Yk(e,a)}var Vk;Vk=function(e,i,a){if(e!==null)if(e.memoizedProps!==i.pendingProps||Wf.current)dh=!0;else{if(!(e.lanes&a)&&!(i.flags&128))return dh=!1,yj(e,i,a);dh=!!(e.flags&131072)}else dh=!1,I&&i.flags&1048576&&ug(i,ng,i.index);switch(i.lanes=0,i.tag){case 2:var o=i.type;ij(e,i),e=i.pendingProps;var c=Yf(i,H.current);ch(i,a),c=Nh(null,i,o,e,c,a);var s=Sh();return i.flags|=1,typeof c=="object"&&c!==null&&typeof c.render=="function"&&c.$$typeof===void 0?(i.tag=1,i.memoizedState=null,i.updateQueue=null,Zf(o)?(s=!0,cg(i)):s=!1,i.memoizedState=c.state!==null&&c.state!==void 0?c.state:null,kh(i),c.updater=Ei,i.stateNode=c,c._reactInternals=i,Ii(i,o,e,a),i=jj(null,i,o,!0,s,a)):(i.tag=0,I&&s&&vg(i),Xi(null,i,c,a),i=i.child),i;case 16:o=i.elementType;e:{switch(ij(e,i),e=i.pendingProps,c=o._init,o=c(o._payload),i.type=o,c=i.tag=Zk(o),e=Ci(o,e),c){case 0:i=cj(null,i,o,e,a);break e;case 1:i=hj(null,i,o,e,a);break e;case 11:i=Yi(null,i,o,e,a);break e;case 14:i=$i(null,i,o,Ci(o.type,e),a);break e}throw Error(p(306,o,""))}return i;case 0:return o=i.type,c=i.pendingProps,c=i.elementType===o?c:Ci(o,c),cj(e,i,o,c,a);case 1:return o=i.type,c=i.pendingProps,c=i.elementType===o?c:Ci(o,c),hj(e,i,o,c,a);case 3:e:{if(kj(i),e===null)throw Error(p(387));o=i.pendingProps,s=i.memoizedState,c=s.element,lh(e,i),qh(i,o,null,a);var d=i.memoizedState;if(o=d.element,s.isDehydrated)if(s={element:o,isDehydrated:!1,cache:d.cache,pendingSuspenseBoundaries:d.pendingSuspenseBoundaries,transitions:d.transitions},i.updateQueue.baseState=s,i.memoizedState=s,i.flags&256){c=Ji(Error(p(423)),i),i=lj(e,i,o,a,c);break e}else if(o!==c){c=Ji(Error(p(424)),i),i=lj(e,i,o,a,c);break e}else for(yg=Lf(i.stateNode.containerInfo.firstChild),xg=i,I=!0,zg=null,a=Vg(i,null,o,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Ig(),o===c){i=Zi(e,i,a);break e}Xi(e,i,o,a)}i=i.child}return i;case 5:return Ah(i),e===null&&Eg(i),o=i.type,c=i.pendingProps,s=e!==null?e.memoizedProps:null,d=c.children,Ef(o,c)?d=null:s!==null&&Ef(o,s)&&(i.flags|=32),gj(e,i),Xi(e,i,d,a),i.child;case 6:return e===null&&Eg(i),null;case 13:return oj(e,i,a);case 4:return yh(i,i.stateNode.containerInfo),o=i.pendingProps,e===null?i.child=Ug(i,null,o,a):Xi(e,i,o,a),i.child;case 11:return o=i.type,c=i.pendingProps,c=i.elementType===o?c:Ci(o,c),Yi(e,i,o,c,a);case 7:return Xi(e,i,i.pendingProps,a),i.child;case 8:return Xi(e,i,i.pendingProps.children,a),i.child;case 12:return Xi(e,i,i.pendingProps.children,a),i.child;case 10:e:{if(o=i.type._context,c=i.pendingProps,s=i.memoizedProps,d=c.value,G(Wg,o._currentValue),o._currentValue=d,s!==null)if(He(s.value,d)){if(s.children===c.children&&!Wf.current){i=Zi(e,i,a);break e}}else for(s=i.child,s!==null&&(s.return=i);s!==null;){var et=s.dependencies;if(et!==null){d=s.child;for(var h=et.firstContext;h!==null;){if(h.context===o){if(s.tag===1){h=mh(-1,a&-a),h.tag=2;var _e=s.updateQueue;if(_e!==null){_e=_e.shared;var _=_e.pending;_===null?h.next=h:(h.next=_.next,_.next=h),_e.pending=h}}s.lanes|=a,h=s.alternate,h!==null&&(h.lanes|=a),bh(s.return,a,i),et.lanes|=a;break}h=h.next}}else if(s.tag===10)d=s.type===i.type?null:s.child;else if(s.tag===18){if(d=s.return,d===null)throw Error(p(341));d.lanes|=a,et=d.alternate,et!==null&&(et.lanes|=a),bh(d,a,i),d=s.sibling}else d=s.child;if(d!==null)d.return=s;else for(d=s;d!==null;){if(d===i){d=null;break}if(s=d.sibling,s!==null){s.return=d.return,d=s;break}d=d.return}s=d}Xi(e,i,c.children,a),i=i.child}return i;case 9:return c=i.type,o=i.pendingProps.children,ch(i,a),c=eh(c),o=o(c),i.flags|=1,Xi(e,i,o,a),i.child;case 14:return o=i.type,c=Ci(o,i.pendingProps),c=Ci(o.type,c),$i(e,i,o,c,a);case 15:return bj(e,i,i.type,i.pendingProps,a);case 17:return o=i.type,c=i.pendingProps,c=i.elementType===o?c:Ci(o,c),ij(e,i),i.tag=1,Zf(o)?(e=!0,cg(i)):e=!1,ch(i,a),Gi(i,o,c),Ii(i,o,c,a),jj(null,i,o,!0,e,a);case 19:return xj(e,i,a);case 22:return dj(e,i,a)}throw Error(p(156,i.tag))};function Fk(e,i){return ac(e,i)}function $k(e,i,a,o){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bg(e,i,a,o){return new $k(e,i,a,o)}function aj(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Zk(e){if(typeof e=="function")return aj(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Da)return 11;if(e===Ga)return 14}return 2}function Pg(e,i){var a=e.alternate;return a===null?(a=Bg(e.tag,i,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=i,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&14680064,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,i=e.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a}function Rg(e,i,a,o,c,s){var d=2;if(o=e,typeof e=="function")aj(e)&&(d=1);else if(typeof e=="string")d=5;else e:switch(e){case ya:return Tg(a.children,c,s,i);case za:d=8,c|=8;break;case Aa:return e=Bg(12,a,i,c|2),e.elementType=Aa,e.lanes=s,e;case Ea:return e=Bg(13,a,i,c),e.elementType=Ea,e.lanes=s,e;case Fa:return e=Bg(19,a,i,c),e.elementType=Fa,e.lanes=s,e;case Ia:return pj(a,c,s,i);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Ba:d=10;break e;case Ca:d=9;break e;case Da:d=11;break e;case Ga:d=14;break e;case Ha:d=16,o=null;break e}throw Error(p(130,e==null?e:typeof e,""))}return i=Bg(d,a,i,c),i.elementType=e,i.type=o,i.lanes=s,i}function Tg(e,i,a,o){return e=Bg(7,e,o,i),e.lanes=a,e}function pj(e,i,a,o){return e=Bg(22,e,o,i),e.elementType=Ia,e.lanes=a,e.stateNode={isHidden:!1},e}function Qg(e,i,a){return e=Bg(6,e,null,i),e.lanes=a,e}function Sg(e,i,a){return i=Bg(4,e.children!==null?e.children:[],e.key,i),i.lanes=a,i.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},i}function al(e,i,a,o,c){this.tag=i,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zc(0),this.expirationTimes=zc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zc(0),this.identifierPrefix=o,this.onRecoverableError=c,this.mutableSourceEagerHydrationData=null}function bl(e,i,a,o,c,s,d,et,h){return e=new al(e,i,a,et,h),i===1?(i=1,s===!0&&(i|=8)):i=0,s=Bg(3,null,null,i),e.current=s,s.stateNode=e,s.memoizedState={element:o,isDehydrated:a,cache:null,transitions:null,pendingSuspenseBoundaries:null},kh(s),e}function cl(e,i,a){var o=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:wa,key:o==null?null:""+o,children:e,containerInfo:i,implementation:a}}function dl(e){if(!e)return Vf;e=e._reactInternals;e:{if(Vb(e)!==e||e.tag!==1)throw Error(p(170));var i=e;do{switch(i.tag){case 3:i=i.stateNode.context;break e;case 1:if(Zf(i.type)){i=i.stateNode.__reactInternalMemoizedMergedChildContext;break e}}i=i.return}while(i!==null);throw Error(p(171))}if(e.tag===1){var a=e.type;if(Zf(a))return bg(e,a,i)}return i}function el(e,i,a,o,c,s,d,et,h){return e=bl(a,o,!0,e,c,s,d,et,h),e.context=dl(null),a=e.current,o=R(),c=yi(a),s=mh(o,c),s.callback=i??null,nh(a,s,c),e.current.lanes=c,Ac(e,c,o),Dk(e,o),e}function fl(e,i,a,o){var c=i.current,s=R(),d=yi(c);return a=dl(a),i.context===null?i.context=a:i.pendingContext=a,i=mh(s,d),i.payload={element:e},o=o===void 0?null:o,o!==null&&(i.callback=o),e=nh(c,i,d),e!==null&&(gi(e,c,d,s),oh(e,c,d)),d}function gl(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function hl(e,i){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<i?a:i}}function il(e,i){hl(e,i),(e=e.alternate)&&hl(e,i)}function jl(){return null}var kl=typeof reportError=="function"?reportError:function(e){console.error(e)};function ll(e){this._internalRoot=e}ml.prototype.render=ll.prototype.render=function(e){var i=this._internalRoot;if(i===null)throw Error(p(409));fl(e,i,null,null)};ml.prototype.unmount=ll.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var i=e.containerInfo;Rk(function(){fl(null,e,null,null)}),i[uf]=null}};function ml(e){this._internalRoot=e}ml.prototype.unstable_scheduleHydration=function(e){if(e){var i=Hc();e={blockedOn:null,target:e,priority:i};for(var a=0;a<Qc.length&&i!==0&&i<Qc[a].priority;a++);Qc.splice(a,0,e),a===0&&Vc(e)}};function nl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ol(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function pl(){}function ql(e,i,a,o,c){if(c){if(typeof o=="function"){var s=o;o=function(){var _e=gl(d);s.call(_e)}}var d=el(i,o,e,0,null,!1,!1,"",pl);return e._reactRootContainer=d,e[uf]=d.current,sf(e.nodeType===8?e.parentNode:e),Rk(),d}for(;c=e.lastChild;)e.removeChild(c);if(typeof o=="function"){var et=o;o=function(){var _e=gl(h);et.call(_e)}}var h=bl(e,0,!1,null,null,!1,!1,"",pl);return e._reactRootContainer=h,e[uf]=h.current,sf(e.nodeType===8?e.parentNode:e),Rk(function(){fl(i,h,a,o)}),h}function rl(e,i,a,o,c){var s=a._reactRootContainer;if(s){var d=s;if(typeof c=="function"){var et=c;c=function(){var h=gl(d);et.call(h)}}fl(i,d,e,c)}else d=ql(a,i,e,c,o);return gl(d)}Ec=function(e){switch(e.tag){case 3:var i=e.stateNode;if(i.current.memoizedState.isDehydrated){var a=tc(i.pendingLanes);a!==0&&(Cc(i,a|1),Dk(i,B()),!(K&6)&&(Gj=B()+500,jg()))}break;case 13:Rk(function(){var o=ih(e,1);if(o!==null){var c=R();gi(o,e,1,c)}}),il(e,1)}};Fc=function(e){if(e.tag===13){var i=ih(e,134217728);if(i!==null){var a=R();gi(i,e,134217728,a)}il(e,134217728)}};Gc=function(e){if(e.tag===13){var i=yi(e),a=ih(e,i);if(a!==null){var o=R();gi(a,e,i,o)}il(e,i)}};Hc=function(){return C};Ic=function(e,i){var a=C;try{return C=e,i()}finally{C=a}};yb=function(e,i,a){switch(i){case"input":if(bb(e,a),i=a.name,a.type==="radio"&&i!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll("input[name="+JSON.stringify(""+i)+'][type="radio"]'),i=0;i<a.length;i++){var o=a[i];if(o!==e&&o.form===e.form){var c=Db(o);if(!c)throw Error(p(90));Wa(o),bb(o,c)}}}break;case"textarea":ib(e,a);break;case"select":i=a.value,i!=null&&fb(e,!!a.multiple,i,!1)}};Gb=Qk;Hb=Rk;var sl={usingClientEntryPoint:!1,Events:[Cb,ue,Db,Eb,Fb,Qk]},tl={findFiberByHostInstance:Wc,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ul={bundleType:tl.bundleType,version:tl.version,rendererPackageName:tl.rendererPackageName,rendererConfig:tl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ua.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Zb(e),e===null?null:e.stateNode},findFiberByHostInstance:tl.findFiberByHostInstance||jl,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vl.isDisabled&&vl.supportsFiber)try{kc=vl.inject(ul),lc=vl}catch{}}reactDom_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sl;reactDom_production_min.createPortal=function(e,i){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!nl(i))throw Error(p(200));return cl(e,i,null,a)};reactDom_production_min.createRoot=function(e,i){if(!nl(e))throw Error(p(299));var a=!1,o="",c=kl;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(o=i.identifierPrefix),i.onRecoverableError!==void 0&&(c=i.onRecoverableError)),i=bl(e,1,!1,null,null,a,!1,o,c),e[uf]=i.current,sf(e.nodeType===8?e.parentNode:e),new ll(i)};reactDom_production_min.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var i=e._reactInternals;if(i===void 0)throw typeof e.render=="function"?Error(p(188)):(e=Object.keys(e).join(","),Error(p(268,e)));return e=Zb(i),e=e===null?null:e.stateNode,e};reactDom_production_min.flushSync=function(e){return Rk(e)};reactDom_production_min.hydrate=function(e,i,a){if(!ol(i))throw Error(p(200));return rl(null,e,i,!0,a)};reactDom_production_min.hydrateRoot=function(e,i,a){if(!nl(e))throw Error(p(405));var o=a!=null&&a.hydratedSources||null,c=!1,s="",d=kl;if(a!=null&&(a.unstable_strictMode===!0&&(c=!0),a.identifierPrefix!==void 0&&(s=a.identifierPrefix),a.onRecoverableError!==void 0&&(d=a.onRecoverableError)),i=el(i,null,e,1,a??null,c,!1,s,d),e[uf]=i.current,sf(e),o)for(e=0;e<o.length;e++)a=o[e],c=a._getVersion,c=c(a._source),i.mutableSourceEagerHydrationData==null?i.mutableSourceEagerHydrationData=[a,c]:i.mutableSourceEagerHydrationData.push(a,c);return new ml(i)};reactDom_production_min.render=function(e,i,a){if(!ol(i))throw Error(p(200));return rl(null,e,i,!1,a)};reactDom_production_min.unmountComponentAtNode=function(e){if(!ol(e))throw Error(p(40));return e._reactRootContainer?(Rk(function(){rl(null,null,e,!1,function(){e._reactRootContainer=null,e[uf]=null})}),!0):!1};reactDom_production_min.unstable_batchedUpdates=Qk;reactDom_production_min.unstable_renderSubtreeIntoContainer=function(e,i,a,o){if(!ol(a))throw Error(p(200));if(e==null||e._reactInternals===void 0)throw Error(p(38));return rl(e,i,a,!1,o)};reactDom_production_min.version="18.3.1-next-f1338f8080-20240426";function checkDCE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(checkDCE)}catch(e){console.error(e)}}checkDCE(),reactDom.exports=reactDom_production_min;var reactDomExports=reactDom.exports;const index=getDefaultExportFromCjs(reactDomExports),ReactDOM=_mergeNamespaces({__proto__:null,default:index},[reactDomExports]);var createRoot,m=reactDomExports;createRoot=m.createRoot,m.hydrateRoot;function Navbar(){return jsxRuntimeExports.jsx("nav",{className:"p-10",children:jsxRuntimeExports.jsxs("div",{className:"container mx-auto flex justify-between items-center",children:[jsxRuntimeExports.jsx("div",{className:"text-lg font-bold uppercase",children:"Fenoglio Ingeniería"}),jsxRuntimeExports.jsx("div",{className:"space-x-4 uppercase",children:jsxRuntimeExports.jsx("a",{href:"https://wa.me/+5493865585500",children:"Contacto"})})]})})}/**
 * @remix-run/router v1.21.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends$2(){return _extends$2=Object.assign?Object.assign.bind():function(e){for(var i=1;i<arguments.length;i++){var a=arguments[i];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(e[o]=a[o])}return e},_extends$2.apply(this,arguments)}var Action;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Action||(Action={}));const PopStateEventType="popstate";function createHashHistory(e){e===void 0&&(e={});function i(c,s){let{pathname:d="/",search:et="",hash:h=""}=parsePath(c.location.hash.substr(1));return!d.startsWith("/")&&!d.startsWith(".")&&(d="/"+d),createLocation("",{pathname:d,search:et,hash:h},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function a(c,s){let d=c.document.querySelector("base"),et="";if(d&&d.getAttribute("href")){let h=c.location.href,_e=h.indexOf("#");et=_e===-1?h:h.slice(0,_e)}return et+"#"+(typeof s=="string"?s:createPath(s))}function o(c,s){warning(c.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(s)+")")}return getUrlBasedHistory(i,a,o,e)}function invariant(e,i){if(e===!1||e===null||typeof e>"u")throw new Error(i)}function warning(e,i){if(!e){typeof console<"u"&&console.warn(i);try{throw new Error(i)}catch{}}}function createKey(){return Math.random().toString(36).substr(2,8)}function getHistoryState(e,i){return{usr:e.state,key:e.key,idx:i}}function createLocation(e,i,a,o){return a===void 0&&(a=null),_extends$2({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof i=="string"?parsePath(i):i,{state:a,key:i&&i.key||o||createKey()})}function createPath(e){let{pathname:i="/",search:a="",hash:o=""}=e;return a&&a!=="?"&&(i+=a.charAt(0)==="?"?a:"?"+a),o&&o!=="#"&&(i+=o.charAt(0)==="#"?o:"#"+o),i}function parsePath(e){let i={};if(e){let a=e.indexOf("#");a>=0&&(i.hash=e.substr(a),e=e.substr(0,a));let o=e.indexOf("?");o>=0&&(i.search=e.substr(o),e=e.substr(0,o)),e&&(i.pathname=e)}return i}function getUrlBasedHistory(e,i,a,o){o===void 0&&(o={});let{window:c=document.defaultView,v5Compat:s=!1}=o,d=c.history,et=Action.Pop,h=null,_e=_();_e==null&&(_e=0,d.replaceState(_extends$2({},d.state,{idx:_e}),""));function _(){return(d.state||{idx:null}).idx}function ct(){et=Action.Pop;let mt=_(),j=mt==null?null:mt-_e;_e=mt,h&&h({action:et,location:gt.location,delta:j})}function ut(mt,j){et=Action.Push;let b=createLocation(gt.location,mt,j);a&&a(b,mt),_e=_()+1;let ft=getHistoryState(b,_e),pt=gt.createHref(b);try{d.pushState(ft,"",pt)}catch(nt){if(nt instanceof DOMException&&nt.name==="DataCloneError")throw nt;c.location.assign(pt)}s&&h&&h({action:et,location:gt.location,delta:1})}function ot(mt,j){et=Action.Replace;let b=createLocation(gt.location,mt,j);a&&a(b,mt),_e=_();let ft=getHistoryState(b,_e),pt=gt.createHref(b);d.replaceState(ft,"",pt),s&&h&&h({action:et,location:gt.location,delta:0})}function lt(mt){let j=c.location.origin!=="null"?c.location.origin:c.location.href,b=typeof mt=="string"?mt:createPath(mt);return b=b.replace(/ $/,"%20"),invariant(j,"No window.location.(origin|href) available to create URL for href: "+b),new URL(b,j)}let gt={get action(){return et},get location(){return e(c,d)},listen(mt){if(h)throw new Error("A history only accepts one active listener");return c.addEventListener(PopStateEventType,ct),h=mt,()=>{c.removeEventListener(PopStateEventType,ct),h=null}},createHref(mt){return i(c,mt)},createURL:lt,encodeLocation(mt){let j=lt(mt);return{pathname:j.pathname,search:j.search,hash:j.hash}},push:ut,replace:ot,go(mt){return d.go(mt)}};return gt}var ResultType;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(ResultType||(ResultType={}));const immutableRouteKeys=new Set(["lazy","caseSensitive","path","id","index","children"]);function isIndexRoute(e){return e.index===!0}function convertRoutesToDataRoutes(e,i,a,o){return a===void 0&&(a=[]),o===void 0&&(o={}),e.map((c,s)=>{let d=[...a,String(s)],et=typeof c.id=="string"?c.id:d.join("-");if(invariant(c.index!==!0||!c.children,"Cannot specify children on an index route"),invariant(!o[et],'Found a route id collision on id "'+et+`".  Route id's must be globally unique within Data Router usages`),isIndexRoute(c)){let h=_extends$2({},c,i(c),{id:et});return o[et]=h,h}else{let h=_extends$2({},c,i(c),{id:et,children:void 0});return o[et]=h,c.children&&(h.children=convertRoutesToDataRoutes(c.children,i,d,o)),h}})}function matchRoutes(e,i,a){return a===void 0&&(a="/"),matchRoutesImpl(e,i,a,!1)}function matchRoutesImpl(e,i,a,o){let c=typeof i=="string"?parsePath(i):i,s=stripBasename(c.pathname||"/",a);if(s==null)return null;let d=flattenRoutes(e);rankRouteBranches(d);let et=null;for(let h=0;et==null&&h<d.length;++h){let _e=decodePath(s);et=matchRouteBranch(d[h],_e,o)}return et}function convertRouteMatchToUiMatch(e,i){let{route:a,pathname:o,params:c}=e;return{id:a.id,pathname:o,params:c,data:i[a.id],handle:a.handle}}function flattenRoutes(e,i,a,o){i===void 0&&(i=[]),a===void 0&&(a=[]),o===void 0&&(o="");let c=(s,d,et)=>{let h={relativePath:et===void 0?s.path||"":et,caseSensitive:s.caseSensitive===!0,childrenIndex:d,route:s};h.relativePath.startsWith("/")&&(invariant(h.relativePath.startsWith(o),'Absolute route path "'+h.relativePath+'" nested under path '+('"'+o+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),h.relativePath=h.relativePath.slice(o.length));let _e=joinPaths([o,h.relativePath]),_=a.concat(h);s.children&&s.children.length>0&&(invariant(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+_e+'".')),flattenRoutes(s.children,i,_,_e)),!(s.path==null&&!s.index)&&i.push({path:_e,score:computeScore(_e,s.index),routesMeta:_})};return e.forEach((s,d)=>{var et;if(s.path===""||!((et=s.path)!=null&&et.includes("?")))c(s,d);else for(let h of explodeOptionalSegments(s.path))c(s,d,h)}),i}function explodeOptionalSegments(e){let i=e.split("/");if(i.length===0)return[];let[a,...o]=i,c=a.endsWith("?"),s=a.replace(/\?$/,"");if(o.length===0)return c?[s,""]:[s];let d=explodeOptionalSegments(o.join("/")),et=[];return et.push(...d.map(h=>h===""?s:[s,h].join("/"))),c&&et.push(...d),et.map(h=>e.startsWith("/")&&h===""?"/":h)}function rankRouteBranches(e){e.sort((i,a)=>i.score!==a.score?a.score-i.score:compareIndexes(i.routesMeta.map(o=>o.childrenIndex),a.routesMeta.map(o=>o.childrenIndex)))}const paramRe=/^:[\w-]+$/,dynamicSegmentValue=3,indexRouteValue=2,emptySegmentValue=1,staticSegmentValue=10,splatPenalty=-2,isSplat=e=>e==="*";function computeScore(e,i){let a=e.split("/"),o=a.length;return a.some(isSplat)&&(o+=splatPenalty),i&&(o+=indexRouteValue),a.filter(c=>!isSplat(c)).reduce((c,s)=>c+(paramRe.test(s)?dynamicSegmentValue:s===""?emptySegmentValue:staticSegmentValue),o)}function compareIndexes(e,i){return e.length===i.length&&e.slice(0,-1).every((o,c)=>o===i[c])?e[e.length-1]-i[i.length-1]:0}function matchRouteBranch(e,i,a){a===void 0&&(a=!1);let{routesMeta:o}=e,c={},s="/",d=[];for(let et=0;et<o.length;++et){let h=o[et],_e=et===o.length-1,_=s==="/"?i:i.slice(s.length)||"/",ct=matchPath({path:h.relativePath,caseSensitive:h.caseSensitive,end:_e},_),ut=h.route;if(!ct&&_e&&a&&!o[o.length-1].route.index&&(ct=matchPath({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},_)),!ct)return null;Object.assign(c,ct.params),d.push({params:c,pathname:joinPaths([s,ct.pathname]),pathnameBase:normalizePathname(joinPaths([s,ct.pathnameBase])),route:ut}),ct.pathnameBase!=="/"&&(s=joinPaths([s,ct.pathnameBase]))}return d}function matchPath(e,i){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[a,o]=compilePath(e.path,e.caseSensitive,e.end),c=i.match(a);if(!c)return null;let s=c[0],d=s.replace(/(.)\/+$/,"$1"),et=c.slice(1);return{params:o.reduce((_e,_,ct)=>{let{paramName:ut,isOptional:ot}=_;if(ut==="*"){let gt=et[ct]||"";d=s.slice(0,s.length-gt.length).replace(/(.)\/+$/,"$1")}const lt=et[ct];return ot&&!lt?_e[ut]=void 0:_e[ut]=(lt||"").replace(/%2F/g,"/"),_e},{}),pathname:s,pathnameBase:d,pattern:e}}function compilePath(e,i,a){i===void 0&&(i=!1),a===void 0&&(a=!0),warning(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let o=[],c="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,et,h)=>(o.push({paramName:et,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(o.push({paramName:"*"}),c+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):a?c+="\\/*$":e!==""&&e!=="/"&&(c+="(?:(?=\\/|$))"),[new RegExp(c,i?void 0:"i"),o]}function decodePath(e){try{return e.split("/").map(i=>decodeURIComponent(i).replace(/\//g,"%2F")).join("/")}catch(i){return warning(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+i+").")),e}}function stripBasename(e,i){if(i==="/")return e;if(!e.toLowerCase().startsWith(i.toLowerCase()))return null;let a=i.endsWith("/")?i.length-1:i.length,o=e.charAt(a);return o&&o!=="/"?null:e.slice(a)||"/"}function resolvePath(e,i){i===void 0&&(i="/");let{pathname:a,search:o="",hash:c=""}=typeof e=="string"?parsePath(e):e;return{pathname:a?a.startsWith("/")?a:resolvePathname(a,i):i,search:normalizeSearch(o),hash:normalizeHash(c)}}function resolvePathname(e,i){let a=i.replace(/\/+$/,"").split("/");return e.split("/").forEach(c=>{c===".."?a.length>1&&a.pop():c!=="."&&a.push(c)}),a.length>1?a.join("/"):"/"}function getInvalidPathError(e,i,a,o){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+i+"` field ["+JSON.stringify(o)+"].  Please separate it out to the ")+("`to."+a+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function getPathContributingMatches(e){return e.filter((i,a)=>a===0||i.route.path&&i.route.path.length>0)}function getResolveToMatches(e,i){let a=getPathContributingMatches(e);return i?a.map((o,c)=>c===a.length-1?o.pathname:o.pathnameBase):a.map(o=>o.pathnameBase)}function resolveTo(e,i,a,o){o===void 0&&(o=!1);let c;typeof e=="string"?c=parsePath(e):(c=_extends$2({},e),invariant(!c.pathname||!c.pathname.includes("?"),getInvalidPathError("?","pathname","search",c)),invariant(!c.pathname||!c.pathname.includes("#"),getInvalidPathError("#","pathname","hash",c)),invariant(!c.search||!c.search.includes("#"),getInvalidPathError("#","search","hash",c)));let s=e===""||c.pathname==="",d=s?"/":c.pathname,et;if(d==null)et=a;else{let ct=i.length-1;if(!o&&d.startsWith("..")){let ut=d.split("/");for(;ut[0]==="..";)ut.shift(),ct-=1;c.pathname=ut.join("/")}et=ct>=0?i[ct]:"/"}let h=resolvePath(c,et),_e=d&&d!=="/"&&d.endsWith("/"),_=(s||d===".")&&a.endsWith("/");return!h.pathname.endsWith("/")&&(_e||_)&&(h.pathname+="/"),h}const joinPaths=e=>e.join("/").replace(/\/\/+/g,"/"),normalizePathname=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),normalizeSearch=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,normalizeHash=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;class ErrorResponseImpl{constructor(i,a,o,c){c===void 0&&(c=!1),this.status=i,this.statusText=a||"",this.internal=c,o instanceof Error?(this.data=o.toString(),this.error=o):this.data=o}}function isRouteErrorResponse(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const validMutationMethodsArr=["post","put","patch","delete"],validMutationMethods=new Set(validMutationMethodsArr),validRequestMethodsArr=["get",...validMutationMethodsArr],validRequestMethods=new Set(validRequestMethodsArr),redirectStatusCodes=new Set([301,302,303,307,308]),redirectPreserveMethodStatusCodes=new Set([307,308]),IDLE_NAVIGATION={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},IDLE_FETCHER={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},IDLE_BLOCKER={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},ABSOLUTE_URL_REGEX=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,defaultMapRouteProperties=e=>({hasErrorBoundary:!!e.hasErrorBoundary}),TRANSITIONS_STORAGE_KEY="remix-router-transitions";function createRouter(e){const i=e.window?e.window:typeof window<"u"?window:void 0,a=typeof i<"u"&&typeof i.document<"u"&&typeof i.document.createElement<"u",o=!a;invariant(e.routes.length>0,"You must provide a non-empty routes array to createRouter");let c;if(e.mapRouteProperties)c=e.mapRouteProperties;else if(e.detectErrorBoundary){let _t=e.detectErrorBoundary;c=kt=>({hasErrorBoundary:_t(kt)})}else c=defaultMapRouteProperties;let s={},d=convertRoutesToDataRoutes(e.routes,c,void 0,s),et,h=e.basename||"/",_e=e.dataStrategy||defaultDataStrategy,_=e.patchRoutesOnNavigation,ct=_extends$2({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,v7_skipActionErrorRevalidation:!1},e.future),ut=null,ot=new Set,lt=null,gt=null,mt=null,j=e.hydrationData!=null,b=matchRoutes(d,e.history.location,h),ft=null;if(b==null&&!_){let _t=getInternalRouterError(404,{pathname:e.history.location.pathname}),{matches:kt,route:It}=getShortCircuitMatches(d);b=kt,ft={[It.id]:_t}}b&&!e.hydrationData&&zn(b,d,e.history.location.pathname).active&&(b=null);let pt;if(b)if(b.some(_t=>_t.route.lazy))pt=!1;else if(!b.some(_t=>_t.route.loader))pt=!0;else if(ct.v7_partialHydration){let _t=e.hydrationData?e.hydrationData.loaderData:null,kt=e.hydrationData?e.hydrationData.errors:null;if(kt){let It=b.findIndex(Wt=>kt[Wt.route.id]!==void 0);pt=b.slice(0,It+1).every(Wt=>!shouldLoadRouteOnHydration(Wt.route,_t,kt))}else pt=b.every(It=>!shouldLoadRouteOnHydration(It.route,_t,kt))}else pt=e.hydrationData!=null;else if(pt=!1,b=[],ct.v7_partialHydration){let _t=zn(null,d,e.history.location.pathname);_t.active&&_t.matches&&(b=_t.matches)}let nt,$={historyAction:e.history.action,location:e.history.location,matches:b,initialized:pt,navigation:IDLE_NAVIGATION,restoreScrollPosition:e.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||ft,fetchers:new Map,blockers:new Map},rt=Action.Pop,it=!1,dt,At=!1,ht=new Map,St=null,Rt=!1,Jt=!1,Ut=[],Yt=new Set,Nt=new Map,Bt=0,wt=-1,Lt=new Map,$t=new Set,bt=new Map,at=new Map,st=new Set,yt=new Map,Pt=new Map,Tt;function Mt(){if(ut=e.history.listen(_t=>{let{action:kt,location:It,delta:Wt}=_t;if(Tt){Tt(),Tt=void 0;return}warning(Pt.size===0||Wt!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let yn=Wn({currentLocation:$.location,nextLocation:It,historyAction:kt});if(yn&&Wt!=null){let kn=new Promise(En=>{Tt=En});e.history.go(Wt*-1),Bn(yn,{state:"blocked",location:It,proceed(){Bn(yn,{state:"proceeding",proceed:void 0,reset:void 0,location:It}),kn.then(()=>e.history.go(Wt))},reset(){let En=new Map($.blockers);En.set(yn,IDLE_BLOCKER),hn({blockers:En})}});return}return bn(kt,It)}),a){restoreAppliedTransitions(i,ht);let _t=()=>persistAppliedTransitions(i,ht);i.addEventListener("pagehide",_t),St=()=>i.removeEventListener("pagehide",_t)}return $.initialized||bn(Action.Pop,$.location,{initialHydration:!0}),nt}function Gt(){ut&&ut(),St&&St(),ot.clear(),dt&&dt.abort(),$.fetchers.forEach((_t,kt)=>dr(kt)),$.blockers.forEach((_t,kt)=>en(kt))}function un(_t){return ot.add(_t),()=>ot.delete(_t)}function hn(_t,kt){kt===void 0&&(kt={}),$=_extends$2({},$,_t);let It=[],Wt=[];ct.v7_fetcherPersist&&$.fetchers.forEach((yn,kn)=>{yn.state==="idle"&&(st.has(kn)?Wt.push(kn):It.push(kn))}),[...ot].forEach(yn=>yn($,{deletedFetchers:Wt,viewTransitionOpts:kt.viewTransitionOpts,flushSync:kt.flushSync===!0})),ct.v7_fetcherPersist&&(It.forEach(yn=>$.fetchers.delete(yn)),Wt.forEach(yn=>dr(yn)))}function fn(_t,kt,It){var Wt,yn;let{flushSync:kn}=It===void 0?{}:It,En=$.actionData!=null&&$.navigation.formMethod!=null&&isMutationMethod($.navigation.formMethod)&&$.navigation.state==="loading"&&((Wt=_t.state)==null?void 0:Wt._isRedirect)!==!0,Mn;kt.actionData?Object.keys(kt.actionData).length>0?Mn=kt.actionData:Mn=null:En?Mn=$.actionData:Mn=null;let Sn=kt.loaderData?mergeLoaderData($.loaderData,kt.loaderData,kt.matches||[],kt.errors):$.loaderData,wn=$.blockers;wn.size>0&&(wn=new Map(wn),wn.forEach((qn,pr)=>wn.set(pr,IDLE_BLOCKER)));let Fn=it===!0||$.navigation.formMethod!=null&&isMutationMethod($.navigation.formMethod)&&((yn=_t.state)==null?void 0:yn._isRedirect)!==!0;et&&(d=et,et=void 0),Rt||rt===Action.Pop||(rt===Action.Push?e.history.push(_t,_t.state):rt===Action.Replace&&e.history.replace(_t,_t.state));let Un;if(rt===Action.Pop){let qn=ht.get($.location.pathname);qn&&qn.has(_t.pathname)?Un={currentLocation:$.location,nextLocation:_t}:ht.has(_t.pathname)&&(Un={currentLocation:_t,nextLocation:$.location})}else if(At){let qn=ht.get($.location.pathname);qn?qn.add(_t.pathname):(qn=new Set([_t.pathname]),ht.set($.location.pathname,qn)),Un={currentLocation:$.location,nextLocation:_t}}hn(_extends$2({},kt,{actionData:Mn,loaderData:Sn,historyAction:rt,location:_t,initialized:!0,navigation:IDLE_NAVIGATION,revalidation:"idle",restoreScrollPosition:Gn(_t,kt.matches||$.matches),preventScrollReset:Fn,blockers:wn}),{viewTransitionOpts:Un,flushSync:kn===!0}),rt=Action.Pop,it=!1,At=!1,Rt=!1,Jt=!1,Ut=[]}async function mn(_t,kt){if(typeof _t=="number"){e.history.go(_t);return}let It=normalizeTo($.location,$.matches,h,ct.v7_prependBasename,_t,ct.v7_relativeSplatPath,kt==null?void 0:kt.fromRouteId,kt==null?void 0:kt.relative),{path:Wt,submission:yn,error:kn}=normalizeNavigateOptions(ct.v7_normalizeFormMethod,!1,It,kt),En=$.location,Mn=createLocation($.location,Wt,kt&&kt.state);Mn=_extends$2({},Mn,e.history.encodeLocation(Mn));let Sn=kt&&kt.replace!=null?kt.replace:void 0,wn=Action.Push;Sn===!0?wn=Action.Replace:Sn===!1||yn!=null&&isMutationMethod(yn.formMethod)&&yn.formAction===$.location.pathname+$.location.search&&(wn=Action.Replace);let Fn=kt&&"preventScrollReset"in kt?kt.preventScrollReset===!0:void 0,Un=(kt&&kt.flushSync)===!0,qn=Wn({currentLocation:En,nextLocation:Mn,historyAction:wn});if(qn){Bn(qn,{state:"blocked",location:Mn,proceed(){Bn(qn,{state:"proceeding",proceed:void 0,reset:void 0,location:Mn}),mn(_t,kt)},reset(){let pr=new Map($.blockers);pr.set(qn,IDLE_BLOCKER),hn({blockers:pr})}});return}return await bn(wn,Mn,{submission:yn,pendingError:kn,preventScrollReset:Fn,replace:kt&&kt.replace,enableViewTransition:kt&&kt.viewTransition,flushSync:Un})}function Cn(){if(Ln(),hn({revalidation:"loading"}),$.navigation.state!=="submitting"){if($.navigation.state==="idle"){bn($.historyAction,$.location,{startUninterruptedRevalidation:!0});return}bn(rt||$.historyAction,$.navigation.location,{overrideNavigation:$.navigation,enableViewTransition:At===!0})}}async function bn(_t,kt,It){dt&&dt.abort(),dt=null,rt=_t,Rt=(It&&It.startUninterruptedRevalidation)===!0,$n($.location,$.matches),it=(It&&It.preventScrollReset)===!0,At=(It&&It.enableViewTransition)===!0;let Wt=et||d,yn=It&&It.overrideNavigation,kn=matchRoutes(Wt,kt,h),En=(It&&It.flushSync)===!0,Mn=zn(kn,Wt,kt.pathname);if(Mn.active&&Mn.matches&&(kn=Mn.matches),!kn){let{error:_r,notFoundMatches:sr,route:Rr}=Yn(kt.pathname);fn(kt,{matches:sr,loaderData:{},errors:{[Rr.id]:_r}},{flushSync:En});return}if($.initialized&&!Jt&&isHashChangeOnly($.location,kt)&&!(It&&It.submission&&isMutationMethod(It.submission.formMethod))){fn(kt,{matches:kn},{flushSync:En});return}dt=new AbortController;let Sn=createClientSideRequest(e.history,kt,dt.signal,It&&It.submission),wn;if(It&&It.pendingError)wn=[findNearestBoundary(kn).route.id,{type:ResultType.error,error:It.pendingError}];else if(It&&It.submission&&isMutationMethod(It.submission.formMethod)){let _r=await rn(Sn,kt,It.submission,kn,Mn.active,{replace:It.replace,flushSync:En});if(_r.shortCircuited)return;if(_r.pendingActionResult){let[sr,Rr]=_r.pendingActionResult;if(isErrorResult(Rr)&&isRouteErrorResponse(Rr.error)&&Rr.error.status===404){dt=null,fn(kt,{matches:_r.matches,loaderData:{},errors:{[sr]:Rr.error}});return}}kn=_r.matches||kn,wn=_r.pendingActionResult,yn=getLoadingNavigation(kt,It.submission),En=!1,Mn.active=!1,Sn=createClientSideRequest(e.history,Sn.url,Sn.signal)}let{shortCircuited:Fn,matches:Un,loaderData:qn,errors:pr}=await on(Sn,kt,kn,Mn.active,yn,It&&It.submission,It&&It.fetcherSubmission,It&&It.replace,It&&It.initialHydration===!0,En,wn);Fn||(dt=null,fn(kt,_extends$2({matches:Un||kn},getActionDataForCommit(wn),{loaderData:qn,errors:pr})))}async function rn(_t,kt,It,Wt,yn,kn){kn===void 0&&(kn={}),Ln();let En=getSubmittingNavigation(kt,It);if(hn({navigation:En},{flushSync:kn.flushSync===!0}),yn){let wn=await xt(Wt,kt.pathname,_t.signal);if(wn.type==="aborted")return{shortCircuited:!0};if(wn.type==="error"){let Fn=findNearestBoundary(wn.partialMatches).route.id;return{matches:wn.partialMatches,pendingActionResult:[Fn,{type:ResultType.error,error:wn.error}]}}else if(wn.matches)Wt=wn.matches;else{let{notFoundMatches:Fn,error:Un,route:qn}=Yn(kt.pathname);return{matches:Fn,pendingActionResult:[qn.id,{type:ResultType.error,error:Un}]}}}let Mn,Sn=getTargetMatch(Wt,kt);if(!Sn.route.action&&!Sn.route.lazy)Mn={type:ResultType.error,error:getInternalRouterError(405,{method:_t.method,pathname:kt.pathname,routeId:Sn.route.id})};else if(Mn=(await vn("action",$,_t,[Sn],Wt,null))[Sn.route.id],_t.signal.aborted)return{shortCircuited:!0};if(isRedirectResult(Mn)){let wn;return kn&&kn.replace!=null?wn=kn.replace:wn=normalizeRedirectLocation(Mn.response.headers.get("Location"),new URL(_t.url),h)===$.location.pathname+$.location.search,await An(_t,Mn,!0,{submission:It,replace:wn}),{shortCircuited:!0}}if(isDeferredResult(Mn))throw getInternalRouterError(400,{type:"defer-action"});if(isErrorResult(Mn)){let wn=findNearestBoundary(Wt,Sn.route.id);return(kn&&kn.replace)!==!0&&(rt=Action.Push),{matches:Wt,pendingActionResult:[wn.route.id,Mn]}}return{matches:Wt,pendingActionResult:[Sn.route.id,Mn]}}async function on(_t,kt,It,Wt,yn,kn,En,Mn,Sn,wn,Fn){let Un=yn||getLoadingNavigation(kt,kn),qn=kn||En||getSubmissionFromNavigation(Un),pr=!Rt&&(!ct.v7_partialHydration||!Sn);if(Wt){if(pr){let Hr=Et(Fn);hn(_extends$2({navigation:Un},Hr!==void 0?{actionData:Hr}:{}),{flushSync:wn})}let xr=await xt(It,kt.pathname,_t.signal);if(xr.type==="aborted")return{shortCircuited:!0};if(xr.type==="error"){let Hr=findNearestBoundary(xr.partialMatches).route.id;return{matches:xr.partialMatches,loaderData:{},errors:{[Hr]:xr.error}}}else if(xr.matches)It=xr.matches;else{let{error:Hr,notFoundMatches:ho,route:ao}=Yn(kt.pathname);return{matches:ho,loaderData:{},errors:{[ao.id]:Hr}}}}let _r=et||d,[sr,Rr]=getMatchesToLoad(e.history,$,It,qn,kt,ct.v7_partialHydration&&Sn===!0,ct.v7_skipActionErrorRevalidation,Jt,Ut,Yt,st,bt,$t,_r,h,Fn);if(Dt(xr=>!(It&&It.some(Hr=>Hr.route.id===xr))||sr&&sr.some(Hr=>Hr.route.id===xr)),wt=++Bt,sr.length===0&&Rr.length===0){let xr=wr();return fn(kt,_extends$2({matches:It,loaderData:{},errors:Fn&&isErrorResult(Fn[1])?{[Fn[0]]:Fn[1].error}:null},getActionDataForCommit(Fn),xr?{fetchers:new Map($.fetchers)}:{}),{flushSync:wn}),{shortCircuited:!0}}if(pr){let xr={};if(!Wt){xr.navigation=Un;let Hr=Et(Fn);Hr!==void 0&&(xr.actionData=Hr)}Rr.length>0&&(xr.fetchers=Ft(Rr)),hn(xr,{flushSync:wn})}Rr.forEach(xr=>{Vn(xr.key),xr.controller&&Nt.set(xr.key,xr.controller)});let na=()=>Rr.forEach(xr=>Vn(xr.key));dt&&dt.signal.addEventListener("abort",na);let{loaderResults:_a,fetcherResults:ba}=await Kt($,It,sr,Rr,_t);if(_t.signal.aborted)return{shortCircuited:!0};dt&&dt.signal.removeEventListener("abort",na),Rr.forEach(xr=>Nt.delete(xr.key));let to=findRedirect(_a);if(to)return await An(_t,to.result,!0,{replace:Mn}),{shortCircuited:!0};if(to=findRedirect(ba),to)return $t.add(to.key),await An(_t,to.result,!0,{replace:Mn}),{shortCircuited:!0};let{loaderData:Fo,errors:io}=processLoaderData($,It,_a,Fn,Rr,ba,yt);yt.forEach((xr,Hr)=>{xr.subscribe(ho=>{(ho||xr.done)&&yt.delete(Hr)})}),ct.v7_partialHydration&&Sn&&$.errors&&(io=_extends$2({},$.errors,io));let so=wr(),wo=_n(wt),bo=so||wo||Rr.length>0;return _extends$2({matches:It,loaderData:Fo,errors:io},bo?{fetchers:new Map($.fetchers)}:{})}function Et(_t){if(_t&&!isErrorResult(_t[1]))return{[_t[0]]:_t[1].data};if($.actionData)return Object.keys($.actionData).length===0?null:$.actionData}function Ft(_t){return _t.forEach(kt=>{let It=$.fetchers.get(kt.key),Wt=getLoadingFetcher(void 0,It?It.data:void 0);$.fetchers.set(kt.key,Wt)}),new Map($.fetchers)}function Qt(_t,kt,It,Wt){if(o)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");Vn(_t);let yn=(Wt&&Wt.flushSync)===!0,kn=et||d,En=normalizeTo($.location,$.matches,h,ct.v7_prependBasename,It,ct.v7_relativeSplatPath,kt,Wt==null?void 0:Wt.relative),Mn=matchRoutes(kn,En,h),Sn=zn(Mn,kn,En);if(Sn.active&&Sn.matches&&(Mn=Sn.matches),!Mn){Jn(_t,kt,getInternalRouterError(404,{pathname:En}),{flushSync:yn});return}let{path:wn,submission:Fn,error:Un}=normalizeNavigateOptions(ct.v7_normalizeFormMethod,!0,En,Wt);if(Un){Jn(_t,kt,Un,{flushSync:yn});return}let qn=getTargetMatch(Mn,wn),pr=(Wt&&Wt.preventScrollReset)===!0;if(Fn&&isMutationMethod(Fn.formMethod)){sn(_t,kt,wn,qn,Mn,Sn.active,yn,pr,Fn);return}bt.set(_t,{routeId:kt,path:wn}),pn(_t,kt,wn,qn,Mn,Sn.active,yn,pr,Fn)}async function sn(_t,kt,It,Wt,yn,kn,En,Mn,Sn){Ln(),bt.delete(_t);function wn($r){if(!$r.route.action&&!$r.route.lazy){let lo=getInternalRouterError(405,{method:Sn.formMethod,pathname:It,routeId:kt});return Jn(_t,kt,lo,{flushSync:En}),!0}return!1}if(!kn&&wn(Wt))return;let Fn=$.fetchers.get(_t);Tn(_t,getSubmittingFetcher(Sn,Fn),{flushSync:En});let Un=new AbortController,qn=createClientSideRequest(e.history,It,Un.signal,Sn);if(kn){let $r=await xt(yn,It,qn.signal);if($r.type==="aborted")return;if($r.type==="error"){Jn(_t,kt,$r.error,{flushSync:En});return}else if($r.matches){if(yn=$r.matches,Wt=getTargetMatch(yn,It),wn(Wt))return}else{Jn(_t,kt,getInternalRouterError(404,{pathname:It}),{flushSync:En});return}}Nt.set(_t,Un);let pr=Bt,sr=(await vn("action",$,qn,[Wt],yn,_t))[Wt.route.id];if(qn.signal.aborted){Nt.get(_t)===Un&&Nt.delete(_t);return}if(ct.v7_fetcherPersist&&st.has(_t)){if(isRedirectResult(sr)||isErrorResult(sr)){Tn(_t,getDoneFetcher(void 0));return}}else{if(isRedirectResult(sr))if(Nt.delete(_t),wt>pr){Tn(_t,getDoneFetcher(void 0));return}else return $t.add(_t),Tn(_t,getLoadingFetcher(Sn)),An(qn,sr,!1,{fetcherSubmission:Sn,preventScrollReset:Mn});if(isErrorResult(sr)){Jn(_t,kt,sr.error);return}}if(isDeferredResult(sr))throw getInternalRouterError(400,{type:"defer-action"});let Rr=$.navigation.location||$.location,na=createClientSideRequest(e.history,Rr,Un.signal),_a=et||d,ba=$.navigation.state!=="idle"?matchRoutes(_a,$.navigation.location,h):$.matches;invariant(ba,"Didn't find any matches after fetcher action");let to=++Bt;Lt.set(_t,to);let Fo=getLoadingFetcher(Sn,sr.data);$.fetchers.set(_t,Fo);let[io,so]=getMatchesToLoad(e.history,$,ba,Sn,Rr,!1,ct.v7_skipActionErrorRevalidation,Jt,Ut,Yt,st,bt,$t,_a,h,[Wt.route.id,sr]);so.filter($r=>$r.key!==_t).forEach($r=>{let lo=$r.key,Ho=$.fetchers.get(lo),yo=getLoadingFetcher(void 0,Ho?Ho.data:void 0);$.fetchers.set(lo,yo),Vn(lo),$r.controller&&Nt.set(lo,$r.controller)}),hn({fetchers:new Map($.fetchers)});let wo=()=>so.forEach($r=>Vn($r.key));Un.signal.addEventListener("abort",wo);let{loaderResults:bo,fetcherResults:xr}=await Kt($,ba,io,so,na);if(Un.signal.aborted)return;Un.signal.removeEventListener("abort",wo),Lt.delete(_t),Nt.delete(_t),so.forEach($r=>Nt.delete($r.key));let Hr=findRedirect(bo);if(Hr)return An(na,Hr.result,!1,{preventScrollReset:Mn});if(Hr=findRedirect(xr),Hr)return $t.add(Hr.key),An(na,Hr.result,!1,{preventScrollReset:Mn});let{loaderData:ho,errors:ao}=processLoaderData($,ba,bo,void 0,so,xr,yt);if($.fetchers.has(_t)){let $r=getDoneFetcher(sr.data);$.fetchers.set(_t,$r)}_n(to),$.navigation.state==="loading"&&to>wt?(invariant(rt,"Expected pending action"),dt&&dt.abort(),fn($.navigation.location,{matches:ba,loaderData:ho,errors:ao,fetchers:new Map($.fetchers)})):(hn({errors:ao,loaderData:mergeLoaderData($.loaderData,ho,ba,ao),fetchers:new Map($.fetchers)}),Jt=!1)}async function pn(_t,kt,It,Wt,yn,kn,En,Mn,Sn){let wn=$.fetchers.get(_t);Tn(_t,getLoadingFetcher(Sn,wn?wn.data:void 0),{flushSync:En});let Fn=new AbortController,Un=createClientSideRequest(e.history,It,Fn.signal);if(kn){let sr=await xt(yn,It,Un.signal);if(sr.type==="aborted")return;if(sr.type==="error"){Jn(_t,kt,sr.error,{flushSync:En});return}else if(sr.matches)yn=sr.matches,Wt=getTargetMatch(yn,It);else{Jn(_t,kt,getInternalRouterError(404,{pathname:It}),{flushSync:En});return}}Nt.set(_t,Fn);let qn=Bt,_r=(await vn("loader",$,Un,[Wt],yn,_t))[Wt.route.id];if(isDeferredResult(_r)&&(_r=await resolveDeferredData(_r,Un.signal,!0)||_r),Nt.get(_t)===Fn&&Nt.delete(_t),!Un.signal.aborted){if(st.has(_t)){Tn(_t,getDoneFetcher(void 0));return}if(isRedirectResult(_r))if(wt>qn){Tn(_t,getDoneFetcher(void 0));return}else{$t.add(_t),await An(Un,_r,!1,{preventScrollReset:Mn});return}if(isErrorResult(_r)){Jn(_t,kt,_r.error);return}invariant(!isDeferredResult(_r),"Unhandled fetcher deferred data"),Tn(_t,getDoneFetcher(_r.data))}}async function An(_t,kt,It,Wt){let{submission:yn,fetcherSubmission:kn,preventScrollReset:En,replace:Mn}=Wt===void 0?{}:Wt;kt.response.headers.has("X-Remix-Revalidate")&&(Jt=!0);let Sn=kt.response.headers.get("Location");invariant(Sn,"Expected a Location header on the redirect Response"),Sn=normalizeRedirectLocation(Sn,new URL(_t.url),h);let wn=createLocation($.location,Sn,{_isRedirect:!0});if(a){let sr=!1;if(kt.response.headers.has("X-Remix-Reload-Document"))sr=!0;else if(ABSOLUTE_URL_REGEX.test(Sn)){const Rr=e.history.createURL(Sn);sr=Rr.origin!==i.location.origin||stripBasename(Rr.pathname,h)==null}if(sr){Mn?i.location.replace(Sn):i.location.assign(Sn);return}}dt=null;let Fn=Mn===!0||kt.response.headers.has("X-Remix-Replace")?Action.Replace:Action.Push,{formMethod:Un,formAction:qn,formEncType:pr}=$.navigation;!yn&&!kn&&Un&&qn&&pr&&(yn=getSubmissionFromNavigation($.navigation));let _r=yn||kn;if(redirectPreserveMethodStatusCodes.has(kt.response.status)&&_r&&isMutationMethod(_r.formMethod))await bn(Fn,wn,{submission:_extends$2({},_r,{formAction:Sn}),preventScrollReset:En||it,enableViewTransition:It?At:void 0});else{let sr=getLoadingNavigation(wn,yn);await bn(Fn,wn,{overrideNavigation:sr,fetcherSubmission:kn,preventScrollReset:En||it,enableViewTransition:It?At:void 0})}}async function vn(_t,kt,It,Wt,yn,kn){let En,Mn={};try{En=await callDataStrategyImpl(_e,_t,kt,It,Wt,yn,kn,s,c)}catch(Sn){return Wt.forEach(wn=>{Mn[wn.route.id]={type:ResultType.error,error:Sn}}),Mn}for(let[Sn,wn]of Object.entries(En))if(isRedirectDataStrategyResultResult(wn)){let Fn=wn.result;Mn[Sn]={type:ResultType.redirect,response:normalizeRelativeRoutingRedirectResponse(Fn,It,Sn,yn,h,ct.v7_relativeSplatPath)}}else Mn[Sn]=await convertDataStrategyResultToDataResult(wn);return Mn}async function Kt(_t,kt,It,Wt,yn){let kn=_t.matches,En=vn("loader",_t,yn,It,kt,null),Mn=Promise.all(Wt.map(async Fn=>{if(Fn.matches&&Fn.match&&Fn.controller){let qn=(await vn("loader",_t,createClientSideRequest(e.history,Fn.path,Fn.controller.signal),[Fn.match],Fn.matches,Fn.key))[Fn.match.route.id];return{[Fn.key]:qn}}else return Promise.resolve({[Fn.key]:{type:ResultType.error,error:getInternalRouterError(404,{pathname:Fn.path})}})})),Sn=await En,wn=(await Mn).reduce((Fn,Un)=>Object.assign(Fn,Un),{});return await Promise.all([resolveNavigationDeferredResults(kt,Sn,yn.signal,kn,_t.loaderData),resolveFetcherDeferredResults(kt,wn,Wt)]),{loaderResults:Sn,fetcherResults:wn}}function Ln(){Jt=!0,Ut.push(...Dt()),bt.forEach((_t,kt)=>{Nt.has(kt)&&Yt.add(kt),Vn(kt)})}function Tn(_t,kt,It){It===void 0&&(It={}),$.fetchers.set(_t,kt),hn({fetchers:new Map($.fetchers)},{flushSync:(It&&It.flushSync)===!0})}function Jn(_t,kt,It,Wt){Wt===void 0&&(Wt={});let yn=findNearestBoundary($.matches,kt);dr(_t),hn({errors:{[yn.route.id]:It},fetchers:new Map($.fetchers)},{flushSync:(Wt&&Wt.flushSync)===!0})}function er(_t){return ct.v7_fetcherPersist&&(at.set(_t,(at.get(_t)||0)+1),st.has(_t)&&st.delete(_t)),$.fetchers.get(_t)||IDLE_FETCHER}function dr(_t){let kt=$.fetchers.get(_t);Nt.has(_t)&&!(kt&&kt.state==="loading"&&Lt.has(_t))&&Vn(_t),bt.delete(_t),Lt.delete(_t),$t.delete(_t),st.delete(_t),Yt.delete(_t),$.fetchers.delete(_t)}function Hn(_t){if(ct.v7_fetcherPersist){let kt=(at.get(_t)||0)-1;kt<=0?(at.delete(_t),st.add(_t)):at.set(_t,kt)}else dr(_t);hn({fetchers:new Map($.fetchers)})}function Vn(_t){let kt=Nt.get(_t);kt&&(kt.abort(),Nt.delete(_t))}function or(_t){for(let kt of _t){let It=er(kt),Wt=getDoneFetcher(It.data);$.fetchers.set(kt,Wt)}}function wr(){let _t=[],kt=!1;for(let It of $t){let Wt=$.fetchers.get(It);invariant(Wt,"Expected fetcher: "+It),Wt.state==="loading"&&($t.delete(It),_t.push(It),kt=!0)}return or(_t),kt}function _n(_t){let kt=[];for(let[It,Wt]of Lt)if(Wt<_t){let yn=$.fetchers.get(It);invariant(yn,"Expected fetcher: "+It),yn.state==="loading"&&(Vn(It),Lt.delete(It),kt.push(It))}return or(kt),kt.length>0}function Zt(_t,kt){let It=$.blockers.get(_t)||IDLE_BLOCKER;return Pt.get(_t)!==kt&&Pt.set(_t,kt),It}function en(_t){$.blockers.delete(_t),Pt.delete(_t)}function Bn(_t,kt){let It=$.blockers.get(_t)||IDLE_BLOCKER;invariant(It.state==="unblocked"&&kt.state==="blocked"||It.state==="blocked"&&kt.state==="blocked"||It.state==="blocked"&&kt.state==="proceeding"||It.state==="blocked"&&kt.state==="unblocked"||It.state==="proceeding"&&kt.state==="unblocked","Invalid blocker state transition: "+It.state+" -> "+kt.state);let Wt=new Map($.blockers);Wt.set(_t,kt),hn({blockers:Wt})}function Wn(_t){let{currentLocation:kt,nextLocation:It,historyAction:Wt}=_t;if(Pt.size===0)return;Pt.size>1&&warning(!1,"A router only supports one blocker at a time");let yn=Array.from(Pt.entries()),[kn,En]=yn[yn.length-1],Mn=$.blockers.get(kn);if(!(Mn&&Mn.state==="proceeding")&&En({currentLocation:kt,nextLocation:It,historyAction:Wt}))return kn}function Yn(_t){let kt=getInternalRouterError(404,{pathname:_t}),It=et||d,{matches:Wt,route:yn}=getShortCircuitMatches(It);return Dt(),{notFoundMatches:Wt,route:yn,error:kt}}function Dt(_t){let kt=[];return yt.forEach((It,Wt)=>{(!_t||_t(Wt))&&(It.cancel(),kt.push(Wt),yt.delete(Wt))}),kt}function gn(_t,kt,It){if(lt=_t,mt=kt,gt=It||null,!j&&$.navigation===IDLE_NAVIGATION){j=!0;let Wt=Gn($.location,$.matches);Wt!=null&&hn({restoreScrollPosition:Wt})}return()=>{lt=null,mt=null,gt=null}}function Dn(_t,kt){return gt&&gt(_t,kt.map(Wt=>convertRouteMatchToUiMatch(Wt,$.loaderData)))||_t.key}function $n(_t,kt){if(lt&&mt){let It=Dn(_t,kt);lt[It]=mt()}}function Gn(_t,kt){if(lt){let It=Dn(_t,kt),Wt=lt[It];if(typeof Wt=="number")return Wt}return null}function zn(_t,kt,It){if(_)if(_t){if(Object.keys(_t[0].params).length>0)return{active:!0,matches:matchRoutesImpl(kt,It,h,!0)}}else return{active:!0,matches:matchRoutesImpl(kt,It,h,!0)||[]};return{active:!1,matches:null}}async function xt(_t,kt,It){if(!_)return{type:"success",matches:_t};let Wt=_t;for(;;){let yn=et==null,kn=et||d,En=s;try{await _({path:kt,matches:Wt,patch:(wn,Fn)=>{It.aborted||patchRoutesImpl(wn,Fn,kn,En,c)}})}catch(wn){return{type:"error",error:wn,partialMatches:Wt}}finally{yn&&!It.aborted&&(d=[...d])}if(It.aborted)return{type:"aborted"};let Mn=matchRoutes(kn,kt,h);if(Mn)return{type:"success",matches:Mn};let Sn=matchRoutesImpl(kn,kt,h,!0);if(!Sn||Wt.length===Sn.length&&Wt.every((wn,Fn)=>wn.route.id===Sn[Fn].route.id))return{type:"success",matches:null};Wt=Sn}}function Ct(_t){s={},et=convertRoutesToDataRoutes(_t,c,void 0,s)}function Ht(_t,kt){let It=et==null;patchRoutesImpl(_t,kt,et||d,s,c),It&&(d=[...d],hn({}))}return nt={get basename(){return h},get future(){return ct},get state(){return $},get routes(){return d},get window(){return i},initialize:Mt,subscribe:un,enableScrollRestoration:gn,navigate:mn,fetch:Qt,revalidate:Cn,createHref:_t=>e.history.createHref(_t),encodeLocation:_t=>e.history.encodeLocation(_t),getFetcher:er,deleteFetcher:Hn,dispose:Gt,getBlocker:Zt,deleteBlocker:en,patchRoutes:Ht,_internalFetchControllers:Nt,_internalActiveDeferreds:yt,_internalSetRoutes:Ct},nt}function isSubmissionNavigation(e){return e!=null&&("formData"in e&&e.formData!=null||"body"in e&&e.body!==void 0)}function normalizeTo(e,i,a,o,c,s,d,et){let h,_e;if(d){h=[];for(let ct of i)if(h.push(ct),ct.route.id===d){_e=ct;break}}else h=i,_e=i[i.length-1];let _=resolveTo(c||".",getResolveToMatches(h,s),stripBasename(e.pathname,a)||e.pathname,et==="path");if(c==null&&(_.search=e.search,_.hash=e.hash),(c==null||c===""||c===".")&&_e){let ct=hasNakedIndexQuery(_.search);if(_e.route.index&&!ct)_.search=_.search?_.search.replace(/^\?/,"?index&"):"?index";else if(!_e.route.index&&ct){let ut=new URLSearchParams(_.search),ot=ut.getAll("index");ut.delete("index"),ot.filter(gt=>gt).forEach(gt=>ut.append("index",gt));let lt=ut.toString();_.search=lt?"?"+lt:""}}return o&&a!=="/"&&(_.pathname=_.pathname==="/"?a:joinPaths([a,_.pathname])),createPath(_)}function normalizeNavigateOptions(e,i,a,o){if(!o||!isSubmissionNavigation(o))return{path:a};if(o.formMethod&&!isValidMethod(o.formMethod))return{path:a,error:getInternalRouterError(405,{method:o.formMethod})};let c=()=>({path:a,error:getInternalRouterError(400,{type:"invalid-body"})}),s=o.formMethod||"get",d=e?s.toUpperCase():s.toLowerCase(),et=stripHashFromPath(a);if(o.body!==void 0){if(o.formEncType==="text/plain"){if(!isMutationMethod(d))return c();let ut=typeof o.body=="string"?o.body:o.body instanceof FormData||o.body instanceof URLSearchParams?Array.from(o.body.entries()).reduce((ot,lt)=>{let[gt,mt]=lt;return""+ot+gt+"="+mt+`
`},""):String(o.body);return{path:a,submission:{formMethod:d,formAction:et,formEncType:o.formEncType,formData:void 0,json:void 0,text:ut}}}else if(o.formEncType==="application/json"){if(!isMutationMethod(d))return c();try{let ut=typeof o.body=="string"?JSON.parse(o.body):o.body;return{path:a,submission:{formMethod:d,formAction:et,formEncType:o.formEncType,formData:void 0,json:ut,text:void 0}}}catch{return c()}}}invariant(typeof FormData=="function","FormData is not available in this environment");let h,_e;if(o.formData)h=convertFormDataToSearchParams(o.formData),_e=o.formData;else if(o.body instanceof FormData)h=convertFormDataToSearchParams(o.body),_e=o.body;else if(o.body instanceof URLSearchParams)h=o.body,_e=convertSearchParamsToFormData(h);else if(o.body==null)h=new URLSearchParams,_e=new FormData;else try{h=new URLSearchParams(o.body),_e=convertSearchParamsToFormData(h)}catch{return c()}let _={formMethod:d,formAction:et,formEncType:o&&o.formEncType||"application/x-www-form-urlencoded",formData:_e,json:void 0,text:void 0};if(isMutationMethod(_.formMethod))return{path:a,submission:_};let ct=parsePath(a);return i&&ct.search&&hasNakedIndexQuery(ct.search)&&h.append("index",""),ct.search="?"+h,{path:createPath(ct),submission:_}}function getLoaderMatchesUntilBoundary(e,i,a){a===void 0&&(a=!1);let o=e.findIndex(c=>c.route.id===i);return o>=0?e.slice(0,a?o+1:o):e}function getMatchesToLoad(e,i,a,o,c,s,d,et,h,_e,_,ct,ut,ot,lt,gt){let mt=gt?isErrorResult(gt[1])?gt[1].error:gt[1].data:void 0,j=e.createURL(i.location),b=e.createURL(c),ft=a;s&&i.errors?ft=getLoaderMatchesUntilBoundary(a,Object.keys(i.errors)[0],!0):gt&&isErrorResult(gt[1])&&(ft=getLoaderMatchesUntilBoundary(a,gt[0]));let pt=gt?gt[1].statusCode:void 0,nt=d&&pt&&pt>=400,$=ft.filter((it,dt)=>{let{route:At}=it;if(At.lazy)return!0;if(At.loader==null)return!1;if(s)return shouldLoadRouteOnHydration(At,i.loaderData,i.errors);if(isNewLoader(i.loaderData,i.matches[dt],it)||h.some(Rt=>Rt===it.route.id))return!0;let ht=i.matches[dt],St=it;return shouldRevalidateLoader(it,_extends$2({currentUrl:j,currentParams:ht.params,nextUrl:b,nextParams:St.params},o,{actionResult:mt,actionStatus:pt,defaultShouldRevalidate:nt?!1:et||j.pathname+j.search===b.pathname+b.search||j.search!==b.search||isNewRouteInstance(ht,St)}))}),rt=[];return ct.forEach((it,dt)=>{if(s||!a.some(Jt=>Jt.route.id===it.routeId)||_.has(dt))return;let At=matchRoutes(ot,it.path,lt);if(!At){rt.push({key:dt,routeId:it.routeId,path:it.path,matches:null,match:null,controller:null});return}let ht=i.fetchers.get(dt),St=getTargetMatch(At,it.path),Rt=!1;ut.has(dt)?Rt=!1:_e.has(dt)?(_e.delete(dt),Rt=!0):ht&&ht.state!=="idle"&&ht.data===void 0?Rt=et:Rt=shouldRevalidateLoader(St,_extends$2({currentUrl:j,currentParams:i.matches[i.matches.length-1].params,nextUrl:b,nextParams:a[a.length-1].params},o,{actionResult:mt,actionStatus:pt,defaultShouldRevalidate:nt?!1:et})),Rt&&rt.push({key:dt,routeId:it.routeId,path:it.path,matches:At,match:St,controller:new AbortController})}),[$,rt]}function shouldLoadRouteOnHydration(e,i,a){if(e.lazy)return!0;if(!e.loader)return!1;let o=i!=null&&i[e.id]!==void 0,c=a!=null&&a[e.id]!==void 0;return!o&&c?!1:typeof e.loader=="function"&&e.loader.hydrate===!0?!0:!o&&!c}function isNewLoader(e,i,a){let o=!i||a.route.id!==i.route.id,c=e[a.route.id]===void 0;return o||c}function isNewRouteInstance(e,i){let a=e.route.path;return e.pathname!==i.pathname||a!=null&&a.endsWith("*")&&e.params["*"]!==i.params["*"]}function shouldRevalidateLoader(e,i){if(e.route.shouldRevalidate){let a=e.route.shouldRevalidate(i);if(typeof a=="boolean")return a}return i.defaultShouldRevalidate}function patchRoutesImpl(e,i,a,o,c){var s;let d;if(e){let _e=o[e];invariant(_e,"No route found to patch children into: routeId = "+e),_e.children||(_e.children=[]),d=_e.children}else d=a;let et=i.filter(_e=>!d.some(_=>isSameRoute(_e,_))),h=convertRoutesToDataRoutes(et,c,[e||"_","patch",String(((s=d)==null?void 0:s.length)||"0")],o);d.push(...h)}function isSameRoute(e,i){return"id"in e&&"id"in i&&e.id===i.id?!0:e.index===i.index&&e.path===i.path&&e.caseSensitive===i.caseSensitive?(!e.children||e.children.length===0)&&(!i.children||i.children.length===0)?!0:e.children.every((a,o)=>{var c;return(c=i.children)==null?void 0:c.some(s=>isSameRoute(a,s))}):!1}async function loadLazyRouteModule(e,i,a){if(!e.lazy)return;let o=await e.lazy();if(!e.lazy)return;let c=a[e.id];invariant(c,"No route found in manifest");let s={};for(let d in o){let h=c[d]!==void 0&&d!=="hasErrorBoundary";warning(!h,'Route "'+c.id+'" has a static property "'+d+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+d+'" will be ignored.')),!h&&!immutableRouteKeys.has(d)&&(s[d]=o[d])}Object.assign(c,s),Object.assign(c,_extends$2({},i(c),{lazy:void 0}))}async function defaultDataStrategy(e){let{matches:i}=e,a=i.filter(c=>c.shouldLoad);return(await Promise.all(a.map(c=>c.resolve()))).reduce((c,s,d)=>Object.assign(c,{[a[d].route.id]:s}),{})}async function callDataStrategyImpl(e,i,a,o,c,s,d,et,h,_e){let _=s.map(ot=>ot.route.lazy?loadLazyRouteModule(ot.route,h,et):void 0),ct=s.map((ot,lt)=>{let gt=_[lt],mt=c.some(b=>b.route.id===ot.route.id);return _extends$2({},ot,{shouldLoad:mt,resolve:async b=>(b&&o.method==="GET"&&(ot.route.lazy||ot.route.loader)&&(mt=!0),mt?callLoaderOrAction(i,o,ot,gt,b,_e):Promise.resolve({type:ResultType.data,result:void 0}))})}),ut=await e({matches:ct,request:o,params:s[0].params,fetcherKey:d,context:_e});try{await Promise.all(_)}catch{}return ut}async function callLoaderOrAction(e,i,a,o,c,s){let d,et,h=_e=>{let _,ct=new Promise((lt,gt)=>_=gt);et=()=>_(),i.signal.addEventListener("abort",et);let ut=lt=>typeof _e!="function"?Promise.reject(new Error("You cannot call the handler for a route which defines a boolean "+('"'+e+'" [routeId: '+a.route.id+"]"))):_e({request:i,params:a.params,context:s},...lt!==void 0?[lt]:[]),ot=(async()=>{try{return{type:"data",result:await(c?c(gt=>ut(gt)):ut())}}catch(lt){return{type:"error",result:lt}}})();return Promise.race([ot,ct])};try{let _e=a.route[e];if(o)if(_e){let _,[ct]=await Promise.all([h(_e).catch(ut=>{_=ut}),o]);if(_!==void 0)throw _;d=ct}else if(await o,_e=a.route[e],_e)d=await h(_e);else if(e==="action"){let _=new URL(i.url),ct=_.pathname+_.search;throw getInternalRouterError(405,{method:i.method,pathname:ct,routeId:a.route.id})}else return{type:ResultType.data,result:void 0};else if(_e)d=await h(_e);else{let _=new URL(i.url),ct=_.pathname+_.search;throw getInternalRouterError(404,{pathname:ct})}invariant(d.result!==void 0,"You defined "+(e==="action"?"an action":"a loader")+" for route "+('"'+a.route.id+"\" but didn't return anything from your `"+e+"` ")+"function. Please return a value or `null`.")}catch(_e){return{type:ResultType.error,result:_e}}finally{et&&i.signal.removeEventListener("abort",et)}return d}async function convertDataStrategyResultToDataResult(e){let{result:i,type:a}=e;if(isResponse(i)){let _e;try{let _=i.headers.get("Content-Type");_&&/\bapplication\/json\b/.test(_)?i.body==null?_e=null:_e=await i.json():_e=await i.text()}catch(_){return{type:ResultType.error,error:_}}return a===ResultType.error?{type:ResultType.error,error:new ErrorResponseImpl(i.status,i.statusText,_e),statusCode:i.status,headers:i.headers}:{type:ResultType.data,data:_e,statusCode:i.status,headers:i.headers}}if(a===ResultType.error){if(isDataWithResponseInit(i)){var o;if(i.data instanceof Error){var c;return{type:ResultType.error,error:i.data,statusCode:(c=i.init)==null?void 0:c.status}}i=new ErrorResponseImpl(((o=i.init)==null?void 0:o.status)||500,void 0,i.data)}return{type:ResultType.error,error:i,statusCode:isRouteErrorResponse(i)?i.status:void 0}}if(isDeferredData(i)){var s,d;return{type:ResultType.deferred,deferredData:i,statusCode:(s=i.init)==null?void 0:s.status,headers:((d=i.init)==null?void 0:d.headers)&&new Headers(i.init.headers)}}if(isDataWithResponseInit(i)){var et,h;return{type:ResultType.data,data:i.data,statusCode:(et=i.init)==null?void 0:et.status,headers:(h=i.init)!=null&&h.headers?new Headers(i.init.headers):void 0}}return{type:ResultType.data,data:i}}function normalizeRelativeRoutingRedirectResponse(e,i,a,o,c,s){let d=e.headers.get("Location");if(invariant(d,"Redirects returned/thrown from loaders/actions must have a Location header"),!ABSOLUTE_URL_REGEX.test(d)){let et=o.slice(0,o.findIndex(h=>h.route.id===a)+1);d=normalizeTo(new URL(i.url),et,c,!0,d,s),e.headers.set("Location",d)}return e}function normalizeRedirectLocation(e,i,a){if(ABSOLUTE_URL_REGEX.test(e)){let o=e,c=o.startsWith("//")?new URL(i.protocol+o):new URL(o),s=stripBasename(c.pathname,a)!=null;if(c.origin===i.origin&&s)return c.pathname+c.search+c.hash}return e}function createClientSideRequest(e,i,a,o){let c=e.createURL(stripHashFromPath(i)).toString(),s={signal:a};if(o&&isMutationMethod(o.formMethod)){let{formMethod:d,formEncType:et}=o;s.method=d.toUpperCase(),et==="application/json"?(s.headers=new Headers({"Content-Type":et}),s.body=JSON.stringify(o.json)):et==="text/plain"?s.body=o.text:et==="application/x-www-form-urlencoded"&&o.formData?s.body=convertFormDataToSearchParams(o.formData):s.body=o.formData}return new Request(c,s)}function convertFormDataToSearchParams(e){let i=new URLSearchParams;for(let[a,o]of e.entries())i.append(a,typeof o=="string"?o:o.name);return i}function convertSearchParamsToFormData(e){let i=new FormData;for(let[a,o]of e.entries())i.append(a,o);return i}function processRouteLoaderData(e,i,a,o,c){let s={},d=null,et,h=!1,_e={},_=a&&isErrorResult(a[1])?a[1].error:void 0;return e.forEach(ct=>{if(!(ct.route.id in i))return;let ut=ct.route.id,ot=i[ut];if(invariant(!isRedirectResult(ot),"Cannot handle redirect results in processLoaderData"),isErrorResult(ot)){let lt=ot.error;_!==void 0&&(lt=_,_=void 0),d=d||{};{let gt=findNearestBoundary(e,ut);d[gt.route.id]==null&&(d[gt.route.id]=lt)}s[ut]=void 0,h||(h=!0,et=isRouteErrorResponse(ot.error)?ot.error.status:500),ot.headers&&(_e[ut]=ot.headers)}else isDeferredResult(ot)?(o.set(ut,ot.deferredData),s[ut]=ot.deferredData.data,ot.statusCode!=null&&ot.statusCode!==200&&!h&&(et=ot.statusCode),ot.headers&&(_e[ut]=ot.headers)):(s[ut]=ot.data,ot.statusCode&&ot.statusCode!==200&&!h&&(et=ot.statusCode),ot.headers&&(_e[ut]=ot.headers))}),_!==void 0&&a&&(d={[a[0]]:_},s[a[0]]=void 0),{loaderData:s,errors:d,statusCode:et||200,loaderHeaders:_e}}function processLoaderData(e,i,a,o,c,s,d){let{loaderData:et,errors:h}=processRouteLoaderData(i,a,o,d);return c.forEach(_e=>{let{key:_,match:ct,controller:ut}=_e,ot=s[_];if(invariant(ot,"Did not find corresponding fetcher result"),!(ut&&ut.signal.aborted))if(isErrorResult(ot)){let lt=findNearestBoundary(e.matches,ct==null?void 0:ct.route.id);h&&h[lt.route.id]||(h=_extends$2({},h,{[lt.route.id]:ot.error})),e.fetchers.delete(_)}else if(isRedirectResult(ot))invariant(!1,"Unhandled fetcher revalidation redirect");else if(isDeferredResult(ot))invariant(!1,"Unhandled fetcher deferred data");else{let lt=getDoneFetcher(ot.data);e.fetchers.set(_,lt)}}),{loaderData:et,errors:h}}function mergeLoaderData(e,i,a,o){let c=_extends$2({},i);for(let s of a){let d=s.route.id;if(i.hasOwnProperty(d)?i[d]!==void 0&&(c[d]=i[d]):e[d]!==void 0&&s.route.loader&&(c[d]=e[d]),o&&o.hasOwnProperty(d))break}return c}function getActionDataForCommit(e){return e?isErrorResult(e[1])?{actionData:{}}:{actionData:{[e[0]]:e[1].data}}:{}}function findNearestBoundary(e,i){return(i?e.slice(0,e.findIndex(o=>o.route.id===i)+1):[...e]).reverse().find(o=>o.route.hasErrorBoundary===!0)||e[0]}function getShortCircuitMatches(e){let i=e.length===1?e[0]:e.find(a=>a.index||!a.path||a.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:i}],route:i}}function getInternalRouterError(e,i){let{pathname:a,routeId:o,method:c,type:s,message:d}=i===void 0?{}:i,et="Unknown Server Error",h="Unknown @remix-run/router error";return e===400?(et="Bad Request",c&&a&&o?h="You made a "+c+' request to "'+a+'" but '+('did not provide a `loader` for route "'+o+'", ')+"so there is no way to handle the request.":s==="defer-action"?h="defer() is not supported in actions":s==="invalid-body"&&(h="Unable to encode submission body")):e===403?(et="Forbidden",h='Route "'+o+'" does not match URL "'+a+'"'):e===404?(et="Not Found",h='No route matches URL "'+a+'"'):e===405&&(et="Method Not Allowed",c&&a&&o?h="You made a "+c.toUpperCase()+' request to "'+a+'" but '+('did not provide an `action` for route "'+o+'", ')+"so there is no way to handle the request.":c&&(h='Invalid request method "'+c.toUpperCase()+'"')),new ErrorResponseImpl(e||500,et,new Error(h),!0)}function findRedirect(e){let i=Object.entries(e);for(let a=i.length-1;a>=0;a--){let[o,c]=i[a];if(isRedirectResult(c))return{key:o,result:c}}}function stripHashFromPath(e){let i=typeof e=="string"?parsePath(e):e;return createPath(_extends$2({},i,{hash:""}))}function isHashChangeOnly(e,i){return e.pathname!==i.pathname||e.search!==i.search?!1:e.hash===""?i.hash!=="":e.hash===i.hash?!0:i.hash!==""}function isRedirectDataStrategyResultResult(e){return isResponse(e.result)&&redirectStatusCodes.has(e.result.status)}function isDeferredResult(e){return e.type===ResultType.deferred}function isErrorResult(e){return e.type===ResultType.error}function isRedirectResult(e){return(e&&e.type)===ResultType.redirect}function isDataWithResponseInit(e){return typeof e=="object"&&e!=null&&"type"in e&&"data"in e&&"init"in e&&e.type==="DataWithResponseInit"}function isDeferredData(e){let i=e;return i&&typeof i=="object"&&typeof i.data=="object"&&typeof i.subscribe=="function"&&typeof i.cancel=="function"&&typeof i.resolveData=="function"}function isResponse(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.headers=="object"&&typeof e.body<"u"}function isValidMethod(e){return validRequestMethods.has(e.toLowerCase())}function isMutationMethod(e){return validMutationMethods.has(e.toLowerCase())}async function resolveNavigationDeferredResults(e,i,a,o,c){let s=Object.entries(i);for(let d=0;d<s.length;d++){let[et,h]=s[d],_e=e.find(ut=>(ut==null?void 0:ut.route.id)===et);if(!_e)continue;let _=o.find(ut=>ut.route.id===_e.route.id),ct=_!=null&&!isNewRouteInstance(_,_e)&&(c&&c[_e.route.id])!==void 0;isDeferredResult(h)&&ct&&await resolveDeferredData(h,a,!1).then(ut=>{ut&&(i[et]=ut)})}}async function resolveFetcherDeferredResults(e,i,a){for(let o=0;o<a.length;o++){let{key:c,routeId:s,controller:d}=a[o],et=i[c];e.find(_e=>(_e==null?void 0:_e.route.id)===s)&&isDeferredResult(et)&&(invariant(d,"Expected an AbortController for revalidating fetcher deferred result"),await resolveDeferredData(et,d.signal,!0).then(_e=>{_e&&(i[c]=_e)}))}}async function resolveDeferredData(e,i,a){if(a===void 0&&(a=!1),!await e.deferredData.resolveData(i)){if(a)try{return{type:ResultType.data,data:e.deferredData.unwrappedData}}catch(c){return{type:ResultType.error,error:c}}return{type:ResultType.data,data:e.deferredData.data}}}function hasNakedIndexQuery(e){return new URLSearchParams(e).getAll("index").some(i=>i==="")}function getTargetMatch(e,i){let a=typeof i=="string"?parsePath(i).search:i.search;if(e[e.length-1].route.index&&hasNakedIndexQuery(a||""))return e[e.length-1];let o=getPathContributingMatches(e);return o[o.length-1]}function getSubmissionFromNavigation(e){let{formMethod:i,formAction:a,formEncType:o,text:c,formData:s,json:d}=e;if(!(!i||!a||!o)){if(c!=null)return{formMethod:i,formAction:a,formEncType:o,formData:void 0,json:void 0,text:c};if(s!=null)return{formMethod:i,formAction:a,formEncType:o,formData:s,json:void 0,text:void 0};if(d!==void 0)return{formMethod:i,formAction:a,formEncType:o,formData:void 0,json:d,text:void 0}}}function getLoadingNavigation(e,i){return i?{state:"loading",location:e,formMethod:i.formMethod,formAction:i.formAction,formEncType:i.formEncType,formData:i.formData,json:i.json,text:i.text}:{state:"loading",location:e,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function getSubmittingNavigation(e,i){return{state:"submitting",location:e,formMethod:i.formMethod,formAction:i.formAction,formEncType:i.formEncType,formData:i.formData,json:i.json,text:i.text}}function getLoadingFetcher(e,i){return e?{state:"loading",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:i}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:i}}function getSubmittingFetcher(e,i){return{state:"submitting",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:i?i.data:void 0}}function getDoneFetcher(e){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function restoreAppliedTransitions(e,i){try{let a=e.sessionStorage.getItem(TRANSITIONS_STORAGE_KEY);if(a){let o=JSON.parse(a);for(let[c,s]of Object.entries(o||{}))s&&Array.isArray(s)&&i.set(c,new Set(s||[]))}}catch{}}function persistAppliedTransitions(e,i){if(i.size>0){let a={};for(let[o,c]of i)a[o]=[...c];try{e.sessionStorage.setItem(TRANSITIONS_STORAGE_KEY,JSON.stringify(a))}catch(o){warning(!1,"Failed to save applied view transitions in sessionStorage ("+o+").")}}}/**
 * React Router v6.28.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends$1(){return _extends$1=Object.assign?Object.assign.bind():function(e){for(var i=1;i<arguments.length;i++){var a=arguments[i];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(e[o]=a[o])}return e},_extends$1.apply(this,arguments)}const DataRouterContext=reactExports.createContext(null),DataRouterStateContext=reactExports.createContext(null),NavigationContext=reactExports.createContext(null),LocationContext=reactExports.createContext(null),RouteContext=reactExports.createContext({outlet:null,matches:[],isDataRoute:!1}),RouteErrorContext=reactExports.createContext(null);function useInRouterContext(){return reactExports.useContext(LocationContext)!=null}function useLocation(){return useInRouterContext()||invariant(!1),reactExports.useContext(LocationContext).location}const OutletContext=reactExports.createContext(null);function useOutlet(e){let i=reactExports.useContext(RouteContext).outlet;return i&&reactExports.createElement(OutletContext.Provider,{value:e},i)}function useParams(){let{matches:e}=reactExports.useContext(RouteContext),i=e[e.length-1];return i?i.params:{}}function useRoutesImpl(e,i,a,o){useInRouterContext()||invariant(!1);let{navigator:c}=reactExports.useContext(NavigationContext),{matches:s}=reactExports.useContext(RouteContext),d=s[s.length-1],et=d?d.params:{};d&&d.pathname;let h=d?d.pathnameBase:"/";d&&d.route;let _e=useLocation(),_;_=_e;let ct=_.pathname||"/",ut=ct;if(h!=="/"){let gt=h.replace(/^\//,"").split("/");ut="/"+ct.replace(/^\//,"").split("/").slice(gt.length).join("/")}let ot=matchRoutes(e,{pathname:ut});return _renderMatches(ot&&ot.map(gt=>Object.assign({},gt,{params:Object.assign({},et,gt.params),pathname:joinPaths([h,c.encodeLocation?c.encodeLocation(gt.pathname).pathname:gt.pathname]),pathnameBase:gt.pathnameBase==="/"?h:joinPaths([h,c.encodeLocation?c.encodeLocation(gt.pathnameBase).pathname:gt.pathnameBase])})),s,a,o)}function DefaultErrorComponent(){let e=useRouteError(),i=isRouteErrorResponse(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),a=e instanceof Error?e.stack:null,c={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return reactExports.createElement(reactExports.Fragment,null,reactExports.createElement("h2",null,"Unexpected Application Error!"),reactExports.createElement("h3",{style:{fontStyle:"italic"}},i),a?reactExports.createElement("pre",{style:c},a):null,null)}const defaultErrorElement=reactExports.createElement(DefaultErrorComponent,null);class RenderErrorBoundary extends reactExports.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,a){return a.location!==i.location||a.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:a.error,location:a.location,revalidation:i.revalidation||a.revalidation}}componentDidCatch(i,a){console.error("React Router caught the following error during render",i,a)}render(){return this.state.error!==void 0?reactExports.createElement(RouteContext.Provider,{value:this.props.routeContext},reactExports.createElement(RouteErrorContext.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function RenderedRoute(e){let{routeContext:i,match:a,children:o}=e,c=reactExports.useContext(DataRouterContext);return c&&c.static&&c.staticContext&&(a.route.errorElement||a.route.ErrorBoundary)&&(c.staticContext._deepestRenderedBoundaryId=a.route.id),reactExports.createElement(RouteContext.Provider,{value:i},o)}function _renderMatches(e,i,a,o){var c;if(i===void 0&&(i=[]),a===void 0&&(a=null),o===void 0&&(o=null),e==null){var s;if(!a)return null;if(a.errors)e=a.matches;else if((s=o)!=null&&s.v7_partialHydration&&i.length===0&&!a.initialized&&a.matches.length>0)e=a.matches;else return null}let d=e,et=(c=a)==null?void 0:c.errors;if(et!=null){let _=d.findIndex(ct=>ct.route.id&&(et==null?void 0:et[ct.route.id])!==void 0);_>=0||invariant(!1),d=d.slice(0,Math.min(d.length,_+1))}let h=!1,_e=-1;if(a&&o&&o.v7_partialHydration)for(let _=0;_<d.length;_++){let ct=d[_];if((ct.route.HydrateFallback||ct.route.hydrateFallbackElement)&&(_e=_),ct.route.id){let{loaderData:ut,errors:ot}=a,lt=ct.route.loader&&ut[ct.route.id]===void 0&&(!ot||ot[ct.route.id]===void 0);if(ct.route.lazy||lt){h=!0,_e>=0?d=d.slice(0,_e+1):d=[d[0]];break}}}return d.reduceRight((_,ct,ut)=>{let ot,lt=!1,gt=null,mt=null;a&&(ot=et&&ct.route.id?et[ct.route.id]:void 0,gt=ct.route.errorElement||defaultErrorElement,h&&(_e<0&&ut===0?(warningOnce("route-fallback"),lt=!0,mt=null):_e===ut&&(lt=!0,mt=ct.route.hydrateFallbackElement||null)));let j=i.concat(d.slice(0,ut+1)),b=()=>{let ft;return ot?ft=gt:lt?ft=mt:ct.route.Component?ft=reactExports.createElement(ct.route.Component,null):ct.route.element?ft=ct.route.element:ft=_,reactExports.createElement(RenderedRoute,{match:ct,routeContext:{outlet:_,matches:j,isDataRoute:a!=null},children:ft})};return a&&(ct.route.ErrorBoundary||ct.route.errorElement||ut===0)?reactExports.createElement(RenderErrorBoundary,{location:a.location,revalidation:a.revalidation,component:gt,error:ot,children:b(),routeContext:{outlet:null,matches:j,isDataRoute:!0}}):b()},null)}var DataRouterStateHook$1=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(DataRouterStateHook$1||{});function useDataRouterState(e){let i=reactExports.useContext(DataRouterStateContext);return i||invariant(!1),i}function useRouteContext(e){let i=reactExports.useContext(RouteContext);return i||invariant(!1),i}function useCurrentRouteId(e){let i=useRouteContext(),a=i.matches[i.matches.length-1];return a.route.id||invariant(!1),a.route.id}function useRouteError(){var e;let i=reactExports.useContext(RouteErrorContext),a=useDataRouterState(DataRouterStateHook$1.UseRouteError),o=useCurrentRouteId(DataRouterStateHook$1.UseRouteError);return i!==void 0?i:(e=a.errors)==null?void 0:e[o]}const alreadyWarned$1={};function warningOnce(e,i,a){alreadyWarned$1[e]||(alreadyWarned$1[e]=!0)}const alreadyWarned={};function warnOnce(e,i){alreadyWarned[i]||(alreadyWarned[i]=!0,console.warn(i))}const logDeprecation=(e,i,a)=>warnOnce(e,"⚠️ React Router Future Flag Warning: "+i+". "+("You can use the `"+e+"` future flag to opt-in early. ")+("For more information, see "+a+"."));function logV6DeprecationWarnings(e,i){e!=null&&e.v7_startTransition||logDeprecation("v7_startTransition","React Router will begin wrapping state updates in `React.startTransition` in v7","https://reactrouter.com/v6/upgrading/future#v7_starttransition"),!(e!=null&&e.v7_relativeSplatPath)&&(!i||!i.v7_relativeSplatPath)&&logDeprecation("v7_relativeSplatPath","Relative route resolution within Splat routes is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath"),i&&(i.v7_fetcherPersist||logDeprecation("v7_fetcherPersist","The persistence behavior of fetchers is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_fetcherpersist"),i.v7_normalizeFormMethod||logDeprecation("v7_normalizeFormMethod","Casing of `formMethod` fields is being normalized to uppercase in v7","https://reactrouter.com/v6/upgrading/future#v7_normalizeformmethod"),i.v7_partialHydration||logDeprecation("v7_partialHydration","`RouterProvider` hydration behavior is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_partialhydration"),i.v7_skipActionErrorRevalidation||logDeprecation("v7_skipActionErrorRevalidation","The revalidation behavior after 4xx/5xx `action` responses is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_skipactionerrorrevalidation"))}function Outlet(e){return useOutlet(e.context)}function Router(e){let{basename:i="/",children:a=null,location:o,navigationType:c=Action.Pop,navigator:s,static:d=!1,future:et}=e;useInRouterContext()&&invariant(!1);let h=i.replace(/^\/*/,"/"),_e=reactExports.useMemo(()=>({basename:h,navigator:s,static:d,future:_extends$1({v7_relativeSplatPath:!1},et)}),[h,et,s,d]);typeof o=="string"&&(o=parsePath(o));let{pathname:_="/",search:ct="",hash:ut="",state:ot=null,key:lt="default"}=o,gt=reactExports.useMemo(()=>{let mt=stripBasename(_,h);return mt==null?null:{location:{pathname:mt,search:ct,hash:ut,state:ot,key:lt},navigationType:c}},[h,_,ct,ut,ot,lt,c]);return gt==null?null:reactExports.createElement(NavigationContext.Provider,{value:_e},reactExports.createElement(LocationContext.Provider,{children:a,value:gt}))}new Promise(()=>{});function mapRouteProperties(e){let i={hasErrorBoundary:e.ErrorBoundary!=null||e.errorElement!=null};return e.Component&&Object.assign(i,{element:reactExports.createElement(e.Component),Component:void 0}),e.HydrateFallback&&Object.assign(i,{hydrateFallbackElement:reactExports.createElement(e.HydrateFallback),HydrateFallback:void 0}),e.ErrorBoundary&&Object.assign(i,{errorElement:reactExports.createElement(e.ErrorBoundary),ErrorBoundary:void 0}),i}/**
 * React Router DOM v6.28.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends(){return _extends=Object.assign?Object.assign.bind():function(e){for(var i=1;i<arguments.length;i++){var a=arguments[i];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(e[o]=a[o])}return e},_extends.apply(this,arguments)}const REACT_ROUTER_VERSION="6";try{window.__reactRouterVersion=REACT_ROUTER_VERSION}catch{}function createHashRouter(e,i){return createRouter({basename:void 0,future:_extends({},void 0,{v7_prependBasename:!0}),history:createHashHistory({window:void 0}),hydrationData:parseHydrationData(),routes:e,mapRouteProperties,dataStrategy:void 0,patchRoutesOnNavigation:void 0,window:void 0}).initialize()}function parseHydrationData(){var e;let i=(e=window)==null?void 0:e.__staticRouterHydrationData;return i&&i.errors&&(i=_extends({},i,{errors:deserializeErrors(i.errors)})),i}function deserializeErrors(e){if(!e)return null;let i=Object.entries(e),a={};for(let[o,c]of i)if(c&&c.__type==="RouteErrorResponse")a[o]=new ErrorResponseImpl(c.status,c.statusText,c.data,c.internal===!0);else if(c&&c.__type==="Error"){if(c.__subType){let s=window[c.__subType];if(typeof s=="function")try{let d=new s(c.message);d.stack="",a[o]=d}catch{}}if(a[o]==null){let s=new Error(c.message);s.stack="",a[o]=s}}else a[o]=c;return a}const ViewTransitionContext=reactExports.createContext({isTransitioning:!1}),FetchersContext=reactExports.createContext(new Map),START_TRANSITION="startTransition",startTransitionImpl=React[START_TRANSITION],FLUSH_SYNC="flushSync",flushSyncImpl=ReactDOM[FLUSH_SYNC];function startTransitionSafe(e){startTransitionImpl?startTransitionImpl(e):e()}function flushSyncSafe(e){flushSyncImpl?flushSyncImpl(e):e()}class Deferred{constructor(){this.status="pending",this.promise=new Promise((i,a)=>{this.resolve=o=>{this.status==="pending"&&(this.status="resolved",i(o))},this.reject=o=>{this.status==="pending"&&(this.status="rejected",a(o))}})}}function RouterProvider(e){let{fallbackElement:i,router:a,future:o}=e,[c,s]=reactExports.useState(a.state),[d,et]=reactExports.useState(),[h,_e]=reactExports.useState({isTransitioning:!1}),[_,ct]=reactExports.useState(),[ut,ot]=reactExports.useState(),[lt,gt]=reactExports.useState(),mt=reactExports.useRef(new Map),{v7_startTransition:j}=o||{},b=reactExports.useCallback(it=>{j?startTransitionSafe(it):it()},[j]),ft=reactExports.useCallback((it,dt)=>{let{deletedFetchers:At,flushSync:ht,viewTransitionOpts:St}=dt;At.forEach(Jt=>mt.current.delete(Jt)),it.fetchers.forEach((Jt,Ut)=>{Jt.data!==void 0&&mt.current.set(Ut,Jt.data)});let Rt=a.window==null||a.window.document==null||typeof a.window.document.startViewTransition!="function";if(!St||Rt){ht?flushSyncSafe(()=>s(it)):b(()=>s(it));return}if(ht){flushSyncSafe(()=>{ut&&(_&&_.resolve(),ut.skipTransition()),_e({isTransitioning:!0,flushSync:!0,currentLocation:St.currentLocation,nextLocation:St.nextLocation})});let Jt=a.window.document.startViewTransition(()=>{flushSyncSafe(()=>s(it))});Jt.finished.finally(()=>{flushSyncSafe(()=>{ct(void 0),ot(void 0),et(void 0),_e({isTransitioning:!1})})}),flushSyncSafe(()=>ot(Jt));return}ut?(_&&_.resolve(),ut.skipTransition(),gt({state:it,currentLocation:St.currentLocation,nextLocation:St.nextLocation})):(et(it),_e({isTransitioning:!0,flushSync:!1,currentLocation:St.currentLocation,nextLocation:St.nextLocation}))},[a.window,ut,_,mt,b]);reactExports.useLayoutEffect(()=>a.subscribe(ft),[a,ft]),reactExports.useEffect(()=>{h.isTransitioning&&!h.flushSync&&ct(new Deferred)},[h]),reactExports.useEffect(()=>{if(_&&d&&a.window){let it=d,dt=_.promise,At=a.window.document.startViewTransition(async()=>{b(()=>s(it)),await dt});At.finished.finally(()=>{ct(void 0),ot(void 0),et(void 0),_e({isTransitioning:!1})}),ot(At)}},[b,d,_,a.window]),reactExports.useEffect(()=>{_&&d&&c.location.key===d.location.key&&_.resolve()},[_,ut,c.location,d]),reactExports.useEffect(()=>{!h.isTransitioning&&lt&&(et(lt.state),_e({isTransitioning:!0,flushSync:!1,currentLocation:lt.currentLocation,nextLocation:lt.nextLocation}),gt(void 0))},[h.isTransitioning,lt]),reactExports.useEffect(()=>{},[]);let pt=reactExports.useMemo(()=>({createHref:a.createHref,encodeLocation:a.encodeLocation,go:it=>a.navigate(it),push:(it,dt,At)=>a.navigate(it,{state:dt,preventScrollReset:At==null?void 0:At.preventScrollReset}),replace:(it,dt,At)=>a.navigate(it,{replace:!0,state:dt,preventScrollReset:At==null?void 0:At.preventScrollReset})}),[a]),nt=a.basename||"/",$=reactExports.useMemo(()=>({router:a,navigator:pt,static:!1,basename:nt}),[a,pt,nt]),rt=reactExports.useMemo(()=>({v7_relativeSplatPath:a.future.v7_relativeSplatPath}),[a.future.v7_relativeSplatPath]);return reactExports.useEffect(()=>logV6DeprecationWarnings(o,a.future),[o,a.future]),reactExports.createElement(reactExports.Fragment,null,reactExports.createElement(DataRouterContext.Provider,{value:$},reactExports.createElement(DataRouterStateContext.Provider,{value:c},reactExports.createElement(FetchersContext.Provider,{value:mt.current},reactExports.createElement(ViewTransitionContext.Provider,{value:h},reactExports.createElement(Router,{basename:nt,location:c.location,navigationType:c.historyAction,navigator:pt,future:rt},c.initialized||a.future.v7_partialHydration?reactExports.createElement(MemoizedDataRoutes,{routes:a.routes,future:a.future,state:c}):i))))),null)}const MemoizedDataRoutes=reactExports.memo(DataRoutes);function DataRoutes(e){let{routes:i,future:a,state:o}=e;return useRoutesImpl(i,void 0,o,a)}var DataRouterHook;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(DataRouterHook||(DataRouterHook={}));var DataRouterStateHook;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(DataRouterStateHook||(DataRouterStateHook={}));function App(){return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Navbar,{}),jsxRuntimeExports.jsx(Outlet,{})]})}function ErrorPage(){const e=useRouteError();return console.error(e),jsxRuntimeExports.jsxs("div",{className:"container mx-auto text-center h-screen flex flex-col justify-center items-center",children:[jsxRuntimeExports.jsx("h1",{className:"text-6xl mb-4",children:"¡Ops!"}),jsxRuntimeExports.jsx("p",{className:"text-2xl mb-4",children:"¡Lo siento! Ocurrió un error inesperado :("}),jsxRuntimeExports.jsx("p",{className:"text-xl",children:jsxRuntimeExports.jsx("i",{children:e.statusText||e.message})})]})}var lib={exports:{}},core_min={};function commonjsRequire(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var pdf={exports:{}};const __viteBrowserExternal={},__viteBrowserExternal$1=Object.freeze(Object.defineProperty({__proto__:null,default:__viteBrowserExternal},Symbol.toStringTag,{value:"Module"})),require$$5=getAugmentedNamespace(__viteBrowserExternal$1);(function(module,exports){(function(i,a){module.exports=i.pdfjsLib=a()})(globalThis,()=>(()=>{var __webpack_modules__=[,(e,i)=>{var wr;Object.defineProperty(i,"__esModule",{value:!0}),i.VerbosityLevel=i.Util=i.UnknownErrorException=i.UnexpectedResponseException=i.TextRenderingMode=i.RenderingIntentFlag=i.PromiseCapability=i.PermissionFlag=i.PasswordResponses=i.PasswordException=i.PageActionEventType=i.OPS=i.MissingPDFException=i.MAX_IMAGE_SIZE_TO_CACHE=i.LINE_FACTOR=i.LINE_DESCENT_FACTOR=i.InvalidPDFException=i.ImageKind=i.IDENTITY_MATRIX=i.FormatError=i.FeatureTest=i.FONT_IDENTITY_MATRIX=i.DocumentActionEventType=i.CMapCompressionType=i.BaseException=i.BASELINE_FACTOR=i.AnnotationType=i.AnnotationReplyType=i.AnnotationPrefix=i.AnnotationMode=i.AnnotationFlag=i.AnnotationFieldFlag=i.AnnotationEditorType=i.AnnotationEditorPrefix=i.AnnotationEditorParamsType=i.AnnotationBorderStyleType=i.AnnotationActionEventType=i.AbortException=void 0,i.assert=wt,i.bytesToString=hn,i.createValidAbsoluteUrl=$t,i.getModificationDate=Tn,i.getUuid=Vn,i.getVerbosityLevel=Ut,i.info=Yt,i.isArrayBuffer=Kt,i.isArrayEqual=Ln,i.isNodeJS=void 0,i.normalizeUnicode=Hn,i.objectFromMap=bn,i.objectSize=Cn,i.setVerbosityLevel=Jt,i.shadow=bt,i.string32=mn,i.stringToBytes=fn,i.stringToPDFString=pn,i.stringToUTF8String=An,i.unreachable=Bt,i.utf8StringToString=vn,i.warn=Nt;const a=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser");i.isNodeJS=a;const o=[1,0,0,1,0,0];i.IDENTITY_MATRIX=o;const c=[.001,0,0,.001,0,0];i.FONT_IDENTITY_MATRIX=c;const s=1e7;i.MAX_IMAGE_SIZE_TO_CACHE=s;const d=1.35;i.LINE_FACTOR=d;const et=.35;i.LINE_DESCENT_FACTOR=et;const h=et/d;i.BASELINE_FACTOR=h;const _e={ANY:1,DISPLAY:2,PRINT:4,SAVE:8,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256};i.RenderingIntentFlag=_e;const _={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3};i.AnnotationMode=_;const ct="pdfjs_internal_editor_";i.AnnotationEditorPrefix=ct;const ut={DISABLE:-1,NONE:0,FREETEXT:3,STAMP:13,INK:15};i.AnnotationEditorType=ut;const ot={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23};i.AnnotationEditorParamsType=ot;const lt={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048};i.PermissionFlag=lt;const gt={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4};i.TextRenderingMode=gt;const mt={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3};i.ImageKind=mt;const j={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26};i.AnnotationType=j;const b={GROUP:"Group",REPLY:"R"};i.AnnotationReplyType=b;const ft={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512};i.AnnotationFlag=ft;const pt={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864};i.AnnotationFieldFlag=pt;const nt={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5};i.AnnotationBorderStyleType=nt;const $={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"};i.AnnotationActionEventType=$;const rt={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"};i.DocumentActionEventType=rt;const it={O:"PageOpen",C:"PageClose"};i.PageActionEventType=it;const dt={ERRORS:0,WARNINGS:1,INFOS:5};i.VerbosityLevel=dt;const At={NONE:0,BINARY:1};i.CMapCompressionType=At;const ht={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91};i.OPS=ht;const St={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};i.PasswordResponses=St;let Rt=dt.WARNINGS;function Jt(_n){Number.isInteger(_n)&&(Rt=_n)}function Ut(){return Rt}function Yt(_n){Rt>=dt.INFOS&&console.log(`Info: ${_n}`)}function Nt(_n){Rt>=dt.WARNINGS&&console.log(`Warning: ${_n}`)}function Bt(_n){throw new Error(_n)}function wt(_n,Zt){_n||Bt(Zt)}function Lt(_n){switch(_n==null?void 0:_n.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function $t(_n,Zt=null,en=null){if(!_n)return null;try{if(en&&typeof _n=="string"){if(en.addDefaultProtocol&&_n.startsWith("www.")){const Wn=_n.match(/\./g);(Wn==null?void 0:Wn.length)>=2&&(_n=`http://${_n}`)}if(en.tryConvertEncoding)try{_n=An(_n)}catch{}}const Bn=Zt?new URL(_n,Zt):new URL(_n);if(Lt(Bn))return Bn}catch{}return null}function bt(_n,Zt,en,Bn=!1){return Object.defineProperty(_n,Zt,{value:en,enumerable:!Bn,configurable:!0,writable:!1}),en}const at=function(){function Zt(en,Bn){this.constructor===Zt&&Bt("Cannot initialize BaseException."),this.message=en,this.name=Bn}return Zt.prototype=new Error,Zt.constructor=Zt,Zt}();i.BaseException=at;class st extends at{constructor(Zt,en){super(Zt,"PasswordException"),this.code=en}}i.PasswordException=st;class yt extends at{constructor(Zt,en){super(Zt,"UnknownErrorException"),this.details=en}}i.UnknownErrorException=yt;class Pt extends at{constructor(Zt){super(Zt,"InvalidPDFException")}}i.InvalidPDFException=Pt;class Tt extends at{constructor(Zt){super(Zt,"MissingPDFException")}}i.MissingPDFException=Tt;class Mt extends at{constructor(Zt,en){super(Zt,"UnexpectedResponseException"),this.status=en}}i.UnexpectedResponseException=Mt;class Gt extends at{constructor(Zt){super(Zt,"FormatError")}}i.FormatError=Gt;class un extends at{constructor(Zt){super(Zt,"AbortException")}}i.AbortException=un;function hn(_n){(typeof _n!="object"||(_n==null?void 0:_n.length)===void 0)&&Bt("Invalid argument for bytesToString");const Zt=_n.length,en=8192;if(Zt<en)return String.fromCharCode.apply(null,_n);const Bn=[];for(let Wn=0;Wn<Zt;Wn+=en){const Yn=Math.min(Wn+en,Zt),Dt=_n.subarray(Wn,Yn);Bn.push(String.fromCharCode.apply(null,Dt))}return Bn.join("")}function fn(_n){typeof _n!="string"&&Bt("Invalid argument for stringToBytes");const Zt=_n.length,en=new Uint8Array(Zt);for(let Bn=0;Bn<Zt;++Bn)en[Bn]=_n.charCodeAt(Bn)&255;return en}function mn(_n){return String.fromCharCode(_n>>24&255,_n>>16&255,_n>>8&255,_n&255)}function Cn(_n){return Object.keys(_n).length}function bn(_n){const Zt=Object.create(null);for(const[en,Bn]of _n)Zt[en]=Bn;return Zt}function rn(){const _n=new Uint8Array(4);return _n[0]=1,new Uint32Array(_n.buffer,0,1)[0]===1}function on(){try{return new Function(""),!0}catch{return!1}}class Et{static get isLittleEndian(){return bt(this,"isLittleEndian",rn())}static get isEvalSupported(){return bt(this,"isEvalSupported",on())}static get isOffscreenCanvasSupported(){return bt(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator>"u"?bt(this,"platform",{isWin:!1,isMac:!1}):bt(this,"platform",{isWin:navigator.platform.includes("Win"),isMac:navigator.platform.includes("Mac")})}static get isCSSRoundSupported(){var Zt,en;return bt(this,"isCSSRoundSupported",(en=(Zt=globalThis.CSS)==null?void 0:Zt.supports)==null?void 0:en.call(Zt,"width: round(1.5px, 1px)"))}}i.FeatureTest=Et;const Ft=[...Array(256).keys()].map(_n=>_n.toString(16).padStart(2,"0"));class Qt{static makeHexColor(Zt,en,Bn){return`#${Ft[Zt]}${Ft[en]}${Ft[Bn]}`}static scaleMinMax(Zt,en){let Bn;Zt[0]?(Zt[0]<0&&(Bn=en[0],en[0]=en[1],en[1]=Bn),en[0]*=Zt[0],en[1]*=Zt[0],Zt[3]<0&&(Bn=en[2],en[2]=en[3],en[3]=Bn),en[2]*=Zt[3],en[3]*=Zt[3]):(Bn=en[0],en[0]=en[2],en[2]=Bn,Bn=en[1],en[1]=en[3],en[3]=Bn,Zt[1]<0&&(Bn=en[2],en[2]=en[3],en[3]=Bn),en[2]*=Zt[1],en[3]*=Zt[1],Zt[2]<0&&(Bn=en[0],en[0]=en[1],en[1]=Bn),en[0]*=Zt[2],en[1]*=Zt[2]),en[0]+=Zt[4],en[1]+=Zt[4],en[2]+=Zt[5],en[3]+=Zt[5]}static transform(Zt,en){return[Zt[0]*en[0]+Zt[2]*en[1],Zt[1]*en[0]+Zt[3]*en[1],Zt[0]*en[2]+Zt[2]*en[3],Zt[1]*en[2]+Zt[3]*en[3],Zt[0]*en[4]+Zt[2]*en[5]+Zt[4],Zt[1]*en[4]+Zt[3]*en[5]+Zt[5]]}static applyTransform(Zt,en){const Bn=Zt[0]*en[0]+Zt[1]*en[2]+en[4],Wn=Zt[0]*en[1]+Zt[1]*en[3]+en[5];return[Bn,Wn]}static applyInverseTransform(Zt,en){const Bn=en[0]*en[3]-en[1]*en[2],Wn=(Zt[0]*en[3]-Zt[1]*en[2]+en[2]*en[5]-en[4]*en[3])/Bn,Yn=(-Zt[0]*en[1]+Zt[1]*en[0]+en[4]*en[1]-en[5]*en[0])/Bn;return[Wn,Yn]}static getAxialAlignedBoundingBox(Zt,en){const Bn=this.applyTransform(Zt,en),Wn=this.applyTransform(Zt.slice(2,4),en),Yn=this.applyTransform([Zt[0],Zt[3]],en),Dt=this.applyTransform([Zt[2],Zt[1]],en);return[Math.min(Bn[0],Wn[0],Yn[0],Dt[0]),Math.min(Bn[1],Wn[1],Yn[1],Dt[1]),Math.max(Bn[0],Wn[0],Yn[0],Dt[0]),Math.max(Bn[1],Wn[1],Yn[1],Dt[1])]}static inverseTransform(Zt){const en=Zt[0]*Zt[3]-Zt[1]*Zt[2];return[Zt[3]/en,-Zt[1]/en,-Zt[2]/en,Zt[0]/en,(Zt[2]*Zt[5]-Zt[4]*Zt[3])/en,(Zt[4]*Zt[1]-Zt[5]*Zt[0])/en]}static singularValueDecompose2dScale(Zt){const en=[Zt[0],Zt[2],Zt[1],Zt[3]],Bn=Zt[0]*en[0]+Zt[1]*en[2],Wn=Zt[0]*en[1]+Zt[1]*en[3],Yn=Zt[2]*en[0]+Zt[3]*en[2],Dt=Zt[2]*en[1]+Zt[3]*en[3],gn=(Bn+Dt)/2,Dn=Math.sqrt((Bn+Dt)**2-4*(Bn*Dt-Yn*Wn))/2,$n=gn+Dn||1,Gn=gn-Dn||1;return[Math.sqrt($n),Math.sqrt(Gn)]}static normalizeRect(Zt){const en=Zt.slice(0);return Zt[0]>Zt[2]&&(en[0]=Zt[2],en[2]=Zt[0]),Zt[1]>Zt[3]&&(en[1]=Zt[3],en[3]=Zt[1]),en}static intersect(Zt,en){const Bn=Math.max(Math.min(Zt[0],Zt[2]),Math.min(en[0],en[2])),Wn=Math.min(Math.max(Zt[0],Zt[2]),Math.max(en[0],en[2]));if(Bn>Wn)return null;const Yn=Math.max(Math.min(Zt[1],Zt[3]),Math.min(en[1],en[3])),Dt=Math.min(Math.max(Zt[1],Zt[3]),Math.max(en[1],en[3]));return Yn>Dt?null:[Bn,Yn,Wn,Dt]}static bezierBoundingBox(Zt,en,Bn,Wn,Yn,Dt,gn,Dn){const $n=[],Gn=[[],[]];let zn,xt,Ct,Ht,_t,kt,It,Wt;for(let Mn=0;Mn<2;++Mn){if(Mn===0?(xt=6*Zt-12*Bn+6*Yn,zn=-3*Zt+9*Bn-9*Yn+3*gn,Ct=3*Bn-3*Zt):(xt=6*en-12*Wn+6*Dt,zn=-3*en+9*Wn-9*Dt+3*Dn,Ct=3*Wn-3*en),Math.abs(zn)<1e-12){if(Math.abs(xt)<1e-12)continue;Ht=-Ct/xt,0<Ht&&Ht<1&&$n.push(Ht);continue}It=xt*xt-4*Ct*zn,Wt=Math.sqrt(It),!(It<0)&&(_t=(-xt+Wt)/(2*zn),0<_t&&_t<1&&$n.push(_t),kt=(-xt-Wt)/(2*zn),0<kt&&kt<1&&$n.push(kt))}let yn=$n.length,kn;const En=yn;for(;yn--;)Ht=$n[yn],kn=1-Ht,Gn[0][yn]=kn*kn*kn*Zt+3*kn*kn*Ht*Bn+3*kn*Ht*Ht*Yn+Ht*Ht*Ht*gn,Gn[1][yn]=kn*kn*kn*en+3*kn*kn*Ht*Wn+3*kn*Ht*Ht*Dt+Ht*Ht*Ht*Dn;return Gn[0][En]=Zt,Gn[1][En]=en,Gn[0][En+1]=gn,Gn[1][En+1]=Dn,Gn[0].length=Gn[1].length=En+2,[Math.min(...Gn[0]),Math.min(...Gn[1]),Math.max(...Gn[0]),Math.max(...Gn[1])]}}i.Util=Qt;const sn=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function pn(_n){if(_n[0]>="ï"){let en;if(_n[0]==="þ"&&_n[1]==="ÿ"?en="utf-16be":_n[0]==="ÿ"&&_n[1]==="þ"?en="utf-16le":_n[0]==="ï"&&_n[1]==="»"&&_n[2]==="¿"&&(en="utf-8"),en)try{const Bn=new TextDecoder(en,{fatal:!0}),Wn=fn(_n);return Bn.decode(Wn)}catch(Bn){Nt(`stringToPDFString: "${Bn}".`)}}const Zt=[];for(let en=0,Bn=_n.length;en<Bn;en++){const Wn=sn[_n.charCodeAt(en)];Zt.push(Wn?String.fromCharCode(Wn):_n.charAt(en))}return Zt.join("")}function An(_n){return decodeURIComponent(escape(_n))}function vn(_n){return unescape(encodeURIComponent(_n))}function Kt(_n){return typeof _n=="object"&&(_n==null?void 0:_n.byteLength)!==void 0}function Ln(_n,Zt){if(_n.length!==Zt.length)return!1;for(let en=0,Bn=_n.length;en<Bn;en++)if(_n[en]!==Zt[en])return!1;return!0}function Tn(_n=new Date){return[_n.getUTCFullYear().toString(),(_n.getUTCMonth()+1).toString().padStart(2,"0"),_n.getUTCDate().toString().padStart(2,"0"),_n.getUTCHours().toString().padStart(2,"0"),_n.getUTCMinutes().toString().padStart(2,"0"),_n.getUTCSeconds().toString().padStart(2,"0")].join("")}class Jn{constructor(){cn(this,wr,!1);this.promise=new Promise((Zt,en)=>{this.resolve=Bn=>{dn(this,wr,!0),Zt(Bn)},this.reject=Bn=>{dn(this,wr,!0),en(Bn)}})}get settled(){return g(this,wr)}}wr=new WeakMap,i.PromiseCapability=Jn;let er=null,dr=null;function Hn(_n){return er||(er=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,dr=new Map([["ﬅ","ſt"]])),_n.replaceAll(er,(Zt,en,Bn)=>en?en.normalize("NFKC"):dr.get(Bn))}function Vn(){if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.randomUUID)=="function")return crypto.randomUUID();const _n=new Uint8Array(32);if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.getRandomValues)=="function")crypto.getRandomValues(_n);else for(let Zt=0;Zt<32;Zt++)_n[Zt]=Math.floor(Math.random()*255);return hn(_n)}const or="pdfjs_internal_id_";i.AnnotationPrefix=or},(__unused_webpack_module,exports,__w_pdfjs_require__)=>{var e,a,o,c,Po,qo,et,h,_e,_,ct,ut,ot,lt,gt,Yo,j,b,Es,pt,nt;Object.defineProperty(exports,"__esModule",{value:!0}),exports.RenderTask=exports.PDFWorkerUtil=exports.PDFWorker=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFDocumentLoadingTask=exports.PDFDataRangeTransport=exports.LoopbackPort=exports.DefaultStandardFontDataFactory=exports.DefaultFilterFactory=exports.DefaultCanvasFactory=exports.DefaultCMapReaderFactory=void 0,Object.defineProperty(exports,"SVGGraphics",{enumerable:!0,get:function(){return _displaySvg.SVGGraphics}}),exports.build=void 0,exports.getDocument=getDocument,exports.version=void 0;var _util=__w_pdfjs_require__(1),_annotation_storage=__w_pdfjs_require__(3),_display_utils=__w_pdfjs_require__(6),_font_loader=__w_pdfjs_require__(9),_displayNode_utils=__w_pdfjs_require__(10),_canvas=__w_pdfjs_require__(11),_worker_options=__w_pdfjs_require__(14),_message_handler=__w_pdfjs_require__(15),_metadata=__w_pdfjs_require__(16),_optional_content_config=__w_pdfjs_require__(17),_transport_stream=__w_pdfjs_require__(18),_displayFetch_stream=__w_pdfjs_require__(19),_displayNetwork=__w_pdfjs_require__(22),_displayNode_stream=__w_pdfjs_require__(23),_displaySvg=__w_pdfjs_require__(24),_xfa_text=__w_pdfjs_require__(25);const DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100,DELAYED_CLEANUP_TIMEOUT=5e3,DefaultCanvasFactory=_util.isNodeJS?_displayNode_utils.NodeCanvasFactory:_display_utils.DOMCanvasFactory;exports.DefaultCanvasFactory=DefaultCanvasFactory;const DefaultCMapReaderFactory=_util.isNodeJS?_displayNode_utils.NodeCMapReaderFactory:_display_utils.DOMCMapReaderFactory;exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory;const DefaultFilterFactory=_util.isNodeJS?_displayNode_utils.NodeFilterFactory:_display_utils.DOMFilterFactory;exports.DefaultFilterFactory=DefaultFilterFactory;const DefaultStandardFontDataFactory=_util.isNodeJS?_displayNode_utils.NodeStandardFontDataFactory:_display_utils.DOMStandardFontDataFactory;exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory;function getDocument(rt){if(typeof rt=="string"||rt instanceof URL?rt={url:rt}:(0,_util.isArrayBuffer)(rt)&&(rt={data:rt}),typeof rt!="object")throw new Error("Invalid parameter in getDocument, need parameter object.");if(!rt.url&&!rt.data&&!rt.range)throw new Error("Invalid parameter object: need either .data, .range or .url");const it=new PDFDocumentLoadingTask,{docId:dt}=it,At=rt.url?getUrlProp(rt.url):null,ht=rt.data?getDataProp(rt.data):null,St=rt.httpHeaders||null,Rt=rt.withCredentials===!0,Jt=rt.password??null,Ut=rt.range instanceof PDFDataRangeTransport?rt.range:null,Yt=Number.isInteger(rt.rangeChunkSize)&&rt.rangeChunkSize>0?rt.rangeChunkSize:DEFAULT_RANGE_CHUNK_SIZE;let Nt=rt.worker instanceof PDFWorker?rt.worker:null;const Bt=rt.verbosity,wt=typeof rt.docBaseUrl=="string"&&!(0,_display_utils.isDataScheme)(rt.docBaseUrl)?rt.docBaseUrl:null,Lt=typeof rt.cMapUrl=="string"?rt.cMapUrl:null,$t=rt.cMapPacked!==!1,bt=rt.CMapReaderFactory||DefaultCMapReaderFactory,at=typeof rt.standardFontDataUrl=="string"?rt.standardFontDataUrl:null,st=rt.StandardFontDataFactory||DefaultStandardFontDataFactory,yt=rt.stopAtErrors!==!0,Pt=Number.isInteger(rt.maxImageSize)&&rt.maxImageSize>-1?rt.maxImageSize:-1,Tt=rt.isEvalSupported!==!1,Mt=typeof rt.isOffscreenCanvasSupported=="boolean"?rt.isOffscreenCanvasSupported:!_util.isNodeJS,Gt=Number.isInteger(rt.canvasMaxAreaInBytes)?rt.canvasMaxAreaInBytes:-1,un=typeof rt.disableFontFace=="boolean"?rt.disableFontFace:_util.isNodeJS,hn=rt.fontExtraProperties===!0,fn=rt.enableXfa===!0,mn=rt.ownerDocument||globalThis.document,Cn=rt.disableRange===!0,bn=rt.disableStream===!0,rn=rt.disableAutoFetch===!0,on=rt.pdfBug===!0,Et=Ut?Ut.length:rt.length??NaN,Ft=typeof rt.useSystemFonts=="boolean"?rt.useSystemFonts:!_util.isNodeJS&&!un,Qt=typeof rt.useWorkerFetch=="boolean"?rt.useWorkerFetch:bt===_display_utils.DOMCMapReaderFactory&&st===_display_utils.DOMStandardFontDataFactory&&Lt&&at&&(0,_display_utils.isValidFetchUrl)(Lt,document.baseURI)&&(0,_display_utils.isValidFetchUrl)(at,document.baseURI),sn=rt.canvasFactory||new DefaultCanvasFactory({ownerDocument:mn}),pn=rt.filterFactory||new DefaultFilterFactory({docId:dt,ownerDocument:mn}),An=null;(0,_util.setVerbosityLevel)(Bt);const vn={canvasFactory:sn,filterFactory:pn};if(Qt||(vn.cMapReaderFactory=new bt({baseUrl:Lt,isCompressed:$t}),vn.standardFontDataFactory=new st({baseUrl:at})),!Nt){const Tn={verbosity:Bt,port:_worker_options.GlobalWorkerOptions.workerPort};Nt=Tn.port?PDFWorker.fromPort(Tn):new PDFWorker(Tn),it._worker=Nt}const Kt={docId:dt,apiVersion:"3.11.174",data:ht,password:Jt,disableAutoFetch:rn,rangeChunkSize:Yt,length:Et,docBaseUrl:wt,enableXfa:fn,evaluatorOptions:{maxImageSize:Pt,disableFontFace:un,ignoreErrors:yt,isEvalSupported:Tt,isOffscreenCanvasSupported:Mt,canvasMaxAreaInBytes:Gt,fontExtraProperties:hn,useSystemFonts:Ft,cMapUrl:Qt?Lt:null,standardFontDataUrl:Qt?at:null}},Ln={ignoreErrors:yt,isEvalSupported:Tt,disableFontFace:un,fontExtraProperties:hn,enableXfa:fn,ownerDocument:mn,disableAutoFetch:rn,pdfBug:on,styleElement:An};return Nt.promise.then(function(){if(it.destroyed)throw new Error("Loading aborted");const Tn=_fetchDocument(Nt,Kt),Jn=new Promise(function(er){let dr;Ut?dr=new _transport_stream.PDFDataTransportStream({length:Et,initialData:Ut.initialData,progressiveDone:Ut.progressiveDone,contentDispositionFilename:Ut.contentDispositionFilename,disableRange:Cn,disableStream:bn},Ut):ht||(dr=(Vn=>_util.isNodeJS?new _displayNode_stream.PDFNodeStream(Vn):(0,_display_utils.isValidFetchUrl)(Vn.url)?new _displayFetch_stream.PDFFetchStream(Vn):new _displayNetwork.PDFNetworkStream(Vn))({url:At,length:Et,httpHeaders:St,withCredentials:Rt,rangeChunkSize:Yt,disableRange:Cn,disableStream:bn})),er(dr)});return Promise.all([Tn,Jn]).then(function([er,dr]){if(it.destroyed)throw new Error("Loading aborted");const Hn=new _message_handler.MessageHandler(dt,er,Nt.port),Vn=new WorkerTransport(Hn,it,dr,Ln,vn);it._transport=Vn,Hn.send("Ready",null)})}).catch(it._capability.reject),it}async function _fetchDocument(rt,it){if(rt.destroyed)throw new Error("Worker was destroyed");const dt=await rt.messageHandler.sendWithPromise("GetDocRequest",it,it.data?[it.data.buffer]:null);if(rt.destroyed)throw new Error("Worker was destroyed");return dt}function getUrlProp(rt){if(rt instanceof URL)return rt.href;try{return new URL(rt,window.location).href}catch{if(_util.isNodeJS&&typeof rt=="string")return rt}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function getDataProp(rt){if(_util.isNodeJS&&typeof Buffer<"u"&&rt instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(rt instanceof Uint8Array&&rt.byteLength===rt.buffer.byteLength)return rt;if(typeof rt=="string")return(0,_util.stringToBytes)(rt);if(typeof rt=="object"&&!isNaN(rt==null?void 0:rt.length)||(0,_util.isArrayBuffer)(rt))return new Uint8Array(rt);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}const i=class i{constructor(){this._capability=new _util.PromiseCapability,this._transport=null,this._worker=null,this.docId=`d${Do(i,e)._++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){var it,dt,At;this.destroyed=!0;try{(it=this._worker)!=null&&it.port&&(this._worker._pendingDestroy=!0),await((dt=this._transport)==null?void 0:dt.destroy())}catch(ht){throw(At=this._worker)!=null&&At.port&&delete this._worker._pendingDestroy,ht}this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}};e=new WeakMap,cn(i,e,0);let PDFDocumentLoadingTask=i;exports.PDFDocumentLoadingTask=PDFDocumentLoadingTask;class PDFDataRangeTransport{constructor(it,dt,At=!1,ht=null){this.length=it,this.initialData=dt,this.progressiveDone=At,this.contentDispositionFilename=ht,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=new _util.PromiseCapability}addRangeListener(it){this._rangeListeners.push(it)}addProgressListener(it){this._progressListeners.push(it)}addProgressiveReadListener(it){this._progressiveReadListeners.push(it)}addProgressiveDoneListener(it){this._progressiveDoneListeners.push(it)}onDataRange(it,dt){for(const At of this._rangeListeners)At(it,dt)}onDataProgress(it,dt){this._readyCapability.promise.then(()=>{for(const At of this._progressListeners)At(it,dt)})}onDataProgressiveRead(it){this._readyCapability.promise.then(()=>{for(const dt of this._progressiveReadListeners)dt(it)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const it of this._progressiveDoneListeners)it()})}transportReady(){this._readyCapability.resolve()}requestDataRange(it,dt){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}exports.PDFDataRangeTransport=PDFDataRangeTransport;class PDFDocumentProxy{constructor(it,dt){this._pdfInfo=it,this._transport=dt,Object.defineProperty(this,"getJavaScript",{value:()=>((0,_display_utils.deprecated)("`PDFDocumentProxy.getJavaScript`, please use `PDFDocumentProxy.getJSActions` instead."),this.getJSActions().then(At=>{if(!At)return At;const ht=[];for(const St in At)ht.push(...At[St]);return ht}))})}get annotationStorage(){return this._transport.annotationStorage}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(it){return this._transport.getPage(it)}getPageIndex(it){return this._transport.getPageIndex(it)}getDestinations(){return this._transport.getDestinations()}getDestination(it){return this._transport.getDestination(it)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){return this._transport.getOptionalContentConfig()}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(it=!1){return this._transport.startCleanup(it||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}exports.PDFDocumentProxy=PDFDocumentProxy;class PDFPageProxy{constructor(it,dt,At,ht=!1){cn(this,c);cn(this,a,null);cn(this,o,!1);this._pageIndex=it,this._pageInfo=dt,this._transport=At,this._stats=ht?new _display_utils.StatTimer:null,this._pdfBug=ht,this.commonObjs=At.commonObjs,this.objs=new PDFObjects,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:it,rotation:dt=this.rotate,offsetX:At=0,offsetY:ht=0,dontFlip:St=!1}={}){return new _display_utils.PageViewport({viewBox:this.view,scale:it,rotation:dt,offsetX:At,offsetY:ht,dontFlip:St})}getAnnotations({intent:it="display"}={}){const dt=this._transport.getRenderingIntent(it);return this._transport.getAnnotations(this._pageIndex,dt.renderingIntent)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var it;return((it=this._transport._htmlForXfa)==null?void 0:it.children[this._pageIndex])||null}render({canvasContext:it,viewport:dt,intent:At="display",annotationMode:ht=_util.AnnotationMode.ENABLE,transform:St=null,background:Rt=null,optionalContentConfigPromise:Jt=null,annotationCanvasMap:Ut=null,pageColors:Yt=null,printAnnotationStorage:Nt=null}){var st,yt;(st=this._stats)==null||st.time("Overall");const Bt=this._transport.getRenderingIntent(At,ht,Nt);dn(this,o,!1),qt(this,c,qo).call(this),Jt||(Jt=this._transport.getOptionalContentConfig());let wt=this._intentStates.get(Bt.cacheKey);wt||(wt=Object.create(null),this._intentStates.set(Bt.cacheKey,wt)),wt.streamReaderCancelTimeout&&(clearTimeout(wt.streamReaderCancelTimeout),wt.streamReaderCancelTimeout=null);const Lt=!!(Bt.renderingIntent&_util.RenderingIntentFlag.PRINT);wt.displayReadyCapability||(wt.displayReadyCapability=new _util.PromiseCapability,wt.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(yt=this._stats)==null||yt.time("Page Request"),this._pumpOperatorList(Bt));const $t=Pt=>{var Tt,Mt;wt.renderTasks.delete(bt),(this._maybeCleanupAfterRender||Lt)&&dn(this,o,!0),qt(this,c,Po).call(this,!Lt),Pt?(bt.capability.reject(Pt),this._abortOperatorList({intentState:wt,reason:Pt instanceof Error?Pt:new Error(Pt)})):bt.capability.resolve(),(Tt=this._stats)==null||Tt.timeEnd("Rendering"),(Mt=this._stats)==null||Mt.timeEnd("Overall")},bt=new InternalRenderTask({callback:$t,params:{canvasContext:it,viewport:dt,transform:St,background:Rt},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:Ut,operatorList:wt.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!Lt,pdfBug:this._pdfBug,pageColors:Yt});(wt.renderTasks||(wt.renderTasks=new Set)).add(bt);const at=bt.task;return Promise.all([wt.displayReadyCapability.promise,Jt]).then(([Pt,Tt])=>{var Mt;if(this.destroyed){$t();return}(Mt=this._stats)==null||Mt.time("Rendering"),bt.initializeGraphics({transparency:Pt,optionalContentConfig:Tt}),bt.operatorListChanged()}).catch($t),at}getOperatorList({intent:it="display",annotationMode:dt=_util.AnnotationMode.ENABLE,printAnnotationStorage:At=null}={}){var Ut;function ht(){Rt.operatorList.lastChunk&&(Rt.opListReadCapability.resolve(Rt.operatorList),Rt.renderTasks.delete(Jt))}const St=this._transport.getRenderingIntent(it,dt,At,!0);let Rt=this._intentStates.get(St.cacheKey);Rt||(Rt=Object.create(null),this._intentStates.set(St.cacheKey,Rt));let Jt;return Rt.opListReadCapability||(Jt=Object.create(null),Jt.operatorListChanged=ht,Rt.opListReadCapability=new _util.PromiseCapability,(Rt.renderTasks||(Rt.renderTasks=new Set)).add(Jt),Rt.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(Ut=this._stats)==null||Ut.time("Page Request"),this._pumpOperatorList(St)),Rt.opListReadCapability.promise}streamTextContent({includeMarkedContent:it=!1,disableNormalization:dt=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:it===!0,disableNormalization:dt===!0},{highWaterMark:100,size(ht){return ht.items.length}})}getTextContent(it={}){if(this._transport._htmlForXfa)return this.getXfa().then(At=>_xfa_text.XfaText.textContent(At));const dt=this.streamTextContent(it);return new Promise(function(At,ht){function St(){Rt.read().then(function({value:Ut,done:Yt}){if(Yt){At(Jt);return}Object.assign(Jt.styles,Ut.styles),Jt.items.push(...Ut.items),St()},ht)}const Rt=dt.getReader(),Jt={items:[],styles:Object.create(null)};St()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const it=[];for(const dt of this._intentStates.values())if(this._abortOperatorList({intentState:dt,reason:new Error("Page was destroyed."),force:!0}),!dt.opListReadCapability)for(const At of dt.renderTasks)it.push(At.completed),At.cancel();return this.objs.clear(),dn(this,o,!1),qt(this,c,qo).call(this),Promise.all(it)}cleanup(it=!1){dn(this,o,!0);const dt=qt(this,c,Po).call(this,!1);return it&&dt&&this._stats&&(this._stats=new _display_utils.StatTimer),dt}_startRenderPage(it,dt){var ht,St;const At=this._intentStates.get(dt);At&&((ht=this._stats)==null||ht.timeEnd("Page Request"),(St=At.displayReadyCapability)==null||St.resolve(it))}_renderPageChunk(it,dt){for(let At=0,ht=it.length;At<ht;At++)dt.operatorList.fnArray.push(it.fnArray[At]),dt.operatorList.argsArray.push(it.argsArray[At]);dt.operatorList.lastChunk=it.lastChunk,dt.operatorList.separateAnnots=it.separateAnnots;for(const At of dt.renderTasks)At.operatorListChanged();it.lastChunk&&qt(this,c,Po).call(this,!0)}_pumpOperatorList({renderingIntent:it,cacheKey:dt,annotationStorageSerializable:At}){const{map:ht,transfers:St}=At,Jt=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:it,cacheKey:dt,annotationStorage:ht},St).getReader(),Ut=this._intentStates.get(dt);Ut.streamReader=Jt;const Yt=()=>{Jt.read().then(({value:Nt,done:Bt})=>{if(Bt){Ut.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(Nt,Ut),Yt())},Nt=>{if(Ut.streamReader=null,!this._transport.destroyed){if(Ut.operatorList){Ut.operatorList.lastChunk=!0;for(const Bt of Ut.renderTasks)Bt.operatorListChanged();qt(this,c,Po).call(this,!0)}if(Ut.displayReadyCapability)Ut.displayReadyCapability.reject(Nt);else if(Ut.opListReadCapability)Ut.opListReadCapability.reject(Nt);else throw Nt}})};Yt()}_abortOperatorList({intentState:it,reason:dt,force:At=!1}){if(it.streamReader){if(it.streamReaderCancelTimeout&&(clearTimeout(it.streamReaderCancelTimeout),it.streamReaderCancelTimeout=null),!At){if(it.renderTasks.size>0)return;if(dt instanceof _display_utils.RenderingCancelledException){let ht=RENDERING_CANCELLED_TIMEOUT;dt.extraDelay>0&&dt.extraDelay<1e3&&(ht+=dt.extraDelay),it.streamReaderCancelTimeout=setTimeout(()=>{it.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:it,reason:dt,force:!0})},ht);return}}if(it.streamReader.cancel(new _util.AbortException(dt.message)).catch(()=>{}),it.streamReader=null,!this._transport.destroyed){for(const[ht,St]of this._intentStates)if(St===it){this._intentStates.delete(ht);break}this.cleanup()}}}get stats(){return this._stats}}a=new WeakMap,o=new WeakMap,c=new WeakSet,Po=function(it=!1){if(qt(this,c,qo).call(this),!g(this,o)||this.destroyed)return!1;if(it)return dn(this,a,setTimeout(()=>{dn(this,a,null),qt(this,c,Po).call(this,!1)},DELAYED_CLEANUP_TIMEOUT)),!1;for(const{renderTasks:dt,operatorList:At}of this._intentStates.values())if(dt.size>0||!At.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),dn(this,o,!1),!0},qo=function(){g(this,a)&&(clearTimeout(g(this,a)),dn(this,a,null))},exports.PDFPageProxy=PDFPageProxy;class LoopbackPort{constructor(){cn(this,et,new Set);cn(this,h,Promise.resolve())}postMessage(it,dt){const At={data:structuredClone(it,dt?{transfer:dt}:null)};g(this,h).then(()=>{for(const ht of g(this,et))ht.call(this,At)})}addEventListener(it,dt){g(this,et).add(dt)}removeEventListener(it,dt){g(this,et).delete(dt)}terminate(){g(this,et).clear()}}et=new WeakMap,h=new WeakMap,exports.LoopbackPort=LoopbackPort;const PDFWorkerUtil={isWorkerDisabled:!1,fallbackWorkerSrc:null,fakeWorkerId:0};exports.PDFWorkerUtil=PDFWorkerUtil;{if(_util.isNodeJS&&typeof commonjsRequire=="function")PDFWorkerUtil.isWorkerDisabled=!0,PDFWorkerUtil.fallbackWorkerSrc="./pdf.worker.js";else if(typeof document=="object"){const rt=(_e=document==null?void 0:document.currentScript)==null?void 0:_e.src;rt&&(PDFWorkerUtil.fallbackWorkerSrc=rt.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}PDFWorkerUtil.isSameOrigin=function(rt,it){let dt;try{if(dt=new URL(rt),!dt.origin||dt.origin==="null")return!1}catch{return!1}const At=new URL(it,dt);return dt.origin===At.origin},PDFWorkerUtil.createCDNWrapper=function(rt){const it=`importScripts("${rt}");`;return URL.createObjectURL(new Blob([it]))}}const _PDFWorker=class _PDFWorker{constructor({name:rt=null,port:it=null,verbosity:dt=(0,_util.getVerbosityLevel)()}={}){var At;if(this.name=rt,this.destroyed=!1,this.verbosity=dt,this._readyCapability=new _util.PromiseCapability,this._port=null,this._webWorker=null,this._messageHandler=null,it){if((At=g(_PDFWorker,_))!=null&&At.has(it))throw new Error("Cannot use more than one PDFWorker per port.");(g(_PDFWorker,_)||dn(_PDFWorker,_,new WeakMap)).set(it,this),this._initializeFromPort(it);return}this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(rt){this._port=rt,this._messageHandler=new _message_handler.MessageHandler("main","worker",rt),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})}_initialize(){if(!PDFWorkerUtil.isWorkerDisabled&&!_PDFWorker._mainThreadWorkerMessageHandler){let{workerSrc:rt}=_PDFWorker;try{PDFWorkerUtil.isSameOrigin(window.location.href,rt)||(rt=PDFWorkerUtil.createCDNWrapper(new URL(rt,window.location).href));const it=new Worker(rt),dt=new _message_handler.MessageHandler("main","worker",it),At=()=>{it.removeEventListener("error",ht),dt.destroy(),it.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},ht=()=>{this._webWorker||At()};it.addEventListener("error",ht),dt.on("test",Rt=>{if(it.removeEventListener("error",ht),this.destroyed){At();return}Rt?(this._messageHandler=dt,this._port=it,this._webWorker=it,this._readyCapability.resolve(),dt.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),dt.destroy(),it.terminate())}),dt.on("ready",Rt=>{if(it.removeEventListener("error",ht),this.destroyed){At();return}try{St()}catch{this._setupFakeWorker()}});const St=()=>{const Rt=new Uint8Array;dt.send("test",Rt,[Rt.buffer])};St();return}catch{(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){PDFWorkerUtil.isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),_PDFWorker._setupFakeWorkerGlobal.then(rt=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const it=new LoopbackPort;this._port=it;const dt=`fake${PDFWorkerUtil.fakeWorkerId++}`,At=new _message_handler.MessageHandler(dt+"_worker",dt,it);rt.setup(At,it);const ht=new _message_handler.MessageHandler(dt,dt+"_worker",it);this._messageHandler=ht,this._readyCapability.resolve(),ht.send("configure",{verbosity:this.verbosity})}).catch(rt=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${rt.message}".`))})}destroy(){var rt;this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),(rt=g(_PDFWorker,_))==null||rt.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(rt){var dt;if(!(rt!=null&&rt.port))throw new Error("PDFWorker.fromPort - invalid method signature.");const it=(dt=g(this,_))==null?void 0:dt.get(rt.port);if(it){if(it._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return it}return new _PDFWorker(rt)}static get workerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(PDFWorkerUtil.fallbackWorkerSrc!==null)return _util.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),PDFWorkerUtil.fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _mainThreadWorkerMessageHandler(){var rt;try{return((rt=globalThis.pdfjsWorker)==null?void 0:rt.WorkerMessageHandler)||null}catch{return null}}static get _setupFakeWorkerGlobal(){const loader=async()=>{const mainWorkerMessageHandler=this._mainThreadWorkerMessageHandler;if(mainWorkerMessageHandler)return mainWorkerMessageHandler;if(_util.isNodeJS&&typeof commonjsRequire=="function"){const worker=eval("require")(this.workerSrc);return worker.WorkerMessageHandler}return await(0,_display_utils.loadScript)(this.workerSrc),window.pdfjsWorker.WorkerMessageHandler};return(0,_util.shadow)(this,"_setupFakeWorkerGlobal",loader())}};_=new WeakMap,cn(_PDFWorker,_);let PDFWorker=_PDFWorker;exports.PDFWorker=PDFWorker;class WorkerTransport{constructor(it,dt,At,ht,St){cn(this,gt);cn(this,ct,new Map);cn(this,ut,new Map);cn(this,ot,new Map);cn(this,lt,null);this.messageHandler=it,this.loadingTask=dt,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({ownerDocument:ht.ownerDocument,styleElement:ht.styleElement}),this._params=ht,this.canvasFactory=St.canvasFactory,this.filterFactory=St.filterFactory,this.cMapReaderFactory=St.cMapReaderFactory,this.standardFontDataFactory=St.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=At,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=new _util.PromiseCapability,this.setupMessageHandler()}get annotationStorage(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}getRenderingIntent(it,dt=_util.AnnotationMode.ENABLE,At=null,ht=!1){let St=_util.RenderingIntentFlag.DISPLAY,Rt=_annotation_storage.SerializableEmpty;switch(it){case"any":St=_util.RenderingIntentFlag.ANY;break;case"display":break;case"print":St=_util.RenderingIntentFlag.PRINT;break;default:(0,_util.warn)(`getRenderingIntent - invalid intent: ${it}`)}switch(dt){case _util.AnnotationMode.DISABLE:St+=_util.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case _util.AnnotationMode.ENABLE:break;case _util.AnnotationMode.ENABLE_FORMS:St+=_util.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case _util.AnnotationMode.ENABLE_STORAGE:St+=_util.RenderingIntentFlag.ANNOTATIONS_STORAGE,Rt=(St&_util.RenderingIntentFlag.PRINT&&At instanceof _annotation_storage.PrintAnnotationStorage?At:this.annotationStorage).serializable;break;default:(0,_util.warn)(`getRenderingIntent - invalid annotationMode: ${dt}`)}return ht&&(St+=_util.RenderingIntentFlag.OPLIST),{renderingIntent:St,cacheKey:`${St}_${Rt.hash}`,annotationStorageSerializable:Rt}}destroy(){var At;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=new _util.PromiseCapability,(At=g(this,lt))==null||At.reject(new Error("Worker was destroyed during onPassword callback"));const it=[];for(const ht of g(this,ut).values())it.push(ht._destroy());g(this,ut).clear(),g(this,ot).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const dt=this.messageHandler.sendWithPromise("Terminate",null);return it.push(dt),Promise.all(it).then(()=>{var ht;this.commonObjs.clear(),this.fontLoader.clear(),g(this,ct).clear(),this.filterFactory.destroy(),(ht=this._networkStream)==null||ht.cancelAllRequests(new _util.AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:it,loadingTask:dt}=this;it.on("GetReader",(At,ht)=>{(0,_util.assert)(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=St=>{this._lastProgress={loaded:St.loaded,total:St.total}},ht.onPull=()=>{this._fullReader.read().then(function({value:St,done:Rt}){if(Rt){ht.close();return}(0,_util.assert)(St instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),ht.enqueue(new Uint8Array(St),1,[St])}).catch(St=>{ht.error(St)})},ht.onCancel=St=>{this._fullReader.cancel(St),ht.ready.catch(Rt=>{if(!this.destroyed)throw Rt})}}),it.on("ReaderHeadersReady",At=>{const ht=new _util.PromiseCapability,St=this._fullReader;return St.headersReady.then(()=>{var Rt;(!St.isStreamingSupported||!St.isRangeSupported)&&(this._lastProgress&&((Rt=dt.onProgress)==null||Rt.call(dt,this._lastProgress)),St.onProgress=Jt=>{var Ut;(Ut=dt.onProgress)==null||Ut.call(dt,{loaded:Jt.loaded,total:Jt.total})}),ht.resolve({isStreamingSupported:St.isStreamingSupported,isRangeSupported:St.isRangeSupported,contentLength:St.contentLength})},ht.reject),ht.promise}),it.on("GetRangeReader",(At,ht)=>{(0,_util.assert)(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const St=this._networkStream.getRangeReader(At.begin,At.end);if(!St){ht.close();return}ht.onPull=()=>{St.read().then(function({value:Rt,done:Jt}){if(Jt){ht.close();return}(0,_util.assert)(Rt instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),ht.enqueue(new Uint8Array(Rt),1,[Rt])}).catch(Rt=>{ht.error(Rt)})},ht.onCancel=Rt=>{St.cancel(Rt),ht.ready.catch(Jt=>{if(!this.destroyed)throw Jt})}}),it.on("GetDoc",({pdfInfo:At})=>{this._numPages=At.numPages,this._htmlForXfa=At.htmlForXfa,delete At.htmlForXfa,dt._capability.resolve(new PDFDocumentProxy(At,this))}),it.on("DocException",function(At){let ht;switch(At.name){case"PasswordException":ht=new _util.PasswordException(At.message,At.code);break;case"InvalidPDFException":ht=new _util.InvalidPDFException(At.message);break;case"MissingPDFException":ht=new _util.MissingPDFException(At.message);break;case"UnexpectedResponseException":ht=new _util.UnexpectedResponseException(At.message,At.status);break;case"UnknownErrorException":ht=new _util.UnknownErrorException(At.message,At.details);break;default:(0,_util.unreachable)("DocException - expected a valid Error.")}dt._capability.reject(ht)}),it.on("PasswordRequest",At=>{if(dn(this,lt,new _util.PromiseCapability),dt.onPassword){const ht=St=>{St instanceof Error?g(this,lt).reject(St):g(this,lt).resolve({password:St})};try{dt.onPassword(ht,At.code)}catch(St){g(this,lt).reject(St)}}else g(this,lt).reject(new _util.PasswordException(At.message,At.code));return g(this,lt).promise}),it.on("DataLoaded",At=>{var ht;(ht=dt.onProgress)==null||ht.call(dt,{loaded:At.length,total:At.length}),this.downloadInfoCapability.resolve(At)}),it.on("StartRenderPage",At=>{if(this.destroyed)return;g(this,ut).get(At.pageIndex)._startRenderPage(At.transparency,At.cacheKey)}),it.on("commonobj",([At,ht,St])=>{var Rt;if(!this.destroyed&&!this.commonObjs.has(At))switch(ht){case"Font":const Jt=this._params;if("error"in St){const Nt=St.error;(0,_util.warn)(`Error during font loading: ${Nt}`),this.commonObjs.resolve(At,Nt);break}const Ut=Jt.pdfBug&&((Rt=globalThis.FontInspector)!=null&&Rt.enabled)?(Nt,Bt)=>globalThis.FontInspector.fontAdded(Nt,Bt):null,Yt=new _font_loader.FontFaceObject(St,{isEvalSupported:Jt.isEvalSupported,disableFontFace:Jt.disableFontFace,ignoreErrors:Jt.ignoreErrors,inspectFont:Ut});this.fontLoader.bind(Yt).catch(Nt=>it.sendWithPromise("FontFallback",{id:At})).finally(()=>{!Jt.fontExtraProperties&&Yt.data&&(Yt.data=null),this.commonObjs.resolve(At,Yt)});break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(At,St);break;default:throw new Error(`Got unknown common object type ${ht}`)}}),it.on("obj",([At,ht,St,Rt])=>{var Ut;if(this.destroyed)return;const Jt=g(this,ut).get(ht);if(!Jt.objs.has(At))switch(St){case"Image":if(Jt.objs.resolve(At,Rt),Rt){let Yt;if(Rt.bitmap){const{width:Nt,height:Bt}=Rt;Yt=Nt*Bt*4}else Yt=((Ut=Rt.data)==null?void 0:Ut.length)||0;Yt>_util.MAX_IMAGE_SIZE_TO_CACHE&&(Jt._maybeCleanupAfterRender=!0)}break;case"Pattern":Jt.objs.resolve(At,Rt);break;default:throw new Error(`Got unknown object type ${St}`)}}),it.on("DocProgress",At=>{var ht;this.destroyed||(ht=dt.onProgress)==null||ht.call(dt,{loaded:At.loaded,total:At.total})}),it.on("FetchBuiltInCMap",At=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.cMapReaderFactory?this.cMapReaderFactory.fetch(At):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),it.on("FetchStandardFontData",At=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.standardFontDataFactory?this.standardFontDataFactory.fetch(At):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var At;this.annotationStorage.size<=0&&(0,_util.warn)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:it,transfers:dt}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:it,filename:((At=this._fullReader)==null?void 0:At.filename)??null},dt).finally(()=>{this.annotationStorage.resetModified()})}getPage(it){if(!Number.isInteger(it)||it<=0||it>this._numPages)return Promise.reject(new Error("Invalid page request."));const dt=it-1,At=g(this,ot).get(dt);if(At)return At;const ht=this.messageHandler.sendWithPromise("GetPage",{pageIndex:dt}).then(St=>{if(this.destroyed)throw new Error("Transport destroyed");const Rt=new PDFPageProxy(dt,St,this,this._params.pdfBug);return g(this,ut).set(dt,Rt),Rt});return g(this,ot).set(dt,ht),ht}getPageIndex(it){return typeof it!="object"||it===null||!Number.isInteger(it.num)||it.num<0||!Number.isInteger(it.gen)||it.gen<0?Promise.reject(new Error("Invalid pageIndex request.")):this.messageHandler.sendWithPromise("GetPageIndex",{num:it.num,gen:it.gen})}getAnnotations(it,dt){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:it,intent:dt})}getFieldObjects(){return qt(this,gt,Yo).call(this,"GetFieldObjects")}hasJSActions(){return qt(this,gt,Yo).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(it){return typeof it!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:it})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return qt(this,gt,Yo).call(this,"GetDocJSActions")}getPageJSActions(it){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:it})}getStructTree(it){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:it})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then(it=>new _optional_content_config.OptionalContentConfig(it))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const it="GetMetadata",dt=g(this,ct).get(it);if(dt)return dt;const At=this.messageHandler.sendWithPromise(it,null).then(ht=>{var St,Rt;return{info:ht[0],metadata:ht[1]?new _metadata.Metadata(ht[1]):null,contentDispositionFilename:((St=this._fullReader)==null?void 0:St.filename)??null,contentLength:((Rt=this._fullReader)==null?void 0:Rt.contentLength)??null}});return g(this,ct).set(it,At),At}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(it=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const dt of g(this,ut).values())if(!dt.cleanup())throw new Error(`startCleanup: Page ${dt.pageNumber} is currently rendering.`);this.commonObjs.clear(),it||this.fontLoader.clear(),g(this,ct).clear(),this.filterFactory.destroy(!0)}}get loadingParams(){const{disableAutoFetch:it,enableXfa:dt}=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:it,enableXfa:dt})}}ct=new WeakMap,ut=new WeakMap,ot=new WeakMap,lt=new WeakMap,gt=new WeakSet,Yo=function(it,dt=null){const At=g(this,ct).get(it);if(At)return At;const ht=this.messageHandler.sendWithPromise(it,dt);return g(this,ct).set(it,ht),ht};class PDFObjects{constructor(){cn(this,b);cn(this,j,Object.create(null))}get(it,dt=null){if(dt){const ht=qt(this,b,Es).call(this,it);return ht.capability.promise.then(()=>dt(ht.data)),null}const At=g(this,j)[it];if(!(At!=null&&At.capability.settled))throw new Error(`Requesting object that isn't resolved yet ${it}.`);return At.data}has(it){const dt=g(this,j)[it];return(dt==null?void 0:dt.capability.settled)||!1}resolve(it,dt=null){const At=qt(this,b,Es).call(this,it);At.data=dt,At.capability.resolve()}clear(){var it;for(const dt in g(this,j)){const{data:At}=g(this,j)[dt];(it=At==null?void 0:At.bitmap)==null||it.close()}dn(this,j,Object.create(null))}}j=new WeakMap,b=new WeakSet,Es=function(it){var dt;return(dt=g(this,j))[it]||(dt[it]={capability:new _util.PromiseCapability,data:null})};class RenderTask{constructor(it){cn(this,pt,null);dn(this,pt,it),this.onContinue=null}get promise(){return g(this,pt).capability.promise}cancel(it=0){g(this,pt).cancel(null,it)}get separateAnnots(){const{separateAnnots:it}=g(this,pt).operatorList;if(!it)return!1;const{annotationCanvasMap:dt}=g(this,pt);return it.form||it.canvas&&(dt==null?void 0:dt.size)>0}}pt=new WeakMap,exports.RenderTask=RenderTask;const $=class ${constructor({callback:it,params:dt,objs:At,commonObjs:ht,annotationCanvasMap:St,operatorList:Rt,pageIndex:Jt,canvasFactory:Ut,filterFactory:Yt,useRequestAnimationFrame:Nt=!1,pdfBug:Bt=!1,pageColors:wt=null}){this.callback=it,this.params=dt,this.objs=At,this.commonObjs=ht,this.annotationCanvasMap=St,this.operatorListIdx=null,this.operatorList=Rt,this._pageIndex=Jt,this.canvasFactory=Ut,this.filterFactory=Yt,this._pdfBug=Bt,this.pageColors=wt,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=Nt===!0&&typeof window<"u",this.cancelled=!1,this.capability=new _util.PromiseCapability,this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=dt.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:it=!1,optionalContentConfig:dt}){var Jt,Ut;if(this.cancelled)return;if(this._canvas){if(g($,nt).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");g($,nt).add(this._canvas)}this._pdfBug&&((Jt=globalThis.StepperManager)!=null&&Jt.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:At,viewport:ht,transform:St,background:Rt}=this.params;this.gfx=new _canvas.CanvasGraphics(At,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:dt},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:St,viewport:ht,transparency:it,background:Rt}),this.operatorListIdx=0,this.graphicsReady=!0,(Ut=this.graphicsReadyCallback)==null||Ut.call(this)}cancel(it=null,dt=0){var At;this.running=!1,this.cancelled=!0,(At=this.gfx)==null||At.endDrawing(),g($,nt).delete(this._canvas),this.callback(it||new _display_utils.RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,dt))}operatorListChanged(){var it;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(it=this.stepper)==null||it.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),g($,nt).delete(this._canvas),this.callback())))}};nt=new WeakMap,cn($,nt,new WeakSet);let InternalRenderTask=$;const version="3.11.174";exports.version=version;const build="ce8716743";exports.build=build},(e,i,a)=>{var _e,_,ct,zl,ot;Object.defineProperty(i,"__esModule",{value:!0}),i.SerializableEmpty=i.PrintAnnotationStorage=i.AnnotationStorage=void 0;var o=a(1),c=a(4),s=a(8);const d=Object.freeze({map:null,hash:"",transfers:void 0});i.SerializableEmpty=d;class et{constructor(){cn(this,ct);cn(this,_e,!1);cn(this,_,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(gt,mt){const j=g(this,_).get(gt);return j===void 0?mt:Object.assign(mt,j)}getRawValue(gt){return g(this,_).get(gt)}remove(gt){if(g(this,_).delete(gt),g(this,_).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const mt of g(this,_).values())if(mt instanceof c.AnnotationEditor)return;this.onAnnotationEditor(null)}}setValue(gt,mt){const j=g(this,_).get(gt);let b=!1;if(j!==void 0)for(const[ft,pt]of Object.entries(mt))j[ft]!==pt&&(b=!0,j[ft]=pt);else b=!0,g(this,_).set(gt,mt);b&&qt(this,ct,zl).call(this),mt instanceof c.AnnotationEditor&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(mt.constructor._type)}has(gt){return g(this,_).has(gt)}getAll(){return g(this,_).size>0?(0,o.objectFromMap)(g(this,_)):null}setAll(gt){for(const[mt,j]of Object.entries(gt))this.setValue(mt,j)}get size(){return g(this,_).size}resetModified(){g(this,_e)&&(dn(this,_e,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new h(this)}get serializable(){if(g(this,_).size===0)return d;const gt=new Map,mt=new s.MurmurHash3_64,j=[],b=Object.create(null);let ft=!1;for(const[pt,nt]of g(this,_)){const $=nt instanceof c.AnnotationEditor?nt.serialize(!1,b):nt;$&&(gt.set(pt,$),mt.update(`${pt}:${JSON.stringify($)}`),ft||(ft=!!$.bitmap))}if(ft)for(const pt of gt.values())pt.bitmap&&j.push(pt.bitmap);return gt.size>0?{map:gt,hash:mt.hexdigest(),transfers:j}:d}}_e=new WeakMap,_=new WeakMap,ct=new WeakSet,zl=function(){g(this,_e)||(dn(this,_e,!0),typeof this.onSetModified=="function"&&this.onSetModified())},i.AnnotationStorage=et;class h extends et{constructor(mt){super();cn(this,ot);const{map:j,hash:b,transfers:ft}=mt.serializable,pt=structuredClone(j,ft?{transfer:ft}:null);dn(this,ot,{map:pt,hash:b,transfers:ft})}get print(){(0,o.unreachable)("Should not call PrintAnnotationStorage.print")}get serializable(){return g(this,ot)}}ot=new WeakMap,i.PrintAnnotationStorage=h},(e,i,a)=>{var h,_e,_,ct,ut,ot,lt,gt,mt,j,b,ft,pt,nt,$,ws,bs,dt,As,ks,Bl,Ul,Hl,Cs,Vl;Object.defineProperty(i,"__esModule",{value:!0}),i.AnnotationEditor=void 0;var o=a(5),c=a(1),s=a(6);const Nt=class Nt{constructor(wt){cn(this,$);cn(this,h,"");cn(this,_e,!1);cn(this,_,null);cn(this,ct,null);cn(this,ut,null);cn(this,ot,!1);cn(this,lt,null);cn(this,gt,this.focusin.bind(this));cn(this,mt,this.focusout.bind(this));cn(this,j,!1);cn(this,b,!1);cn(this,ft,!1);Nr(this,"_initialOptions",Object.create(null));Nr(this,"_uiManager",null);Nr(this,"_focusEventsAllowed",!0);Nr(this,"_l10nPromise",null);cn(this,pt,!1);cn(this,nt,Nt._zIndex++);this.constructor===Nt&&(0,c.unreachable)("Cannot initialize AnnotationEditor."),this.parent=wt.parent,this.id=wt.id,this.width=this.height=null,this.pageIndex=wt.parent.pageIndex,this.name=wt.name,this.div=null,this._uiManager=wt.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=wt.isCentered,this._structTreeParentId=null;const{rotation:Lt,rawDims:{pageWidth:$t,pageHeight:bt,pageX:at,pageY:st}}=this.parent.viewport;this.rotation=Lt,this.pageRotation=(360+Lt-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[$t,bt],this.pageTranslation=[at,st];const[yt,Pt]=this.parentDimensions;this.x=wt.x/yt,this.y=wt.y/Pt,this.isAttachedToDOM=!1,this.deleted=!1}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return(0,c.shadow)(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(wt){const Lt=new et({id:wt.parent.getNextId(),parent:wt.parent,uiManager:wt._uiManager});Lt.annotationElementId=wt.annotationElementId,Lt.deleted=!0,Lt._uiManager.addToAnnotationStorage(Lt)}static initialize(wt,Lt=null){if(Nt._l10nPromise||(Nt._l10nPromise=new Map(["editor_alt_text_button_label","editor_alt_text_edit_button_label","editor_alt_text_decorative_tooltip"].map(bt=>[bt,wt.get(bt)]))),Lt!=null&&Lt.strings)for(const bt of Lt.strings)Nt._l10nPromise.set(bt,wt.get(bt));if(Nt._borderLineWidth!==-1)return;const $t=getComputedStyle(document.documentElement);Nt._borderLineWidth=parseFloat($t.getPropertyValue("--outline-width"))||0}static updateDefaultParams(wt,Lt){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(wt){return!1}static paste(wt,Lt){(0,c.unreachable)("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return g(this,pt)}set _isDraggable(wt){var Lt;dn(this,pt,wt),(Lt=this.div)==null||Lt.classList.toggle("draggable",wt)}center(){const[wt,Lt]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*Lt/(wt*2),this.y+=this.width*wt/(Lt*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*Lt/(wt*2),this.y-=this.width*wt/(Lt*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(wt){this._uiManager.addCommands(wt)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=g(this,nt)}setParent(wt){wt!==null&&(this.pageIndex=wt.pageIndex,this.pageDimensions=wt.pageDimensions),this.parent=wt}focusin(wt){this._focusEventsAllowed&&(g(this,j)?dn(this,j,!1):this.parent.setSelected(this))}focusout(wt){var $t;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const Lt=wt.relatedTarget;Lt!=null&&Lt.closest(`#${this.id}`)||(wt.preventDefault(),($t=this.parent)!=null&&$t.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(wt,Lt,$t,bt){const[at,st]=this.parentDimensions;[$t,bt]=this.screenToPageTranslation($t,bt),this.x=(wt+$t)/at,this.y=(Lt+bt)/st,this.fixAndSetPosition()}translate(wt,Lt){qt(this,$,ws).call(this,this.parentDimensions,wt,Lt)}translateInPage(wt,Lt){qt(this,$,ws).call(this,this.pageDimensions,wt,Lt),this.div.scrollIntoView({block:"nearest"})}drag(wt,Lt){const[$t,bt]=this.parentDimensions;if(this.x+=wt/$t,this.y+=Lt/bt,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:Tt,y:Mt}=this.div.getBoundingClientRect();this.parent.findNewParent(this,Tt,Mt)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:at,y:st}=this;const[yt,Pt]=qt(this,$,bs).call(this);at+=yt,st+=Pt,this.div.style.left=`${(100*at).toFixed(2)}%`,this.div.style.top=`${(100*st).toFixed(2)}%`,this.div.scrollIntoView({block:"nearest"})}fixAndSetPosition(){const[wt,Lt]=this.pageDimensions;let{x:$t,y:bt,width:at,height:st}=this;switch(at*=wt,st*=Lt,$t*=wt,bt*=Lt,this.rotation){case 0:$t=Math.max(0,Math.min(wt-at,$t)),bt=Math.max(0,Math.min(Lt-st,bt));break;case 90:$t=Math.max(0,Math.min(wt-st,$t)),bt=Math.min(Lt,Math.max(at,bt));break;case 180:$t=Math.min(wt,Math.max(at,$t)),bt=Math.min(Lt,Math.max(st,bt));break;case 270:$t=Math.min(wt,Math.max(st,$t)),bt=Math.max(0,Math.min(Lt-at,bt));break}this.x=$t/=wt,this.y=bt/=Lt;const[yt,Pt]=qt(this,$,bs).call(this);$t+=yt,bt+=Pt;const{style:Tt}=this.div;Tt.left=`${(100*$t).toFixed(2)}%`,Tt.top=`${(100*bt).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(wt,Lt){var $t;return qt($t=Nt,dt,As).call($t,wt,Lt,this.parentRotation)}pageTranslationToScreen(wt,Lt){var $t;return qt($t=Nt,dt,As).call($t,wt,Lt,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:wt,pageDimensions:[Lt,$t]}=this,bt=Lt*wt,at=$t*wt;return c.FeatureTest.isCSSRoundSupported?[Math.round(bt),Math.round(at)]:[bt,at]}setDims(wt,Lt){var at;const[$t,bt]=this.parentDimensions;this.div.style.width=`${(100*wt/$t).toFixed(2)}%`,g(this,ot)||(this.div.style.height=`${(100*Lt/bt).toFixed(2)}%`),(at=g(this,_))==null||at.classList.toggle("small",wt<Nt.SMALL_EDITOR_SIZE||Lt<Nt.SMALL_EDITOR_SIZE)}fixDims(){const{style:wt}=this.div,{height:Lt,width:$t}=wt,bt=$t.endsWith("%"),at=!g(this,ot)&&Lt.endsWith("%");if(bt&&at)return;const[st,yt]=this.parentDimensions;bt||(wt.width=`${(100*parseFloat($t)/st).toFixed(2)}%`),!g(this,ot)&&!at&&(wt.height=`${(100*parseFloat(Lt)/yt).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}async addAltTextButton(){if(g(this,_))return;const wt=dn(this,_,document.createElement("button"));wt.className="altText";const Lt=await Nt._l10nPromise.get("editor_alt_text_button_label");wt.textContent=Lt,wt.setAttribute("aria-label",Lt),wt.tabIndex="0",wt.addEventListener("contextmenu",s.noContextMenu),wt.addEventListener("pointerdown",$t=>$t.stopPropagation()),wt.addEventListener("click",$t=>{$t.preventDefault(),this._uiManager.editAltText(this)},{capture:!0}),wt.addEventListener("keydown",$t=>{$t.target===wt&&$t.key==="Enter"&&($t.preventDefault(),this._uiManager.editAltText(this))}),qt(this,$,Cs).call(this),this.div.append(wt),Nt.SMALL_EDITOR_SIZE||(Nt.SMALL_EDITOR_SIZE=Math.min(128,Math.round(wt.getBoundingClientRect().width*1.4)))}getClientDimensions(){return this.div.getBoundingClientRect()}get altTextData(){return{altText:g(this,h),decorative:g(this,_e)}}set altTextData({altText:wt,decorative:Lt}){g(this,h)===wt&&g(this,_e)===Lt||(dn(this,h,wt),dn(this,_e,Lt),qt(this,$,Cs).call(this))}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.setAttribute("tabIndex",0),this.setInForeground(),this.div.addEventListener("focusin",g(this,gt)),this.div.addEventListener("focusout",g(this,mt));const[wt,Lt]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*Lt/wt).toFixed(2)}%`,this.div.style.maxHeight=`${(100*wt/Lt).toFixed(2)}%`);const[$t,bt]=this.getInitialTranslation();return this.translate($t,bt),(0,o.bindEvents)(this,this.div,["pointerdown"]),this.div}pointerdown(wt){const{isMac:Lt}=c.FeatureTest.platform;if(wt.button!==0||wt.ctrlKey&&Lt){wt.preventDefault();return}dn(this,j,!0),qt(this,$,Vl).call(this,wt)}moveInDOM(){var wt;(wt=this.parent)==null||wt.moveEditorInDOM(this)}_setParentAndPosition(wt,Lt,$t){wt.changeParent(this),this.x=Lt,this.y=$t,this.fixAndSetPosition()}getRect(wt,Lt){const $t=this.parentScale,[bt,at]=this.pageDimensions,[st,yt]=this.pageTranslation,Pt=wt/$t,Tt=Lt/$t,Mt=this.x*bt,Gt=this.y*at,un=this.width*bt,hn=this.height*at;switch(this.rotation){case 0:return[Mt+Pt+st,at-Gt-Tt-hn+yt,Mt+Pt+un+st,at-Gt-Tt+yt];case 90:return[Mt+Tt+st,at-Gt+Pt+yt,Mt+Tt+hn+st,at-Gt+Pt+un+yt];case 180:return[Mt-Pt-un+st,at-Gt+Tt+yt,Mt-Pt+st,at-Gt+Tt+hn+yt];case 270:return[Mt-Tt-hn+st,at-Gt-Pt-un+yt,Mt-Tt+st,at-Gt-Pt+yt];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(wt,Lt){const[$t,bt,at,st]=wt,yt=at-$t,Pt=st-bt;switch(this.rotation){case 0:return[$t,Lt-st,yt,Pt];case 90:return[$t,Lt-bt,Pt,yt];case 180:return[at,Lt-bt,yt,Pt];case 270:return[at,Lt-st,Pt,yt];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){dn(this,ft,!0)}disableEditMode(){dn(this,ft,!1)}isInEditMode(){return g(this,ft)}shouldGetKeyboardEvents(){return!1}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){var wt,Lt;(wt=this.div)==null||wt.addEventListener("focusin",g(this,gt)),(Lt=this.div)==null||Lt.addEventListener("focusout",g(this,mt))}serialize(wt=!1,Lt=null){(0,c.unreachable)("An editor must be serializable")}static deserialize(wt,Lt,$t){const bt=new this.prototype.constructor({parent:Lt,id:Lt.getNextId(),uiManager:$t});bt.rotation=wt.rotation;const[at,st]=bt.pageDimensions,[yt,Pt,Tt,Mt]=bt.getRectInCurrentCoords(wt.rect,st);return bt.x=yt/at,bt.y=Pt/st,bt.width=Tt/at,bt.height=Mt/st,bt}remove(){var wt;this.div.removeEventListener("focusin",g(this,gt)),this.div.removeEventListener("focusout",g(this,mt)),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),(wt=g(this,_))==null||wt.remove(),dn(this,_,null),dn(this,ct,null)}get isResizable(){return!1}makeResizable(){this.isResizable&&(qt(this,$,Bl).call(this),g(this,lt).classList.remove("hidden"))}select(){var wt;this.makeResizable(),(wt=this.div)==null||wt.classList.add("selectedEditor")}unselect(){var wt,Lt,$t;(wt=g(this,lt))==null||wt.classList.add("hidden"),(Lt=this.div)==null||Lt.classList.remove("selectedEditor"),($t=this.div)!=null&&$t.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus()}updateParams(wt,Lt){}disableEditing(){g(this,_)&&(g(this,_).hidden=!0)}enableEditing(){g(this,_)&&(g(this,_).hidden=!1)}enterInEditMode(){}get contentDiv(){return this.div}get isEditing(){return g(this,b)}set isEditing(wt){dn(this,b,wt),this.parent&&(wt?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(wt,Lt){dn(this,ot,!0);const $t=wt/Lt,{style:bt}=this.div;bt.aspectRatio=$t,bt.height="auto"}static get MIN_SIZE(){return 16}};h=new WeakMap,_e=new WeakMap,_=new WeakMap,ct=new WeakMap,ut=new WeakMap,ot=new WeakMap,lt=new WeakMap,gt=new WeakMap,mt=new WeakMap,j=new WeakMap,b=new WeakMap,ft=new WeakMap,pt=new WeakMap,nt=new WeakMap,$=new WeakSet,ws=function([wt,Lt],$t,bt){[$t,bt]=this.screenToPageTranslation($t,bt),this.x+=$t/wt,this.y+=bt/Lt,this.fixAndSetPosition()},bs=function(){const[wt,Lt]=this.parentDimensions,{_borderLineWidth:$t}=Nt,bt=$t/wt,at=$t/Lt;switch(this.rotation){case 90:return[-bt,at];case 180:return[bt,at];case 270:return[bt,-at];default:return[-bt,-at]}},dt=new WeakSet,As=function(wt,Lt,$t){switch($t){case 90:return[Lt,-wt];case 180:return[-wt,-Lt];case 270:return[-Lt,wt];default:return[wt,Lt]}},ks=function(wt){switch(wt){case 90:{const[Lt,$t]=this.pageDimensions;return[0,-Lt/$t,$t/Lt,0]}case 180:return[-1,0,0,-1];case 270:{const[Lt,$t]=this.pageDimensions;return[0,Lt/$t,-$t/Lt,0]}default:return[1,0,0,1]}},Bl=function(){if(g(this,lt))return;dn(this,lt,document.createElement("div")),g(this,lt).classList.add("resizers");const wt=["topLeft","topRight","bottomRight","bottomLeft"];this._willKeepAspectRatio||wt.push("topMiddle","middleRight","bottomMiddle","middleLeft");for(const Lt of wt){const $t=document.createElement("div");g(this,lt).append($t),$t.classList.add("resizer",Lt),$t.addEventListener("pointerdown",qt(this,$,Ul).bind(this,Lt)),$t.addEventListener("contextmenu",s.noContextMenu)}this.div.prepend(g(this,lt))},Ul=function(wt,Lt){Lt.preventDefault();const{isMac:$t}=c.FeatureTest.platform;if(Lt.button!==0||Lt.ctrlKey&&$t)return;const bt=qt(this,$,Hl).bind(this,wt),at=this._isDraggable;this._isDraggable=!1;const st={passive:!0,capture:!0};window.addEventListener("pointermove",bt,st);const yt=this.x,Pt=this.y,Tt=this.width,Mt=this.height,Gt=this.parent.div.style.cursor,un=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(Lt.target).cursor;const hn=()=>{this._isDraggable=at,window.removeEventListener("pointerup",hn),window.removeEventListener("blur",hn),window.removeEventListener("pointermove",bt,st),this.parent.div.style.cursor=Gt,this.div.style.cursor=un;const fn=this.x,mn=this.y,Cn=this.width,bn=this.height;fn===yt&&mn===Pt&&Cn===Tt&&bn===Mt||this.addCommands({cmd:()=>{this.width=Cn,this.height=bn,this.x=fn,this.y=mn;const[rn,on]=this.parentDimensions;this.setDims(rn*Cn,on*bn),this.fixAndSetPosition()},undo:()=>{this.width=Tt,this.height=Mt,this.x=yt,this.y=Pt;const[rn,on]=this.parentDimensions;this.setDims(rn*Tt,on*Mt),this.fixAndSetPosition()},mustExec:!0})};window.addEventListener("pointerup",hn),window.addEventListener("blur",hn)},Hl=function(wt,Lt){const[$t,bt]=this.parentDimensions,at=this.x,st=this.y,yt=this.width,Pt=this.height,Tt=Nt.MIN_SIZE/$t,Mt=Nt.MIN_SIZE/bt,Gt=Hn=>Math.round(Hn*1e4)/1e4,un=qt(this,$,ks).call(this,this.rotation),hn=(Hn,Vn)=>[un[0]*Hn+un[2]*Vn,un[1]*Hn+un[3]*Vn],fn=qt(this,$,ks).call(this,360-this.rotation),mn=(Hn,Vn)=>[fn[0]*Hn+fn[2]*Vn,fn[1]*Hn+fn[3]*Vn];let Cn,bn,rn=!1,on=!1;switch(wt){case"topLeft":rn=!0,Cn=(Hn,Vn)=>[0,0],bn=(Hn,Vn)=>[Hn,Vn];break;case"topMiddle":Cn=(Hn,Vn)=>[Hn/2,0],bn=(Hn,Vn)=>[Hn/2,Vn];break;case"topRight":rn=!0,Cn=(Hn,Vn)=>[Hn,0],bn=(Hn,Vn)=>[0,Vn];break;case"middleRight":on=!0,Cn=(Hn,Vn)=>[Hn,Vn/2],bn=(Hn,Vn)=>[0,Vn/2];break;case"bottomRight":rn=!0,Cn=(Hn,Vn)=>[Hn,Vn],bn=(Hn,Vn)=>[0,0];break;case"bottomMiddle":Cn=(Hn,Vn)=>[Hn/2,Vn],bn=(Hn,Vn)=>[Hn/2,0];break;case"bottomLeft":rn=!0,Cn=(Hn,Vn)=>[0,Vn],bn=(Hn,Vn)=>[Hn,0];break;case"middleLeft":on=!0,Cn=(Hn,Vn)=>[0,Vn/2],bn=(Hn,Vn)=>[Hn,Vn/2];break}const Et=Cn(yt,Pt),Ft=bn(yt,Pt);let Qt=hn(...Ft);const sn=Gt(at+Qt[0]),pn=Gt(st+Qt[1]);let An=1,vn=1,[Kt,Ln]=this.screenToPageTranslation(Lt.movementX,Lt.movementY);if([Kt,Ln]=mn(Kt/$t,Ln/bt),rn){const Hn=Math.hypot(yt,Pt);An=vn=Math.max(Math.min(Math.hypot(Ft[0]-Et[0]-Kt,Ft[1]-Et[1]-Ln)/Hn,1/yt,1/Pt),Tt/yt,Mt/Pt)}else on?An=Math.max(Tt,Math.min(1,Math.abs(Ft[0]-Et[0]-Kt)))/yt:vn=Math.max(Mt,Math.min(1,Math.abs(Ft[1]-Et[1]-Ln)))/Pt;const Tn=Gt(yt*An),Jn=Gt(Pt*vn);Qt=hn(...bn(Tn,Jn));const er=sn-Qt[0],dr=pn-Qt[1];this.width=Tn,this.height=Jn,this.x=er,this.y=dr,this.setDims($t*Tn,bt*Jn),this.fixAndSetPosition()},Cs=async function(){var $t;const wt=g(this,_);if(!wt)return;if(!g(this,h)&&!g(this,_e)){wt.classList.remove("done"),($t=g(this,ct))==null||$t.remove();return}Nt._l10nPromise.get("editor_alt_text_edit_button_label").then(bt=>{wt.setAttribute("aria-label",bt)});let Lt=g(this,ct);if(!Lt){dn(this,ct,Lt=document.createElement("span")),Lt.className="tooltip",Lt.setAttribute("role","tooltip");const bt=Lt.id=`alt-text-tooltip-${this.id}`;wt.setAttribute("aria-describedby",bt);const at=100;wt.addEventListener("mouseenter",()=>{dn(this,ut,setTimeout(()=>{dn(this,ut,null),g(this,ct).classList.add("show"),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",subtype:this.editorType,data:{action:"alt_text_tooltip"}}})},at))}),wt.addEventListener("mouseleave",()=>{var st;clearTimeout(g(this,ut)),dn(this,ut,null),(st=g(this,ct))==null||st.classList.remove("show")})}wt.classList.add("done"),Lt.innerText=g(this,_e)?await Nt._l10nPromise.get("editor_alt_text_decorative_tooltip"):g(this,h),Lt.parentNode||wt.append(Lt)},Vl=function(wt){if(!this._isDraggable)return;const Lt=this._uiManager.isSelected(this);this._uiManager.setUpDragSession();let $t,bt;Lt&&($t={passive:!0,capture:!0},bt=st=>{const[yt,Pt]=this.screenToPageTranslation(st.movementX,st.movementY);this._uiManager.dragSelectedEditors(yt,Pt)},window.addEventListener("pointermove",bt,$t));const at=()=>{if(window.removeEventListener("pointerup",at),window.removeEventListener("blur",at),Lt&&window.removeEventListener("pointermove",bt,$t),dn(this,j,!1),!this._uiManager.endDragSession()){const{isMac:st}=c.FeatureTest.platform;wt.ctrlKey&&!st||wt.shiftKey||wt.metaKey&&st?this.parent.toggleSelected(this):this.parent.setSelected(this)}};window.addEventListener("pointerup",at),window.addEventListener("blur",at)},cn(Nt,dt),Nr(Nt,"_borderLineWidth",-1),Nr(Nt,"_colorManager",new o.ColorManager),Nr(Nt,"_zIndex",1),Nr(Nt,"SMALL_EDITOR_SIZE",0);let d=Nt;i.AnnotationEditor=d;class et extends d{constructor(wt){super(wt),this.annotationElementId=wt.annotationElementId,this.deleted=!0}serialize(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex}}}},(e,i,a)=>{var ot,lt,gt,mt,j,Ps,pt,nt,$,rt,it,Wl,ht,St,Rt,Jt,Ut,Yt,Nt,Bt,wt,Lt,$t,bt,at,st,yt,Pt,Tt,Mt,Gt,un,hn,fn,mn,Cn,bn,rn,on,Et,Ft,Qt,sn,pn,An,vn,Kt,$l,Rs,xs,Ko,Ts,Ms,no,Io,Gl,Xl,Fs,Oo,Ls;Object.defineProperty(i,"__esModule",{value:!0}),i.KeyboardManager=i.CommandManager=i.ColorManager=i.AnnotationEditorUIManager=void 0,i.bindEvents=s,i.opacityToHex=d;var o=a(1),c=a(6);function s(Yn,Dt,gn){for(const Dn of gn)Dt.addEventListener(Dn,Yn[Dn].bind(Yn))}function d(Yn){return Math.round(Math.min(255,Math.max(1,255*Yn))).toString(16).padStart(2,"0")}class et{constructor(){cn(this,ot,0)}getId(){return`${o.AnnotationEditorPrefix}${Do(this,ot)._++}`}}ot=new WeakMap;const ft=class ft{constructor(){cn(this,j);cn(this,lt,(0,o.getUuid)());cn(this,gt,0);cn(this,mt,null)}static get _isSVGFittingCanvas(){const Dt='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',Dn=new OffscreenCanvas(1,3).getContext("2d"),$n=new Image;$n.src=Dt;const Gn=$n.decode().then(()=>(Dn.drawImage($n,0,0,1,1,0,0,1,3),new Uint32Array(Dn.getImageData(0,0,1,1).data.buffer)[0]===0));return(0,o.shadow)(this,"_isSVGFittingCanvas",Gn)}async getFromFile(Dt){const{lastModified:gn,name:Dn,size:$n,type:Gn}=Dt;return qt(this,j,Ps).call(this,`${gn}_${Dn}_${$n}_${Gn}`,Dt)}async getFromUrl(Dt){return qt(this,j,Ps).call(this,Dt,Dt)}async getFromId(Dt){g(this,mt)||dn(this,mt,new Map);const gn=g(this,mt).get(Dt);return gn?gn.bitmap?(gn.refCounter+=1,gn):gn.file?this.getFromFile(gn.file):this.getFromUrl(gn.url):null}getSvgUrl(Dt){const gn=g(this,mt).get(Dt);return gn!=null&&gn.isSvg?gn.svgUrl:null}deleteId(Dt){g(this,mt)||dn(this,mt,new Map);const gn=g(this,mt).get(Dt);gn&&(gn.refCounter-=1,gn.refCounter===0&&(gn.bitmap=null))}isValidId(Dt){return Dt.startsWith(`image_${g(this,lt)}_`)}};lt=new WeakMap,gt=new WeakMap,mt=new WeakMap,j=new WeakSet,Ps=async function(Dt,gn){g(this,mt)||dn(this,mt,new Map);let Dn=g(this,mt).get(Dt);if(Dn===null)return null;if(Dn!=null&&Dn.bitmap)return Dn.refCounter+=1,Dn;try{Dn||(Dn={bitmap:null,id:`image_${g(this,lt)}_${Do(this,gt)._++}`,refCounter:0,isSvg:!1});let $n;if(typeof gn=="string"){Dn.url=gn;const Gn=await fetch(gn);if(!Gn.ok)throw new Error(Gn.statusText);$n=await Gn.blob()}else $n=Dn.file=gn;if($n.type==="image/svg+xml"){const Gn=ft._isSVGFittingCanvas,zn=new FileReader,xt=new Image,Ct=new Promise((Ht,_t)=>{xt.onload=()=>{Dn.bitmap=xt,Dn.isSvg=!0,Ht()},zn.onload=async()=>{const kt=Dn.svgUrl=zn.result;xt.src=await Gn?`${kt}#svgView(preserveAspectRatio(none))`:kt},xt.onerror=zn.onerror=_t});zn.readAsDataURL($n),await Ct}else Dn.bitmap=await createImageBitmap($n);Dn.refCounter=1}catch($n){console.error($n),Dn=null}return g(this,mt).set(Dt,Dn),Dn&&g(this,mt).set(Dn.id,Dn),Dn};let h=ft;class _e{constructor(Dt=128){cn(this,pt,[]);cn(this,nt,!1);cn(this,$);cn(this,rt,-1);dn(this,$,Dt)}add({cmd:Dt,undo:gn,mustExec:Dn,type:$n=NaN,overwriteIfSameType:Gn=!1,keepUndo:zn=!1}){if(Dn&&Dt(),g(this,nt))return;const xt={cmd:Dt,undo:gn,type:$n};if(g(this,rt)===-1){g(this,pt).length>0&&(g(this,pt).length=0),dn(this,rt,0),g(this,pt).push(xt);return}if(Gn&&g(this,pt)[g(this,rt)].type===$n){zn&&(xt.undo=g(this,pt)[g(this,rt)].undo),g(this,pt)[g(this,rt)]=xt;return}const Ct=g(this,rt)+1;Ct===g(this,$)?g(this,pt).splice(0,1):(dn(this,rt,Ct),Ct<g(this,pt).length&&g(this,pt).splice(Ct)),g(this,pt).push(xt)}undo(){g(this,rt)!==-1&&(dn(this,nt,!0),g(this,pt)[g(this,rt)].undo(),dn(this,nt,!1),dn(this,rt,g(this,rt)-1))}redo(){g(this,rt)<g(this,pt).length-1&&(dn(this,rt,g(this,rt)+1),dn(this,nt,!0),g(this,pt)[g(this,rt)].cmd(),dn(this,nt,!1))}hasSomethingToUndo(){return g(this,rt)!==-1}hasSomethingToRedo(){return g(this,rt)<g(this,pt).length-1}destroy(){dn(this,pt,null)}}pt=new WeakMap,nt=new WeakMap,$=new WeakMap,rt=new WeakMap,i.CommandManager=_e;class _{constructor(Dt){cn(this,it);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:gn}=o.FeatureTest.platform;for(const[Dn,$n,Gn={}]of Dt)for(const zn of Dn){const xt=zn.startsWith("mac+");gn&&xt?(this.callbacks.set(zn.slice(4),{callback:$n,options:Gn}),this.allKeys.add(zn.split("+").at(-1))):!gn&&!xt&&(this.callbacks.set(zn,{callback:$n,options:Gn}),this.allKeys.add(zn.split("+").at(-1)))}}exec(Dt,gn){if(!this.allKeys.has(gn.key))return;const Dn=this.callbacks.get(qt(this,it,Wl).call(this,gn));if(!Dn)return;const{callback:$n,options:{bubbles:Gn=!1,args:zn=[],checker:xt=null}}=Dn;xt&&!xt(Dt,gn)||($n.bind(Dt,...zn)(),Gn||(gn.stopPropagation(),gn.preventDefault()))}}it=new WeakSet,Wl=function(Dt){Dt.altKey&&this.buffer.push("alt"),Dt.ctrlKey&&this.buffer.push("ctrl"),Dt.metaKey&&this.buffer.push("meta"),Dt.shiftKey&&this.buffer.push("shift"),this.buffer.push(Dt.key);const gn=this.buffer.join("+");return this.buffer.length=0,gn},i.KeyboardManager=_;const At=class At{get _colors(){const Dt=new Map([["CanvasText",null],["Canvas",null]]);return(0,c.getColorValues)(Dt),(0,o.shadow)(this,"_colors",Dt)}convert(Dt){const gn=(0,c.getRGB)(Dt);if(!window.matchMedia("(forced-colors: active)").matches)return gn;for(const[Dn,$n]of this._colors)if($n.every((Gn,zn)=>Gn===gn[zn]))return At._colorsMapping.get(Dn);return gn}getHexCode(Dt){const gn=this._colors.get(Dt);return gn?o.Util.makeHexColor(...gn):Dt}};Nr(At,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let ct=At;i.ColorManager=ct;const Wn=class Wn{constructor(Dt,gn,Dn,$n,Gn,zn){cn(this,Kt);cn(this,ht,null);cn(this,St,new Map);cn(this,Rt,new Map);cn(this,Jt,null);cn(this,Ut,null);cn(this,Yt,new _e);cn(this,Nt,0);cn(this,Bt,new Set);cn(this,wt,null);cn(this,Lt,null);cn(this,$t,new Set);cn(this,bt,null);cn(this,at,new et);cn(this,st,!1);cn(this,yt,!1);cn(this,Pt,null);cn(this,Tt,o.AnnotationEditorType.NONE);cn(this,Mt,new Set);cn(this,Gt,null);cn(this,un,this.blur.bind(this));cn(this,hn,this.focus.bind(this));cn(this,fn,this.copy.bind(this));cn(this,mn,this.cut.bind(this));cn(this,Cn,this.paste.bind(this));cn(this,bn,this.keydown.bind(this));cn(this,rn,this.onEditingAction.bind(this));cn(this,on,this.onPageChanging.bind(this));cn(this,Et,this.onScaleChanging.bind(this));cn(this,Ft,this.onRotationChanging.bind(this));cn(this,Qt,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1});cn(this,sn,[0,0]);cn(this,pn,null);cn(this,An,null);cn(this,vn,null);dn(this,An,Dt),dn(this,vn,gn),dn(this,Jt,Dn),this._eventBus=$n,this._eventBus._on("editingaction",g(this,rn)),this._eventBus._on("pagechanging",g(this,on)),this._eventBus._on("scalechanging",g(this,Et)),this._eventBus._on("rotationchanging",g(this,Ft)),dn(this,Ut,Gn.annotationStorage),dn(this,bt,Gn.filterFactory),dn(this,Gt,zn),this.viewParameters={realScale:c.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:0}}static get _keyboardManager(){const Dt=Wn.prototype,gn=Gn=>{const{activeElement:zn}=document;return zn&&g(Gn,An).contains(zn)&&Gn.hasSomethingToControl()},Dn=this.TRANSLATE_SMALL,$n=this.TRANSLATE_BIG;return(0,o.shadow)(this,"_keyboardManager",new _([[["ctrl+a","mac+meta+a"],Dt.selectAll],[["ctrl+z","mac+meta+z"],Dt.undo],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],Dt.redo],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],Dt.delete],[["Escape","mac+Escape"],Dt.unselectAll],[["ArrowLeft","mac+ArrowLeft"],Dt.translateSelectedEditors,{args:[-Dn,0],checker:gn}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],Dt.translateSelectedEditors,{args:[-$n,0],checker:gn}],[["ArrowRight","mac+ArrowRight"],Dt.translateSelectedEditors,{args:[Dn,0],checker:gn}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],Dt.translateSelectedEditors,{args:[$n,0],checker:gn}],[["ArrowUp","mac+ArrowUp"],Dt.translateSelectedEditors,{args:[0,-Dn],checker:gn}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],Dt.translateSelectedEditors,{args:[0,-$n],checker:gn}],[["ArrowDown","mac+ArrowDown"],Dt.translateSelectedEditors,{args:[0,Dn],checker:gn}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],Dt.translateSelectedEditors,{args:[0,$n],checker:gn}]]))}destroy(){qt(this,Kt,Ko).call(this),qt(this,Kt,Rs).call(this),this._eventBus._off("editingaction",g(this,rn)),this._eventBus._off("pagechanging",g(this,on)),this._eventBus._off("scalechanging",g(this,Et)),this._eventBus._off("rotationchanging",g(this,Ft));for(const Dt of g(this,Rt).values())Dt.destroy();g(this,Rt).clear(),g(this,St).clear(),g(this,$t).clear(),dn(this,ht,null),g(this,Mt).clear(),g(this,Yt).destroy(),g(this,Jt).destroy()}get hcmFilter(){return(0,o.shadow)(this,"hcmFilter",g(this,Gt)?g(this,bt).addHCMFilter(g(this,Gt).foreground,g(this,Gt).background):"none")}get direction(){return(0,o.shadow)(this,"direction",getComputedStyle(g(this,An)).direction)}editAltText(Dt){var gn;(gn=g(this,Jt))==null||gn.editAltText(this,Dt)}onPageChanging({pageNumber:Dt}){dn(this,Nt,Dt-1)}focusMainContainer(){g(this,An).focus()}findParent(Dt,gn){for(const Dn of g(this,Rt).values()){const{x:$n,y:Gn,width:zn,height:xt}=Dn.div.getBoundingClientRect();if(Dt>=$n&&Dt<=$n+zn&&gn>=Gn&&gn<=Gn+xt)return Dn}return null}disableUserSelect(Dt=!1){g(this,vn).classList.toggle("noUserSelect",Dt)}addShouldRescale(Dt){g(this,$t).add(Dt)}removeShouldRescale(Dt){g(this,$t).delete(Dt)}onScaleChanging({scale:Dt}){this.commitOrRemove(),this.viewParameters.realScale=Dt*c.PixelsPerInch.PDF_TO_CSS_UNITS;for(const gn of g(this,$t))gn.onScaleChanging()}onRotationChanging({pagesRotation:Dt}){this.commitOrRemove(),this.viewParameters.rotation=Dt}addToAnnotationStorage(Dt){!Dt.isEmpty()&&g(this,Ut)&&!g(this,Ut).has(Dt.id)&&g(this,Ut).setValue(Dt.id,Dt)}blur(){if(!this.hasSelection)return;const{activeElement:Dt}=document;for(const gn of g(this,Mt))if(gn.div.contains(Dt)){dn(this,Pt,[gn,Dt]),gn._focusEventsAllowed=!1;break}}focus(){if(!g(this,Pt))return;const[Dt,gn]=g(this,Pt);dn(this,Pt,null),gn.addEventListener("focusin",()=>{Dt._focusEventsAllowed=!0},{once:!0}),gn.focus()}addEditListeners(){qt(this,Kt,xs).call(this),qt(this,Kt,Ts).call(this)}removeEditListeners(){qt(this,Kt,Ko).call(this),qt(this,Kt,Ms).call(this)}copy(Dt){var Dn;if(Dt.preventDefault(),(Dn=g(this,ht))==null||Dn.commitOrRemove(),!this.hasSelection)return;const gn=[];for(const $n of g(this,Mt)){const Gn=$n.serialize(!0);Gn&&gn.push(Gn)}gn.length!==0&&Dt.clipboardData.setData("application/pdfjs",JSON.stringify(gn))}cut(Dt){this.copy(Dt),this.delete()}paste(Dt){Dt.preventDefault();const{clipboardData:gn}=Dt;for(const Gn of gn.items)for(const zn of g(this,Lt))if(zn.isHandlingMimeForPasting(Gn.type)){zn.paste(Gn,this.currentLayer);return}let Dn=gn.getData("application/pdfjs");if(!Dn)return;try{Dn=JSON.parse(Dn)}catch(Gn){(0,o.warn)(`paste: "${Gn.message}".`);return}if(!Array.isArray(Dn))return;this.unselectAll();const $n=this.currentLayer;try{const Gn=[];for(const Ct of Dn){const Ht=$n.deserialize(Ct);if(!Ht)return;Gn.push(Ht)}const zn=()=>{for(const Ct of Gn)qt(this,Kt,Fs).call(this,Ct);qt(this,Kt,Ls).call(this,Gn)},xt=()=>{for(const Ct of Gn)Ct.remove()};this.addCommands({cmd:zn,undo:xt,mustExec:!0})}catch(Gn){(0,o.warn)(`paste: "${Gn.message}".`)}}keydown(Dt){var gn;(gn=this.getActive())!=null&&gn.shouldGetKeyboardEvents()||Wn._keyboardManager.exec(this,Dt)}onEditingAction(Dt){["undo","redo","delete","selectAll"].includes(Dt.name)&&this[Dt.name]()}setEditingState(Dt){Dt?(qt(this,Kt,$l).call(this),qt(this,Kt,xs).call(this),qt(this,Kt,Ts).call(this),qt(this,Kt,no).call(this,{isEditing:g(this,Tt)!==o.AnnotationEditorType.NONE,isEmpty:qt(this,Kt,Oo).call(this),hasSomethingToUndo:g(this,Yt).hasSomethingToUndo(),hasSomethingToRedo:g(this,Yt).hasSomethingToRedo(),hasSelectedEditor:!1})):(qt(this,Kt,Rs).call(this),qt(this,Kt,Ko).call(this),qt(this,Kt,Ms).call(this),qt(this,Kt,no).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(Dt){if(!g(this,Lt)){dn(this,Lt,Dt);for(const gn of g(this,Lt))qt(this,Kt,Io).call(this,gn.defaultPropertiesToUpdate)}}getId(){return g(this,at).getId()}get currentLayer(){return g(this,Rt).get(g(this,Nt))}getLayer(Dt){return g(this,Rt).get(Dt)}get currentPageIndex(){return g(this,Nt)}addLayer(Dt){g(this,Rt).set(Dt.pageIndex,Dt),g(this,st)?Dt.enable():Dt.disable()}removeLayer(Dt){g(this,Rt).delete(Dt.pageIndex)}updateMode(Dt,gn=null){if(g(this,Tt)!==Dt){if(dn(this,Tt,Dt),Dt===o.AnnotationEditorType.NONE){this.setEditingState(!1),qt(this,Kt,Xl).call(this);return}this.setEditingState(!0),qt(this,Kt,Gl).call(this),this.unselectAll();for(const Dn of g(this,Rt).values())Dn.updateMode(Dt);if(gn){for(const Dn of g(this,St).values())if(Dn.annotationElementId===gn){this.setSelected(Dn),Dn.enterInEditMode();break}}}}updateToolbar(Dt){Dt!==g(this,Tt)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:Dt})}updateParams(Dt,gn){if(g(this,Lt)){if(Dt===o.AnnotationEditorParamsType.CREATE){this.currentLayer.addNewEditor(Dt);return}for(const Dn of g(this,Mt))Dn.updateParams(Dt,gn);for(const Dn of g(this,Lt))Dn.updateDefaultParams(Dt,gn)}}enableWaiting(Dt=!1){if(g(this,yt)!==Dt){dn(this,yt,Dt);for(const gn of g(this,Rt).values())Dt?gn.disableClick():gn.enableClick(),gn.div.classList.toggle("waiting",Dt)}}getEditors(Dt){const gn=[];for(const Dn of g(this,St).values())Dn.pageIndex===Dt&&gn.push(Dn);return gn}getEditor(Dt){return g(this,St).get(Dt)}addEditor(Dt){g(this,St).set(Dt.id,Dt)}removeEditor(Dt){var gn;g(this,St).delete(Dt.id),this.unselect(Dt),(!Dt.annotationElementId||!g(this,Bt).has(Dt.annotationElementId))&&((gn=g(this,Ut))==null||gn.remove(Dt.id))}addDeletedAnnotationElement(Dt){g(this,Bt).add(Dt.annotationElementId),Dt.deleted=!0}isDeletedAnnotationElement(Dt){return g(this,Bt).has(Dt)}removeDeletedAnnotationElement(Dt){g(this,Bt).delete(Dt.annotationElementId),Dt.deleted=!1}setActiveEditor(Dt){g(this,ht)!==Dt&&(dn(this,ht,Dt),Dt&&qt(this,Kt,Io).call(this,Dt.propertiesToUpdate))}toggleSelected(Dt){if(g(this,Mt).has(Dt)){g(this,Mt).delete(Dt),Dt.unselect(),qt(this,Kt,no).call(this,{hasSelectedEditor:this.hasSelection});return}g(this,Mt).add(Dt),Dt.select(),qt(this,Kt,Io).call(this,Dt.propertiesToUpdate),qt(this,Kt,no).call(this,{hasSelectedEditor:!0})}setSelected(Dt){for(const gn of g(this,Mt))gn!==Dt&&gn.unselect();g(this,Mt).clear(),g(this,Mt).add(Dt),Dt.select(),qt(this,Kt,Io).call(this,Dt.propertiesToUpdate),qt(this,Kt,no).call(this,{hasSelectedEditor:!0})}isSelected(Dt){return g(this,Mt).has(Dt)}unselect(Dt){Dt.unselect(),g(this,Mt).delete(Dt),qt(this,Kt,no).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return g(this,Mt).size!==0}undo(){g(this,Yt).undo(),qt(this,Kt,no).call(this,{hasSomethingToUndo:g(this,Yt).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:qt(this,Kt,Oo).call(this)})}redo(){g(this,Yt).redo(),qt(this,Kt,no).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:g(this,Yt).hasSomethingToRedo(),isEmpty:qt(this,Kt,Oo).call(this)})}addCommands(Dt){g(this,Yt).add(Dt),qt(this,Kt,no).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:qt(this,Kt,Oo).call(this)})}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const Dt=[...g(this,Mt)],gn=()=>{for(const $n of Dt)$n.remove()},Dn=()=>{for(const $n of Dt)qt(this,Kt,Fs).call(this,$n)};this.addCommands({cmd:gn,undo:Dn,mustExec:!0})}commitOrRemove(){var Dt;(Dt=g(this,ht))==null||Dt.commitOrRemove()}hasSomethingToControl(){return g(this,ht)||this.hasSelection}selectAll(){for(const Dt of g(this,Mt))Dt.commit();qt(this,Kt,Ls).call(this,g(this,St).values())}unselectAll(){if(g(this,ht)){g(this,ht).commitOrRemove();return}if(this.hasSelection){for(const Dt of g(this,Mt))Dt.unselect();g(this,Mt).clear(),qt(this,Kt,no).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(Dt,gn,Dn=!1){if(Dn||this.commitOrRemove(),!this.hasSelection)return;g(this,sn)[0]+=Dt,g(this,sn)[1]+=gn;const[$n,Gn]=g(this,sn),zn=[...g(this,Mt)],xt=1e3;g(this,pn)&&clearTimeout(g(this,pn)),dn(this,pn,setTimeout(()=>{dn(this,pn,null),g(this,sn)[0]=g(this,sn)[1]=0,this.addCommands({cmd:()=>{for(const Ct of zn)g(this,St).has(Ct.id)&&Ct.translateInPage($n,Gn)},undo:()=>{for(const Ct of zn)g(this,St).has(Ct.id)&&Ct.translateInPage(-$n,-Gn)},mustExec:!1})},xt));for(const Ct of zn)Ct.translateInPage(Dt,gn)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),dn(this,wt,new Map);for(const Dt of g(this,Mt))g(this,wt).set(Dt,{savedX:Dt.x,savedY:Dt.y,savedPageIndex:Dt.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!g(this,wt))return!1;this.disableUserSelect(!1);const Dt=g(this,wt);dn(this,wt,null);let gn=!1;for(const[{x:$n,y:Gn,pageIndex:zn},xt]of Dt)xt.newX=$n,xt.newY=Gn,xt.newPageIndex=zn,gn||(gn=$n!==xt.savedX||Gn!==xt.savedY||zn!==xt.savedPageIndex);if(!gn)return!1;const Dn=($n,Gn,zn,xt)=>{if(g(this,St).has($n.id)){const Ct=g(this,Rt).get(xt);Ct?$n._setParentAndPosition(Ct,Gn,zn):($n.pageIndex=xt,$n.x=Gn,$n.y=zn)}};return this.addCommands({cmd:()=>{for(const[$n,{newX:Gn,newY:zn,newPageIndex:xt}]of Dt)Dn($n,Gn,zn,xt)},undo:()=>{for(const[$n,{savedX:Gn,savedY:zn,savedPageIndex:xt}]of Dt)Dn($n,Gn,zn,xt)},mustExec:!0}),!0}dragSelectedEditors(Dt,gn){if(g(this,wt))for(const Dn of g(this,wt).keys())Dn.drag(Dt,gn)}rebuild(Dt){if(Dt.parent===null){const gn=this.getLayer(Dt.pageIndex);gn?(gn.changeParent(Dt),gn.addOrRebuild(Dt)):(this.addEditor(Dt),this.addToAnnotationStorage(Dt),Dt.rebuild())}else Dt.parent.addOrRebuild(Dt)}isActive(Dt){return g(this,ht)===Dt}getActive(){return g(this,ht)}getMode(){return g(this,Tt)}get imageManager(){return(0,o.shadow)(this,"imageManager",new h)}};ht=new WeakMap,St=new WeakMap,Rt=new WeakMap,Jt=new WeakMap,Ut=new WeakMap,Yt=new WeakMap,Nt=new WeakMap,Bt=new WeakMap,wt=new WeakMap,Lt=new WeakMap,$t=new WeakMap,bt=new WeakMap,at=new WeakMap,st=new WeakMap,yt=new WeakMap,Pt=new WeakMap,Tt=new WeakMap,Mt=new WeakMap,Gt=new WeakMap,un=new WeakMap,hn=new WeakMap,fn=new WeakMap,mn=new WeakMap,Cn=new WeakMap,bn=new WeakMap,rn=new WeakMap,on=new WeakMap,Et=new WeakMap,Ft=new WeakMap,Qt=new WeakMap,sn=new WeakMap,pn=new WeakMap,An=new WeakMap,vn=new WeakMap,Kt=new WeakSet,$l=function(){window.addEventListener("focus",g(this,hn)),window.addEventListener("blur",g(this,un))},Rs=function(){window.removeEventListener("focus",g(this,hn)),window.removeEventListener("blur",g(this,un))},xs=function(){window.addEventListener("keydown",g(this,bn),{capture:!0})},Ko=function(){window.removeEventListener("keydown",g(this,bn),{capture:!0})},Ts=function(){document.addEventListener("copy",g(this,fn)),document.addEventListener("cut",g(this,mn)),document.addEventListener("paste",g(this,Cn))},Ms=function(){document.removeEventListener("copy",g(this,fn)),document.removeEventListener("cut",g(this,mn)),document.removeEventListener("paste",g(this,Cn))},no=function(Dt){Object.entries(Dt).some(([Dn,$n])=>g(this,Qt)[Dn]!==$n)&&this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(g(this,Qt),Dt)})},Io=function(Dt){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:Dt})},Gl=function(){if(!g(this,st)){dn(this,st,!0);for(const Dt of g(this,Rt).values())Dt.enable()}},Xl=function(){if(this.unselectAll(),g(this,st)){dn(this,st,!1);for(const Dt of g(this,Rt).values())Dt.disable()}},Fs=function(Dt){const gn=g(this,Rt).get(Dt.pageIndex);gn?gn.addOrRebuild(Dt):this.addEditor(Dt)},Oo=function(){if(g(this,St).size===0)return!0;if(g(this,St).size===1)for(const Dt of g(this,St).values())return Dt.isEmpty();return!1},Ls=function(Dt){g(this,Mt).clear();for(const gn of Dt)gn.isEmpty()||(g(this,Mt).add(gn),gn.select());qt(this,Kt,no).call(this,{hasSelectedEditor:!0})},Nr(Wn,"TRANSLATE_SMALL",1),Nr(Wn,"TRANSLATE_BIG",10);let ut=Wn;i.AnnotationEditorUIManager=ut},(e,i,a)=>{var Nt,Bt,wt,Lt,$t,bt,at,st,yt,Pt,Tt,Mt,Ro,xo,Ds,Qo,Zo,No,jo;Object.defineProperty(i,"__esModule",{value:!0}),i.StatTimer=i.RenderingCancelledException=i.PixelsPerInch=i.PageViewport=i.PDFDateString=i.DOMStandardFontDataFactory=i.DOMSVGFactory=i.DOMFilterFactory=i.DOMCanvasFactory=i.DOMCMapReaderFactory=void 0,i.deprecated=rt,i.getColorValues=St,i.getCurrentTransform=Rt,i.getCurrentTransformInverse=Jt,i.getFilenameFromUrl=j,i.getPdfFilenameFromUrl=b,i.getRGB=ht,i.getXfaPageViewport=At,i.isDataScheme=gt,i.isPdfFile=mt,i.isValidFetchUrl=pt,i.loadScript=$,i.noContextMenu=nt,i.setLayerDimensions=Ut;var o=a(7),c=a(1);const s="http://www.w3.org/2000/svg",Yt=class Yt{};Nr(Yt,"CSS",96),Nr(Yt,"PDF",72),Nr(Yt,"PDF_TO_CSS_UNITS",Yt.CSS/Yt.PDF);let d=Yt;i.PixelsPerInch=d;class et extends o.BaseFilterFactory{constructor({docId:Et,ownerDocument:Ft=globalThis.document}={}){super();cn(this,Mt);cn(this,Nt);cn(this,Bt);cn(this,wt);cn(this,Lt);cn(this,$t);cn(this,bt);cn(this,at);cn(this,st);cn(this,yt);cn(this,Pt);cn(this,Tt,0);dn(this,wt,Et),dn(this,Lt,Ft)}addFilter(Et){if(!Et)return"none";let Ft=g(this,Mt,Ro).get(Et);if(Ft)return Ft;let Qt,sn,pn,An;if(Et.length===1){const Tn=Et[0],Jn=new Array(256);for(let er=0;er<256;er++)Jn[er]=Tn[er]/255;An=Qt=sn=pn=Jn.join(",")}else{const[Tn,Jn,er]=Et,dr=new Array(256),Hn=new Array(256),Vn=new Array(256);for(let or=0;or<256;or++)dr[or]=Tn[or]/255,Hn[or]=Jn[or]/255,Vn[or]=er[or]/255;Qt=dr.join(","),sn=Hn.join(","),pn=Vn.join(","),An=`${Qt}${sn}${pn}`}if(Ft=g(this,Mt,Ro).get(An),Ft)return g(this,Mt,Ro).set(Et,Ft),Ft;const vn=`g_${g(this,wt)}_transfer_map_${Do(this,Tt)._++}`,Kt=`url(#${vn})`;g(this,Mt,Ro).set(Et,Kt),g(this,Mt,Ro).set(An,Kt);const Ln=qt(this,Mt,Qo).call(this,vn);return qt(this,Mt,No).call(this,Qt,sn,pn,Ln),Kt}addHCMFilter(Et,Ft){var Jn;const Qt=`${Et}-${Ft}`;if(g(this,bt)===Qt)return g(this,at);if(dn(this,bt,Qt),dn(this,at,"none"),(Jn=g(this,$t))==null||Jn.remove(),!Et||!Ft)return g(this,at);const sn=qt(this,Mt,jo).call(this,Et);Et=c.Util.makeHexColor(...sn);const pn=qt(this,Mt,jo).call(this,Ft);if(Ft=c.Util.makeHexColor(...pn),g(this,Mt,xo).style.color="",Et==="#000000"&&Ft==="#ffffff"||Et===Ft)return g(this,at);const An=new Array(256);for(let er=0;er<=255;er++){const dr=er/255;An[er]=dr<=.03928?dr/12.92:((dr+.055)/1.055)**2.4}const vn=An.join(","),Kt=`g_${g(this,wt)}_hcm_filter`,Ln=dn(this,st,qt(this,Mt,Qo).call(this,Kt));qt(this,Mt,No).call(this,vn,vn,vn,Ln),qt(this,Mt,Ds).call(this,Ln);const Tn=(er,dr)=>{const Hn=sn[er]/255,Vn=pn[er]/255,or=new Array(dr+1);for(let wr=0;wr<=dr;wr++)or[wr]=Hn+wr/dr*(Vn-Hn);return or.join(",")};return qt(this,Mt,No).call(this,Tn(0,5),Tn(1,5),Tn(2,5),Ln),dn(this,at,`url(#${Kt})`),g(this,at)}addHighlightHCMFilter(Et,Ft,Qt,sn){var Vn;const pn=`${Et}-${Ft}-${Qt}-${sn}`;if(g(this,yt)===pn)return g(this,Pt);if(dn(this,yt,pn),dn(this,Pt,"none"),(Vn=g(this,st))==null||Vn.remove(),!Et||!Ft)return g(this,Pt);const[An,vn]=[Et,Ft].map(qt(this,Mt,jo).bind(this));let Kt=Math.round(.2126*An[0]+.7152*An[1]+.0722*An[2]),Ln=Math.round(.2126*vn[0]+.7152*vn[1]+.0722*vn[2]),[Tn,Jn]=[Qt,sn].map(qt(this,Mt,jo).bind(this));Ln<Kt&&([Kt,Ln,Tn,Jn]=[Ln,Kt,Jn,Tn]),g(this,Mt,xo).style.color="";const er=(or,wr,_n)=>{const Zt=new Array(256),en=(Ln-Kt)/_n,Bn=or/255,Wn=(wr-or)/(255*_n);let Yn=0;for(let Dt=0;Dt<=_n;Dt++){const gn=Math.round(Kt+Dt*en),Dn=Bn+Dt*Wn;for(let $n=Yn;$n<=gn;$n++)Zt[$n]=Dn;Yn=gn+1}for(let Dt=Yn;Dt<256;Dt++)Zt[Dt]=Zt[Yn-1];return Zt.join(",")},dr=`g_${g(this,wt)}_hcm_highlight_filter`,Hn=dn(this,st,qt(this,Mt,Qo).call(this,dr));return qt(this,Mt,Ds).call(this,Hn),qt(this,Mt,No).call(this,er(Tn[0],Jn[0],5),er(Tn[1],Jn[1],5),er(Tn[2],Jn[2],5),Hn),dn(this,Pt,`url(#${dr})`),g(this,Pt)}destroy(Et=!1){Et&&(g(this,at)||g(this,Pt))||(g(this,Bt)&&(g(this,Bt).parentNode.parentNode.remove(),dn(this,Bt,null)),g(this,Nt)&&(g(this,Nt).clear(),dn(this,Nt,null)),dn(this,Tt,0))}}Nt=new WeakMap,Bt=new WeakMap,wt=new WeakMap,Lt=new WeakMap,$t=new WeakMap,bt=new WeakMap,at=new WeakMap,st=new WeakMap,yt=new WeakMap,Pt=new WeakMap,Tt=new WeakMap,Mt=new WeakSet,Ro=function(){return g(this,Nt)||dn(this,Nt,new Map)},xo=function(){if(!g(this,Bt)){const Et=g(this,Lt).createElement("div"),{style:Ft}=Et;Ft.visibility="hidden",Ft.contain="strict",Ft.width=Ft.height=0,Ft.position="absolute",Ft.top=Ft.left=0,Ft.zIndex=-1;const Qt=g(this,Lt).createElementNS(s,"svg");Qt.setAttribute("width",0),Qt.setAttribute("height",0),dn(this,Bt,g(this,Lt).createElementNS(s,"defs")),Et.append(Qt),Qt.append(g(this,Bt)),g(this,Lt).body.append(Et)}return g(this,Bt)},Ds=function(Et){const Ft=g(this,Lt).createElementNS(s,"feColorMatrix");Ft.setAttribute("type","matrix"),Ft.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),Et.append(Ft)},Qo=function(Et){const Ft=g(this,Lt).createElementNS(s,"filter");return Ft.setAttribute("color-interpolation-filters","sRGB"),Ft.setAttribute("id",Et),g(this,Mt,xo).append(Ft),Ft},Zo=function(Et,Ft,Qt){const sn=g(this,Lt).createElementNS(s,Ft);sn.setAttribute("type","discrete"),sn.setAttribute("tableValues",Qt),Et.append(sn)},No=function(Et,Ft,Qt,sn){const pn=g(this,Lt).createElementNS(s,"feComponentTransfer");sn.append(pn),qt(this,Mt,Zo).call(this,pn,"feFuncR",Et),qt(this,Mt,Zo).call(this,pn,"feFuncG",Ft),qt(this,Mt,Zo).call(this,pn,"feFuncB",Qt)},jo=function(Et){return g(this,Mt,xo).style.color=Et,ht(getComputedStyle(g(this,Mt,xo)).getPropertyValue("color"))},i.DOMFilterFactory=et;class h extends o.BaseCanvasFactory{constructor({ownerDocument:on=globalThis.document}={}){super(),this._document=on}_createCanvas(on,Et){const Ft=this._document.createElement("canvas");return Ft.width=on,Ft.height=Et,Ft}}i.DOMCanvasFactory=h;async function _e(rn,on=!1){if(pt(rn,document.baseURI)){const Et=await fetch(rn);if(!Et.ok)throw new Error(Et.statusText);return on?new Uint8Array(await Et.arrayBuffer()):(0,c.stringToBytes)(await Et.text())}return new Promise((Et,Ft)=>{const Qt=new XMLHttpRequest;Qt.open("GET",rn,!0),on&&(Qt.responseType="arraybuffer"),Qt.onreadystatechange=()=>{if(Qt.readyState===XMLHttpRequest.DONE){if(Qt.status===200||Qt.status===0){let sn;if(on&&Qt.response?sn=new Uint8Array(Qt.response):!on&&Qt.responseText&&(sn=(0,c.stringToBytes)(Qt.responseText)),sn){Et(sn);return}}Ft(new Error(Qt.statusText))}},Qt.send(null)})}class _ extends o.BaseCMapReaderFactory{_fetchData(on,Et){return _e(on,this.isCompressed).then(Ft=>({cMapData:Ft,compressionType:Et}))}}i.DOMCMapReaderFactory=_;class ct extends o.BaseStandardFontDataFactory{_fetchData(on){return _e(on,!0)}}i.DOMStandardFontDataFactory=ct;class ut extends o.BaseSVGFactory{_createSVG(on){return document.createElementNS(s,on)}}i.DOMSVGFactory=ut;class ot{constructor({viewBox:on,scale:Et,rotation:Ft,offsetX:Qt=0,offsetY:sn=0,dontFlip:pn=!1}){this.viewBox=on,this.scale=Et,this.rotation=Ft,this.offsetX=Qt,this.offsetY=sn;const An=(on[2]+on[0])/2,vn=(on[3]+on[1])/2;let Kt,Ln,Tn,Jn;switch(Ft%=360,Ft<0&&(Ft+=360),Ft){case 180:Kt=-1,Ln=0,Tn=0,Jn=1;break;case 90:Kt=0,Ln=1,Tn=1,Jn=0;break;case 270:Kt=0,Ln=-1,Tn=-1,Jn=0;break;case 0:Kt=1,Ln=0,Tn=0,Jn=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}pn&&(Tn=-Tn,Jn=-Jn);let er,dr,Hn,Vn;Kt===0?(er=Math.abs(vn-on[1])*Et+Qt,dr=Math.abs(An-on[0])*Et+sn,Hn=(on[3]-on[1])*Et,Vn=(on[2]-on[0])*Et):(er=Math.abs(An-on[0])*Et+Qt,dr=Math.abs(vn-on[1])*Et+sn,Hn=(on[2]-on[0])*Et,Vn=(on[3]-on[1])*Et),this.transform=[Kt*Et,Ln*Et,Tn*Et,Jn*Et,er-Kt*Et*An-Tn*Et*vn,dr-Ln*Et*An-Jn*Et*vn],this.width=Hn,this.height=Vn}get rawDims(){const{viewBox:on}=this;return(0,c.shadow)(this,"rawDims",{pageWidth:on[2]-on[0],pageHeight:on[3]-on[1],pageX:on[0],pageY:on[1]})}clone({scale:on=this.scale,rotation:Et=this.rotation,offsetX:Ft=this.offsetX,offsetY:Qt=this.offsetY,dontFlip:sn=!1}={}){return new ot({viewBox:this.viewBox.slice(),scale:on,rotation:Et,offsetX:Ft,offsetY:Qt,dontFlip:sn})}convertToViewportPoint(on,Et){return c.Util.applyTransform([on,Et],this.transform)}convertToViewportRectangle(on){const Et=c.Util.applyTransform([on[0],on[1]],this.transform),Ft=c.Util.applyTransform([on[2],on[3]],this.transform);return[Et[0],Et[1],Ft[0],Ft[1]]}convertToPdfPoint(on,Et){return c.Util.applyInverseTransform([on,Et],this.transform)}}i.PageViewport=ot;class lt extends c.BaseException{constructor(on,Et=0){super(on,"RenderingCancelledException"),this.extraDelay=Et}}i.RenderingCancelledException=lt;function gt(rn){const on=rn.length;let Et=0;for(;Et<on&&rn[Et].trim()==="";)Et++;return rn.substring(Et,Et+5).toLowerCase()==="data:"}function mt(rn){return typeof rn=="string"&&/\.pdf$/i.test(rn)}function j(rn,on=!1){return on||([rn]=rn.split(/[#?]/,1)),rn.substring(rn.lastIndexOf("/")+1)}function b(rn,on="document.pdf"){if(typeof rn!="string")return on;if(gt(rn))return(0,c.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),on;const Et=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,Ft=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,Qt=Et.exec(rn);let sn=Ft.exec(Qt[1])||Ft.exec(Qt[2])||Ft.exec(Qt[3]);if(sn&&(sn=sn[0],sn.includes("%")))try{sn=Ft.exec(decodeURIComponent(sn))[0]}catch{}return sn||on}class ft{constructor(){Nr(this,"started",Object.create(null));Nr(this,"times",[])}time(on){on in this.started&&(0,c.warn)(`Timer is already running for ${on}`),this.started[on]=Date.now()}timeEnd(on){on in this.started||(0,c.warn)(`Timer has not been started for ${on}`),this.times.push({name:on,start:this.started[on],end:Date.now()}),delete this.started[on]}toString(){const on=[];let Et=0;for(const{name:Ft}of this.times)Et=Math.max(Ft.length,Et);for(const{name:Ft,start:Qt,end:sn}of this.times)on.push(`${Ft.padEnd(Et)} ${sn-Qt}ms
`);return on.join("")}}i.StatTimer=ft;function pt(rn,on){try{const{protocol:Et}=on?new URL(rn,on):new URL(rn);return Et==="http:"||Et==="https:"}catch{return!1}}function nt(rn){rn.preventDefault()}function $(rn,on=!1){return new Promise((Et,Ft)=>{const Qt=document.createElement("script");Qt.src=rn,Qt.onload=function(sn){on&&Qt.remove(),Et(sn)},Qt.onerror=function(){Ft(new Error(`Cannot load script at: ${Qt.src}`))},(document.head||document.documentElement).append(Qt)})}function rt(rn){console.log("Deprecated API usage: "+rn)}let it;class dt{static toDateObject(on){if(!on||typeof on!="string")return null;it||(it=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const Et=it.exec(on);if(!Et)return null;const Ft=parseInt(Et[1],10);let Qt=parseInt(Et[2],10);Qt=Qt>=1&&Qt<=12?Qt-1:0;let sn=parseInt(Et[3],10);sn=sn>=1&&sn<=31?sn:1;let pn=parseInt(Et[4],10);pn=pn>=0&&pn<=23?pn:0;let An=parseInt(Et[5],10);An=An>=0&&An<=59?An:0;let vn=parseInt(Et[6],10);vn=vn>=0&&vn<=59?vn:0;const Kt=Et[7]||"Z";let Ln=parseInt(Et[8],10);Ln=Ln>=0&&Ln<=23?Ln:0;let Tn=parseInt(Et[9],10)||0;return Tn=Tn>=0&&Tn<=59?Tn:0,Kt==="-"?(pn+=Ln,An+=Tn):Kt==="+"&&(pn-=Ln,An-=Tn),new Date(Date.UTC(Ft,Qt,sn,pn,An,vn))}}i.PDFDateString=dt;function At(rn,{scale:on=1,rotation:Et=0}){const{width:Ft,height:Qt}=rn.attributes.style,sn=[0,0,parseInt(Ft),parseInt(Qt)];return new ot({viewBox:sn,scale:on,rotation:Et})}function ht(rn){if(rn.startsWith("#")){const on=parseInt(rn.slice(1),16);return[(on&16711680)>>16,(on&65280)>>8,on&255]}return rn.startsWith("rgb(")?rn.slice(4,-1).split(",").map(on=>parseInt(on)):rn.startsWith("rgba(")?rn.slice(5,-1).split(",").map(on=>parseInt(on)).slice(0,3):((0,c.warn)(`Not a valid color format: "${rn}"`),[0,0,0])}function St(rn){const on=document.createElement("span");on.style.visibility="hidden",document.body.append(on);for(const Et of rn.keys()){on.style.color=Et;const Ft=window.getComputedStyle(on).color;rn.set(Et,ht(Ft))}on.remove()}function Rt(rn){const{a:on,b:Et,c:Ft,d:Qt,e:sn,f:pn}=rn.getTransform();return[on,Et,Ft,Qt,sn,pn]}function Jt(rn){const{a:on,b:Et,c:Ft,d:Qt,e:sn,f:pn}=rn.getTransform().invertSelf();return[on,Et,Ft,Qt,sn,pn]}function Ut(rn,on,Et=!1,Ft=!0){if(on instanceof ot){const{pageWidth:Qt,pageHeight:sn}=on.rawDims,{style:pn}=rn,An=c.FeatureTest.isCSSRoundSupported,vn=`var(--scale-factor) * ${Qt}px`,Kt=`var(--scale-factor) * ${sn}px`,Ln=An?`round(${vn}, 1px)`:`calc(${vn})`,Tn=An?`round(${Kt}, 1px)`:`calc(${Kt})`;!Et||on.rotation%180===0?(pn.width=Ln,pn.height=Tn):(pn.width=Tn,pn.height=Ln)}Ft&&rn.setAttribute("data-main-rotation",on.rotation)}},(e,i,a)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.BaseStandardFontDataFactory=i.BaseSVGFactory=i.BaseFilterFactory=i.BaseCanvasFactory=i.BaseCMapReaderFactory=void 0;var o=a(1);class c{constructor(){this.constructor===c&&(0,o.unreachable)("Cannot initialize BaseFilterFactory.")}addFilter(_){return"none"}addHCMFilter(_,ct){return"none"}addHighlightHCMFilter(_,ct,ut,ot){return"none"}destroy(_=!1){}}i.BaseFilterFactory=c;class s{constructor(){this.constructor===s&&(0,o.unreachable)("Cannot initialize BaseCanvasFactory.")}create(_,ct){if(_<=0||ct<=0)throw new Error("Invalid canvas size");const ut=this._createCanvas(_,ct);return{canvas:ut,context:ut.getContext("2d")}}reset(_,ct,ut){if(!_.canvas)throw new Error("Canvas is not specified");if(ct<=0||ut<=0)throw new Error("Invalid canvas size");_.canvas.width=ct,_.canvas.height=ut}destroy(_){if(!_.canvas)throw new Error("Canvas is not specified");_.canvas.width=0,_.canvas.height=0,_.canvas=null,_.context=null}_createCanvas(_,ct){(0,o.unreachable)("Abstract method `_createCanvas` called.")}}i.BaseCanvasFactory=s;class d{constructor({baseUrl:_=null,isCompressed:ct=!0}){this.constructor===d&&(0,o.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=_,this.isCompressed=ct}async fetch({name:_}){if(!this.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!_)throw new Error("CMap name must be specified.");const ct=this.baseUrl+_+(this.isCompressed?".bcmap":""),ut=this.isCompressed?o.CMapCompressionType.BINARY:o.CMapCompressionType.NONE;return this._fetchData(ct,ut).catch(ot=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${ct}`)})}_fetchData(_,ct){(0,o.unreachable)("Abstract method `_fetchData` called.")}}i.BaseCMapReaderFactory=d;class et{constructor({baseUrl:_=null}){this.constructor===et&&(0,o.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=_}async fetch({filename:_}){if(!this.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!_)throw new Error("Font filename must be specified.");const ct=`${this.baseUrl}${_}`;return this._fetchData(ct).catch(ut=>{throw new Error(`Unable to load font data at: ${ct}`)})}_fetchData(_){(0,o.unreachable)("Abstract method `_fetchData` called.")}}i.BaseStandardFontDataFactory=et;class h{constructor(){this.constructor===h&&(0,o.unreachable)("Cannot initialize BaseSVGFactory.")}create(_,ct,ut=!1){if(_<=0||ct<=0)throw new Error("Invalid SVG dimensions");const ot=this._createSVG("svg:svg");return ot.setAttribute("version","1.1"),ut||(ot.setAttribute("width",`${_}px`),ot.setAttribute("height",`${ct}px`)),ot.setAttribute("preserveAspectRatio","none"),ot.setAttribute("viewBox",`0 0 ${_} ${ct}`),ot}createElement(_){if(typeof _!="string")throw new Error("Invalid SVG element type");return this._createSVG(_)}_createSVG(_){(0,o.unreachable)("Abstract method `_createSVG` called.")}}i.BaseSVGFactory=h},(e,i,a)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.MurmurHash3_64=void 0;var o=a(1);const c=3285377520,s=4294901760,d=65535;class et{constructor(_e){this.h1=_e?_e&4294967295:c,this.h2=_e?_e&4294967295:c}update(_e){let _,ct;if(typeof _e=="string"){_=new Uint8Array(_e.length*2),ct=0;for(let rt=0,it=_e.length;rt<it;rt++){const dt=_e.charCodeAt(rt);dt<=255?_[ct++]=dt:(_[ct++]=dt>>>8,_[ct++]=dt&255)}}else if((0,o.isArrayBuffer)(_e))_=_e.slice(),ct=_.byteLength;else throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");const ut=ct>>2,ot=ct-ut*4,lt=new Uint32Array(_.buffer,0,ut);let gt=0,mt=0,j=this.h1,b=this.h2;const ft=3432918353,pt=461845907,nt=ft&d,$=pt&d;for(let rt=0;rt<ut;rt++)rt&1?(gt=lt[rt],gt=gt*ft&s|gt*nt&d,gt=gt<<15|gt>>>17,gt=gt*pt&s|gt*$&d,j^=gt,j=j<<13|j>>>19,j=j*5+3864292196):(mt=lt[rt],mt=mt*ft&s|mt*nt&d,mt=mt<<15|mt>>>17,mt=mt*pt&s|mt*$&d,b^=mt,b=b<<13|b>>>19,b=b*5+3864292196);switch(gt=0,ot){case 3:gt^=_[ut*4+2]<<16;case 2:gt^=_[ut*4+1]<<8;case 1:gt^=_[ut*4],gt=gt*ft&s|gt*nt&d,gt=gt<<15|gt>>>17,gt=gt*pt&s|gt*$&d,ut&1?j^=gt:b^=gt}this.h1=j,this.h2=b}hexdigest(){let _e=this.h1,_=this.h2;return _e^=_>>>1,_e=_e*3981806797&s|_e*36045&d,_=_*4283543511&s|((_<<16|_e>>>16)*2950163797&s)>>>16,_e^=_>>>1,_e=_e*444984403&s|_e*60499&d,_=_*3301882366&s|((_<<16|_e>>>16)*3120437893&s)>>>16,_e^=_>>>1,(_e>>>0).toString(16).padStart(8,"0")+(_>>>0).toString(16).padStart(8,"0")}}i.MurmurHash3_64=et},(e,i,a)=>{var d;Object.defineProperty(i,"__esModule",{value:!0}),i.FontLoader=i.FontFaceObject=void 0;var o=a(1);class c{constructor({ownerDocument:h=globalThis.document,styleElement:_e=null}){cn(this,d,new Set);this._document=h,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(h){this.nativeFontFaces.add(h),this._document.fonts.add(h)}removeNativeFontFace(h){this.nativeFontFaces.delete(h),this._document.fonts.delete(h)}insertRule(h){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const _e=this.styleElement.sheet;_e.insertRule(h,_e.cssRules.length)}clear(){for(const h of this.nativeFontFaces)this._document.fonts.delete(h);this.nativeFontFaces.clear(),g(this,d).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont(h){if(!(!h||g(this,d).has(h.loadedName))){if((0,o.assert)(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:_e,src:_,style:ct}=h,ut=new FontFace(_e,_,ct);this.addNativeFontFace(ut);try{await ut.load(),g(this,d).add(_e)}catch{(0,o.warn)(`Cannot load system font: ${h.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(ut)}return}(0,o.unreachable)("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(h){if(h.attached||h.missingFile&&!h.systemFontInfo)return;if(h.attached=!0,h.systemFontInfo){await this.loadSystemFont(h.systemFontInfo);return}if(this.isFontLoadingAPISupported){const _=h.createNativeFontFace();if(_){this.addNativeFontFace(_);try{await _.loaded}catch(ct){throw(0,o.warn)(`Failed to load font '${_.family}': '${ct}'.`),h.disableFontFace=!0,ct}}return}const _e=h.createFontFaceRule();if(_e){if(this.insertRule(_e),this.isSyncFontLoadingSupported)return;await new Promise(_=>{const ct=this._queueLoadingCallback(_);this._prepareFontLoadEvent(h,ct)})}}get isFontLoadingAPISupported(){var _e;const h=!!((_e=this._document)!=null&&_e.fonts);return(0,o.shadow)(this,"isFontLoadingAPISupported",h)}get isSyncFontLoadingSupported(){let h=!1;return(o.isNodeJS||typeof navigator<"u"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(h=!0),(0,o.shadow)(this,"isSyncFontLoadingSupported",h)}_queueLoadingCallback(h){function _e(){for((0,o.assert)(!ct.done,"completeRequest() cannot be called twice."),ct.done=!0;_.length>0&&_[0].done;){const ut=_.shift();setTimeout(ut.callback,0)}}const{loadingRequests:_}=this,ct={done:!1,complete:_e,callback:h};return _.push(ct),ct}get _loadTestFont(){const h=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return(0,o.shadow)(this,"_loadTestFont",h)}_prepareFontLoadEvent(h,_e){function _(ht,St){return ht.charCodeAt(St)<<24|ht.charCodeAt(St+1)<<16|ht.charCodeAt(St+2)<<8|ht.charCodeAt(St+3)&255}function ct(ht,St,Rt,Jt){const Ut=ht.substring(0,St),Yt=ht.substring(St+Rt);return Ut+Jt+Yt}let ut,ot;const lt=this._document.createElement("canvas");lt.width=1,lt.height=1;const gt=lt.getContext("2d");let mt=0;function j(ht,St){if(++mt>30){(0,o.warn)("Load test font never loaded."),St();return}if(gt.font="30px "+ht,gt.fillText(".",0,20),gt.getImageData(0,0,1,1).data[3]>0){St();return}setTimeout(j.bind(null,ht,St))}const b=`lt${Date.now()}${this.loadTestFontId++}`;let ft=this._loadTestFont;ft=ct(ft,976,b.length,b);const nt=16,$=1482184792;let rt=_(ft,nt);for(ut=0,ot=b.length-3;ut<ot;ut+=4)rt=rt-$+_(b,ut)|0;ut<b.length&&(rt=rt-$+_(b+"XXX",ut)|0),ft=ct(ft,nt,4,(0,o.string32)(rt));const it=`url(data:font/opentype;base64,${btoa(ft)});`,dt=`@font-face {font-family:"${b}";src:${it}}`;this.insertRule(dt);const At=this._document.createElement("div");At.style.visibility="hidden",At.style.width=At.style.height="10px",At.style.position="absolute",At.style.top=At.style.left="0px";for(const ht of[h.loadedName,b]){const St=this._document.createElement("span");St.textContent="Hi",St.style.fontFamily=ht,At.append(St)}this._document.body.append(At),j(b,()=>{At.remove(),_e.complete()})}}d=new WeakMap,i.FontLoader=c;class s{constructor(h,{isEvalSupported:_e=!0,disableFontFace:_=!1,ignoreErrors:ct=!1,inspectFont:ut=null}){this.compiledGlyphs=Object.create(null);for(const ot in h)this[ot]=h[ot];this.isEvalSupported=_e!==!1,this.disableFontFace=_===!0,this.ignoreErrors=ct===!0,this._inspectFont=ut}createNativeFontFace(){var _e;if(!this.data||this.disableFontFace)return null;let h;if(!this.cssFontInfo)h=new FontFace(this.loadedName,this.data,{});else{const _={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(_.style=`oblique ${this.cssFontInfo.italicAngle}deg`),h=new FontFace(this.cssFontInfo.fontFamily,this.data,_)}return(_e=this._inspectFont)==null||_e.call(this,this),h}createFontFaceRule(){var ct;if(!this.data||this.disableFontFace)return null;const h=(0,o.bytesToString)(this.data),_e=`url(data:${this.mimetype};base64,${btoa(h)});`;let _;if(!this.cssFontInfo)_=`@font-face {font-family:"${this.loadedName}";src:${_e}}`;else{let ut=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(ut+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),_=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${ut}src:${_e}}`}return(ct=this._inspectFont)==null||ct.call(this,this,_e),_}getPathGenerator(h,_e){if(this.compiledGlyphs[_e]!==void 0)return this.compiledGlyphs[_e];let _;try{_=h.get(this.loadedName+"_path_"+_e)}catch(ct){if(!this.ignoreErrors)throw ct;return(0,o.warn)(`getPathGenerator - ignoring character: "${ct}".`),this.compiledGlyphs[_e]=function(ut,ot){}}if(this.isEvalSupported&&o.FeatureTest.isEvalSupported){const ct=[];for(const ut of _){const ot=ut.args!==void 0?ut.args.join(","):"";ct.push("c.",ut.cmd,"(",ot,`);
`)}return this.compiledGlyphs[_e]=new Function("c","size",ct.join(""))}return this.compiledGlyphs[_e]=function(ct,ut){for(const ot of _)ot.cmd==="scale"&&(ot.args=[ut,-ut]),ct[ot.cmd].apply(ct,ot.args)}}}i.FontFaceObject=s},(e,i,a)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.NodeStandardFontDataFactory=i.NodeFilterFactory=i.NodeCanvasFactory=i.NodeCMapReaderFactory=void 0;var o=a(7);a(1);const c=function(_e){return new Promise((_,ct)=>{require$$5.readFile(_e,(ot,lt)=>{if(ot||!lt){ct(new Error(ot));return}_(new Uint8Array(lt))})})};class s extends o.BaseFilterFactory{}i.NodeFilterFactory=s;class d extends o.BaseCanvasFactory{_createCanvas(_,ct){return require$$5.createCanvas(_,ct)}}i.NodeCanvasFactory=d;class et extends o.BaseCMapReaderFactory{_fetchData(_,ct){return c(_).then(ut=>({cMapData:ut,compressionType:ct}))}}i.NodeCMapReaderFactory=et;class h extends o.BaseStandardFontDataFactory{_fetchData(_){return c(_)}}i.NodeStandardFontDataFactory=h},(e,i,a)=>{var Bt,Is,Os;Object.defineProperty(i,"__esModule",{value:!0}),i.CanvasGraphics=void 0;var o=a(1),c=a(6),s=a(12),d=a(13);const et=16,h=100,_e=4096,_=15,ct=10,ut=1e3,ot=16;function lt(bt,at){if(bt._removeMirroring)throw new Error("Context is already forwarding operations.");bt.__originalSave=bt.save,bt.__originalRestore=bt.restore,bt.__originalRotate=bt.rotate,bt.__originalScale=bt.scale,bt.__originalTranslate=bt.translate,bt.__originalTransform=bt.transform,bt.__originalSetTransform=bt.setTransform,bt.__originalResetTransform=bt.resetTransform,bt.__originalClip=bt.clip,bt.__originalMoveTo=bt.moveTo,bt.__originalLineTo=bt.lineTo,bt.__originalBezierCurveTo=bt.bezierCurveTo,bt.__originalRect=bt.rect,bt.__originalClosePath=bt.closePath,bt.__originalBeginPath=bt.beginPath,bt._removeMirroring=()=>{bt.save=bt.__originalSave,bt.restore=bt.__originalRestore,bt.rotate=bt.__originalRotate,bt.scale=bt.__originalScale,bt.translate=bt.__originalTranslate,bt.transform=bt.__originalTransform,bt.setTransform=bt.__originalSetTransform,bt.resetTransform=bt.__originalResetTransform,bt.clip=bt.__originalClip,bt.moveTo=bt.__originalMoveTo,bt.lineTo=bt.__originalLineTo,bt.bezierCurveTo=bt.__originalBezierCurveTo,bt.rect=bt.__originalRect,bt.closePath=bt.__originalClosePath,bt.beginPath=bt.__originalBeginPath,delete bt._removeMirroring},bt.save=function(){at.save(),this.__originalSave()},bt.restore=function(){at.restore(),this.__originalRestore()},bt.translate=function(yt,Pt){at.translate(yt,Pt),this.__originalTranslate(yt,Pt)},bt.scale=function(yt,Pt){at.scale(yt,Pt),this.__originalScale(yt,Pt)},bt.transform=function(yt,Pt,Tt,Mt,Gt,un){at.transform(yt,Pt,Tt,Mt,Gt,un),this.__originalTransform(yt,Pt,Tt,Mt,Gt,un)},bt.setTransform=function(yt,Pt,Tt,Mt,Gt,un){at.setTransform(yt,Pt,Tt,Mt,Gt,un),this.__originalSetTransform(yt,Pt,Tt,Mt,Gt,un)},bt.resetTransform=function(){at.resetTransform(),this.__originalResetTransform()},bt.rotate=function(yt){at.rotate(yt),this.__originalRotate(yt)},bt.clip=function(yt){at.clip(yt),this.__originalClip(yt)},bt.moveTo=function(st,yt){at.moveTo(st,yt),this.__originalMoveTo(st,yt)},bt.lineTo=function(st,yt){at.lineTo(st,yt),this.__originalLineTo(st,yt)},bt.bezierCurveTo=function(st,yt,Pt,Tt,Mt,Gt){at.bezierCurveTo(st,yt,Pt,Tt,Mt,Gt),this.__originalBezierCurveTo(st,yt,Pt,Tt,Mt,Gt)},bt.rect=function(st,yt,Pt,Tt){at.rect(st,yt,Pt,Tt),this.__originalRect(st,yt,Pt,Tt)},bt.closePath=function(){at.closePath(),this.__originalClosePath()},bt.beginPath=function(){at.beginPath(),this.__originalBeginPath()}}class gt{constructor(at){this.canvasFactory=at,this.cache=Object.create(null)}getCanvas(at,st,yt){let Pt;return this.cache[at]!==void 0?(Pt=this.cache[at],this.canvasFactory.reset(Pt,st,yt)):(Pt=this.canvasFactory.create(st,yt),this.cache[at]=Pt),Pt}delete(at){delete this.cache[at]}clear(){for(const at in this.cache){const st=this.cache[at];this.canvasFactory.destroy(st),delete this.cache[at]}}}function mt(bt,at,st,yt,Pt,Tt,Mt,Gt,un,hn){const[fn,mn,Cn,bn,rn,on]=(0,c.getCurrentTransform)(bt);if(mn===0&&Cn===0){const Qt=Mt*fn+rn,sn=Math.round(Qt),pn=Gt*bn+on,An=Math.round(pn),vn=(Mt+un)*fn+rn,Kt=Math.abs(Math.round(vn)-sn)||1,Ln=(Gt+hn)*bn+on,Tn=Math.abs(Math.round(Ln)-An)||1;return bt.setTransform(Math.sign(fn),0,0,Math.sign(bn),sn,An),bt.drawImage(at,st,yt,Pt,Tt,0,0,Kt,Tn),bt.setTransform(fn,mn,Cn,bn,rn,on),[Kt,Tn]}if(fn===0&&bn===0){const Qt=Gt*Cn+rn,sn=Math.round(Qt),pn=Mt*mn+on,An=Math.round(pn),vn=(Gt+hn)*Cn+rn,Kt=Math.abs(Math.round(vn)-sn)||1,Ln=(Mt+un)*mn+on,Tn=Math.abs(Math.round(Ln)-An)||1;return bt.setTransform(0,Math.sign(mn),Math.sign(Cn),0,sn,An),bt.drawImage(at,st,yt,Pt,Tt,0,0,Tn,Kt),bt.setTransform(fn,mn,Cn,bn,rn,on),[Tn,Kt]}bt.drawImage(at,st,yt,Pt,Tt,Mt,Gt,un,hn);const Et=Math.hypot(fn,mn),Ft=Math.hypot(Cn,bn);return[Et*un,Ft*hn]}function j(bt){const{width:at,height:st}=bt;if(at>ut||st>ut)return null;const yt=1e3,Pt=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),Tt=at+1;let Mt=new Uint8Array(Tt*(st+1)),Gt,un,hn;const fn=at+7&-8;let mn=new Uint8Array(fn*st),Cn=0;for(const Ft of bt.data){let Qt=128;for(;Qt>0;)mn[Cn++]=Ft&Qt?0:255,Qt>>=1}let bn=0;for(Cn=0,mn[Cn]!==0&&(Mt[0]=1,++bn),un=1;un<at;un++)mn[Cn]!==mn[Cn+1]&&(Mt[un]=mn[Cn]?2:1,++bn),Cn++;for(mn[Cn]!==0&&(Mt[un]=2,++bn),Gt=1;Gt<st;Gt++){Cn=Gt*fn,hn=Gt*Tt,mn[Cn-fn]!==mn[Cn]&&(Mt[hn]=mn[Cn]?1:8,++bn);let Ft=(mn[Cn]?4:0)+(mn[Cn-fn]?8:0);for(un=1;un<at;un++)Ft=(Ft>>2)+(mn[Cn+1]?4:0)+(mn[Cn-fn+1]?8:0),Pt[Ft]&&(Mt[hn+un]=Pt[Ft],++bn),Cn++;if(mn[Cn-fn]!==mn[Cn]&&(Mt[hn+un]=mn[Cn]?2:4,++bn),bn>yt)return null}for(Cn=fn*(st-1),hn=Gt*Tt,mn[Cn]!==0&&(Mt[hn]=8,++bn),un=1;un<at;un++)mn[Cn]!==mn[Cn+1]&&(Mt[hn+un]=mn[Cn]?4:8,++bn),Cn++;if(mn[Cn]!==0&&(Mt[hn+un]=4,++bn),bn>yt)return null;const rn=new Int32Array([0,Tt,-1,0,-Tt,0,0,0,1]),on=new Path2D;for(Gt=0;bn&&Gt<=st;Gt++){let Ft=Gt*Tt;const Qt=Ft+at;for(;Ft<Qt&&!Mt[Ft];)Ft++;if(Ft===Qt)continue;on.moveTo(Ft%Tt,Gt);const sn=Ft;let pn=Mt[Ft];do{const An=rn[pn];do Ft+=An;while(!Mt[Ft]);const vn=Mt[Ft];vn!==5&&vn!==10?(pn=vn,Mt[Ft]=0):(pn=vn&51*pn>>4,Mt[Ft]&=pn>>2|pn<<2),on.lineTo(Ft%Tt,Ft/Tt|0),Mt[Ft]||--bn}while(sn!==Ft);--Gt}return mn=null,Mt=null,function(Ft){Ft.save(),Ft.scale(1/at,-1/st),Ft.translate(0,-st),Ft.fill(on),Ft.beginPath(),Ft.restore()}}class b{constructor(at,st){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=o.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=o.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=o.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,at,st])}clone(){const at=Object.create(this);return at.clipBox=this.clipBox.slice(),at}setCurrentPoint(at,st){this.x=at,this.y=st}updatePathMinMax(at,st,yt){[st,yt]=o.Util.applyTransform([st,yt],at),this.minX=Math.min(this.minX,st),this.minY=Math.min(this.minY,yt),this.maxX=Math.max(this.maxX,st),this.maxY=Math.max(this.maxY,yt)}updateRectMinMax(at,st){const yt=o.Util.applyTransform(st,at),Pt=o.Util.applyTransform(st.slice(2),at);this.minX=Math.min(this.minX,yt[0],Pt[0]),this.minY=Math.min(this.minY,yt[1],Pt[1]),this.maxX=Math.max(this.maxX,yt[0],Pt[0]),this.maxY=Math.max(this.maxY,yt[1],Pt[1])}updateScalingPathMinMax(at,st){o.Util.scaleMinMax(at,st),this.minX=Math.min(this.minX,st[0]),this.maxX=Math.max(this.maxX,st[1]),this.minY=Math.min(this.minY,st[2]),this.maxY=Math.max(this.maxY,st[3])}updateCurvePathMinMax(at,st,yt,Pt,Tt,Mt,Gt,un,hn,fn){const mn=o.Util.bezierBoundingBox(st,yt,Pt,Tt,Mt,Gt,un,hn);if(fn){fn[0]=Math.min(fn[0],mn[0],mn[2]),fn[1]=Math.max(fn[1],mn[0],mn[2]),fn[2]=Math.min(fn[2],mn[1],mn[3]),fn[3]=Math.max(fn[3],mn[1],mn[3]);return}this.updateRectMinMax(at,mn)}getPathBoundingBox(at=s.PathType.FILL,st=null){const yt=[this.minX,this.minY,this.maxX,this.maxY];if(at===s.PathType.STROKE){st||(0,o.unreachable)("Stroke bounding box must include transform.");const Pt=o.Util.singularValueDecompose2dScale(st),Tt=Pt[0]*this.lineWidth/2,Mt=Pt[1]*this.lineWidth/2;yt[0]-=Tt,yt[1]-=Mt,yt[2]+=Tt,yt[3]+=Mt}return yt}updateClipFromPath(){const at=o.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(at||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(at){this.clipBox=at,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(at=s.PathType.FILL,st=null){return o.Util.intersect(this.clipBox,this.getPathBoundingBox(at,st))}}function ft(bt,at){if(typeof ImageData<"u"&&at instanceof ImageData){bt.putImageData(at,0,0);return}const st=at.height,yt=at.width,Pt=st%ot,Tt=(st-Pt)/ot,Mt=Pt===0?Tt:Tt+1,Gt=bt.createImageData(yt,ot);let un=0,hn;const fn=at.data,mn=Gt.data;let Cn,bn,rn,on;if(at.kind===o.ImageKind.GRAYSCALE_1BPP){const Et=fn.byteLength,Ft=new Uint32Array(mn.buffer,0,mn.byteLength>>2),Qt=Ft.length,sn=yt+7>>3,pn=4294967295,An=o.FeatureTest.isLittleEndian?4278190080:255;for(Cn=0;Cn<Mt;Cn++){for(rn=Cn<Tt?ot:Pt,hn=0,bn=0;bn<rn;bn++){const vn=Et-un;let Kt=0;const Ln=vn>sn?yt:vn*8-7,Tn=Ln&-8;let Jn=0,er=0;for(;Kt<Tn;Kt+=8)er=fn[un++],Ft[hn++]=er&128?pn:An,Ft[hn++]=er&64?pn:An,Ft[hn++]=er&32?pn:An,Ft[hn++]=er&16?pn:An,Ft[hn++]=er&8?pn:An,Ft[hn++]=er&4?pn:An,Ft[hn++]=er&2?pn:An,Ft[hn++]=er&1?pn:An;for(;Kt<Ln;Kt++)Jn===0&&(er=fn[un++],Jn=128),Ft[hn++]=er&Jn?pn:An,Jn>>=1}for(;hn<Qt;)Ft[hn++]=0;bt.putImageData(Gt,0,Cn*ot)}}else if(at.kind===o.ImageKind.RGBA_32BPP){for(bn=0,on=yt*ot*4,Cn=0;Cn<Tt;Cn++)mn.set(fn.subarray(un,un+on)),un+=on,bt.putImageData(Gt,0,bn),bn+=ot;Cn<Mt&&(on=yt*Pt*4,mn.set(fn.subarray(un,un+on)),bt.putImageData(Gt,0,bn))}else if(at.kind===o.ImageKind.RGB_24BPP)for(rn=ot,on=yt*rn,Cn=0;Cn<Mt;Cn++){for(Cn>=Tt&&(rn=Pt,on=yt*rn),hn=0,bn=on;bn--;)mn[hn++]=fn[un++],mn[hn++]=fn[un++],mn[hn++]=fn[un++],mn[hn++]=255;bt.putImageData(Gt,0,Cn*ot)}else throw new Error(`bad image kind: ${at.kind}`)}function pt(bt,at){if(at.bitmap){bt.drawImage(at.bitmap,0,0);return}const st=at.height,yt=at.width,Pt=st%ot,Tt=(st-Pt)/ot,Mt=Pt===0?Tt:Tt+1,Gt=bt.createImageData(yt,ot);let un=0;const hn=at.data,fn=Gt.data;for(let mn=0;mn<Mt;mn++){const Cn=mn<Tt?ot:Pt;({srcPos:un}=(0,d.convertBlackAndWhiteToRGBA)({src:hn,srcPos:un,dest:fn,width:yt,height:Cn,nonBlackColor:0})),bt.putImageData(Gt,0,mn*ot)}}function nt(bt,at){const st=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const yt of st)bt[yt]!==void 0&&(at[yt]=bt[yt]);bt.setLineDash!==void 0&&(at.setLineDash(bt.getLineDash()),at.lineDashOffset=bt.lineDashOffset)}function $(bt){if(bt.strokeStyle=bt.fillStyle="#000000",bt.fillRule="nonzero",bt.globalAlpha=1,bt.lineWidth=1,bt.lineCap="butt",bt.lineJoin="miter",bt.miterLimit=10,bt.globalCompositeOperation="source-over",bt.font="10px sans-serif",bt.setLineDash!==void 0&&(bt.setLineDash([]),bt.lineDashOffset=0),!o.isNodeJS){const{filter:at}=bt;at!=="none"&&at!==""&&(bt.filter="none")}}function rt(bt,at,st,yt){const Pt=bt.length;for(let Tt=3;Tt<Pt;Tt+=4){const Mt=bt[Tt];if(Mt===0)bt[Tt-3]=at,bt[Tt-2]=st,bt[Tt-1]=yt;else if(Mt<255){const Gt=255-Mt;bt[Tt-3]=bt[Tt-3]*Mt+at*Gt>>8,bt[Tt-2]=bt[Tt-2]*Mt+st*Gt>>8,bt[Tt-1]=bt[Tt-1]*Mt+yt*Gt>>8}}}function it(bt,at,st){const yt=bt.length,Pt=1/255;for(let Tt=3;Tt<yt;Tt+=4){const Mt=st?st[bt[Tt]]:bt[Tt];at[Tt]=at[Tt]*Mt*Pt|0}}function dt(bt,at,st){const yt=bt.length;for(let Pt=3;Pt<yt;Pt+=4){const Tt=bt[Pt-3]*77+bt[Pt-2]*152+bt[Pt-1]*28;at[Pt]=st?at[Pt]*st[Tt>>8]>>8:at[Pt]*Tt>>16}}function At(bt,at,st,yt,Pt,Tt,Mt,Gt,un,hn,fn){const mn=!!Tt,Cn=mn?Tt[0]:0,bn=mn?Tt[1]:0,rn=mn?Tt[2]:0,on=Pt==="Luminosity"?dt:it,Ft=Math.min(yt,Math.ceil(1048576/st));for(let Qt=0;Qt<yt;Qt+=Ft){const sn=Math.min(Ft,yt-Qt),pn=bt.getImageData(Gt-hn,Qt+(un-fn),st,sn),An=at.getImageData(Gt,Qt+un,st,sn);mn&&rt(pn.data,Cn,bn,rn),on(pn.data,An.data,Mt),at.putImageData(An,Gt,Qt+un)}}function ht(bt,at,st,yt){const Pt=yt[0],Tt=yt[1],Mt=yt[2]-Pt,Gt=yt[3]-Tt;Mt===0||Gt===0||(At(at.context,st,Mt,Gt,at.subtype,at.backdrop,at.transferMap,Pt,Tt,at.offsetX,at.offsetY),bt.save(),bt.globalAlpha=1,bt.globalCompositeOperation="source-over",bt.setTransform(1,0,0,1,0,0),bt.drawImage(st.canvas,0,0),bt.restore())}function St(bt,at){const st=o.Util.singularValueDecompose2dScale(bt);st[0]=Math.fround(st[0]),st[1]=Math.fround(st[1]);const yt=Math.fround((globalThis.devicePixelRatio||1)*c.PixelsPerInch.PDF_TO_CSS_UNITS);return at!==void 0?at:st[0]<=yt||st[1]<=yt}const Rt=["butt","round","square"],Jt=["miter","round","bevel"],Ut={},Yt={},$t=class $t{constructor(at,st,yt,Pt,Tt,{optionalContentConfig:Mt,markedContentStack:Gt=null},un,hn){cn(this,Bt);this.ctx=at,this.current=new b(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=st,this.objs=yt,this.canvasFactory=Pt,this.filterFactory=Tt,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=Gt||[],this.optionalContentConfig=Mt,this.cachedCanvases=new gt(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=un,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=hn,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(at,st=null){return typeof at=="string"?at.startsWith("g_")?this.commonObjs.get(at):this.objs.get(at):st}beginDrawing({transform:at,viewport:st,transparency:yt=!1,background:Pt=null}){const Tt=this.ctx.canvas.width,Mt=this.ctx.canvas.height,Gt=this.ctx.fillStyle;if(this.ctx.fillStyle=Pt||"#ffffff",this.ctx.fillRect(0,0,Tt,Mt),this.ctx.fillStyle=Gt,yt){const un=this.cachedCanvases.getCanvas("transparent",Tt,Mt);this.compositeCtx=this.ctx,this.transparentCanvas=un.canvas,this.ctx=un.context,this.ctx.save(),this.ctx.transform(...(0,c.getCurrentTransform)(this.compositeCtx))}this.ctx.save(),$(this.ctx),at&&(this.ctx.transform(...at),this.outputScaleX=at[0],this.outputScaleY=at[0]),this.ctx.transform(...st.transform),this.viewportScale=st.scale,this.baseTransform=(0,c.getCurrentTransform)(this.ctx)}executeOperatorList(at,st,yt,Pt){const Tt=at.argsArray,Mt=at.fnArray;let Gt=st||0;const un=Tt.length;if(un===Gt)return Gt;const hn=un-Gt>ct&&typeof yt=="function",fn=hn?Date.now()+_:0;let mn=0;const Cn=this.commonObjs,bn=this.objs;let rn;for(;;){if(Pt!==void 0&&Gt===Pt.nextBreakPoint)return Pt.breakIt(Gt,yt),Gt;if(rn=Mt[Gt],rn!==o.OPS.dependency)this[rn].apply(this,Tt[Gt]);else for(const on of Tt[Gt]){const Et=on.startsWith("g_")?Cn:bn;if(!Et.has(on))return Et.get(on,yt),Gt}if(Gt++,Gt===un)return Gt;if(hn&&++mn>ct){if(Date.now()>fn)return yt(),Gt;mn=0}}}endDrawing(){qt(this,Bt,Is).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const at of this._cachedBitmapsMap.values()){for(const st of at.values())typeof HTMLCanvasElement<"u"&&st instanceof HTMLCanvasElement&&(st.width=st.height=0);at.clear()}this._cachedBitmapsMap.clear(),qt(this,Bt,Os).call(this)}_scaleImage(at,st){const yt=at.width,Pt=at.height;let Tt=Math.max(Math.hypot(st[0],st[1]),1),Mt=Math.max(Math.hypot(st[2],st[3]),1),Gt=yt,un=Pt,hn="prescale1",fn,mn;for(;Tt>2&&Gt>1||Mt>2&&un>1;){let Cn=Gt,bn=un;Tt>2&&Gt>1&&(Cn=Gt>=16384?Math.floor(Gt/2)-1||1:Math.ceil(Gt/2),Tt/=Gt/Cn),Mt>2&&un>1&&(bn=un>=16384?Math.floor(un/2)-1||1:Math.ceil(un)/2,Mt/=un/bn),fn=this.cachedCanvases.getCanvas(hn,Cn,bn),mn=fn.context,mn.clearRect(0,0,Cn,bn),mn.drawImage(at,0,0,Gt,un,0,0,Cn,bn),at=fn.canvas,Gt=Cn,un=bn,hn=hn==="prescale1"?"prescale2":"prescale1"}return{img:at,paintWidth:Gt,paintHeight:un}}_createMaskCanvas(at){const st=this.ctx,{width:yt,height:Pt}=at,Tt=this.current.fillColor,Mt=this.current.patternFill,Gt=(0,c.getCurrentTransform)(st);let un,hn,fn,mn;if((at.bitmap||at.data)&&at.count>1){const Kt=at.bitmap||at.data.buffer;hn=JSON.stringify(Mt?Gt:[Gt.slice(0,4),Tt]),un=this._cachedBitmapsMap.get(Kt),un||(un=new Map,this._cachedBitmapsMap.set(Kt,un));const Ln=un.get(hn);if(Ln&&!Mt){const Tn=Math.round(Math.min(Gt[0],Gt[2])+Gt[4]),Jn=Math.round(Math.min(Gt[1],Gt[3])+Gt[5]);return{canvas:Ln,offsetX:Tn,offsetY:Jn}}fn=Ln}fn||(mn=this.cachedCanvases.getCanvas("maskCanvas",yt,Pt),pt(mn.context,at));let Cn=o.Util.transform(Gt,[1/yt,0,0,-1/Pt,0,0]);Cn=o.Util.transform(Cn,[1,0,0,1,0,-Pt]);const bn=o.Util.applyTransform([0,0],Cn),rn=o.Util.applyTransform([yt,Pt],Cn),on=o.Util.normalizeRect([bn[0],bn[1],rn[0],rn[1]]),Et=Math.round(on[2]-on[0])||1,Ft=Math.round(on[3]-on[1])||1,Qt=this.cachedCanvases.getCanvas("fillCanvas",Et,Ft),sn=Qt.context,pn=Math.min(bn[0],rn[0]),An=Math.min(bn[1],rn[1]);sn.translate(-pn,-An),sn.transform(...Cn),fn||(fn=this._scaleImage(mn.canvas,(0,c.getCurrentTransformInverse)(sn)),fn=fn.img,un&&Mt&&un.set(hn,fn)),sn.imageSmoothingEnabled=St((0,c.getCurrentTransform)(sn),at.interpolate),mt(sn,fn,0,0,fn.width,fn.height,0,0,yt,Pt),sn.globalCompositeOperation="source-in";const vn=o.Util.transform((0,c.getCurrentTransformInverse)(sn),[1,0,0,1,-pn,-An]);return sn.fillStyle=Mt?Tt.getPattern(st,this,vn,s.PathType.FILL):Tt,sn.fillRect(0,0,yt,Pt),un&&!Mt&&(this.cachedCanvases.delete("fillCanvas"),un.set(hn,Qt.canvas)),{canvas:Qt.canvas,offsetX:Math.round(pn),offsetY:Math.round(An)}}setLineWidth(at){at!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=at,this.ctx.lineWidth=at}setLineCap(at){this.ctx.lineCap=Rt[at]}setLineJoin(at){this.ctx.lineJoin=Jt[at]}setMiterLimit(at){this.ctx.miterLimit=at}setDash(at,st){const yt=this.ctx;yt.setLineDash!==void 0&&(yt.setLineDash(at),yt.lineDashOffset=st)}setRenderingIntent(at){}setFlatness(at){}setGState(at){for(const[st,yt]of at)switch(st){case"LW":this.setLineWidth(yt);break;case"LC":this.setLineCap(yt);break;case"LJ":this.setLineJoin(yt);break;case"ML":this.setMiterLimit(yt);break;case"D":this.setDash(yt[0],yt[1]);break;case"RI":this.setRenderingIntent(yt);break;case"FL":this.setFlatness(yt);break;case"Font":this.setFont(yt[0],yt[1]);break;case"CA":this.current.strokeAlpha=yt;break;case"ca":this.current.fillAlpha=yt,this.ctx.globalAlpha=yt;break;case"BM":this.ctx.globalCompositeOperation=yt;break;case"SMask":this.current.activeSMask=yt?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(yt);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const at=this.inSMaskMode;this.current.activeSMask&&!at?this.beginSMaskMode():!this.current.activeSMask&&at&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const at=this.ctx.canvas.width,st=this.ctx.canvas.height,yt="smaskGroupAt"+this.groupLevel,Pt=this.cachedCanvases.getCanvas(yt,at,st);this.suspendedCtx=this.ctx,this.ctx=Pt.context;const Tt=this.ctx;Tt.setTransform(...(0,c.getCurrentTransform)(this.suspendedCtx)),nt(this.suspendedCtx,Tt),lt(Tt,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),nt(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(at){if(!this.current.activeSMask)return;at?(at[0]=Math.floor(at[0]),at[1]=Math.floor(at[1]),at[2]=Math.ceil(at[2]),at[3]=Math.ceil(at[3])):at=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const st=this.current.activeSMask,yt=this.suspendedCtx;ht(yt,st,this.ctx,at),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}save(){this.inSMaskMode?(nt(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const at=this.current;this.stateStack.push(at),this.current=at.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),nt(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(at,st,yt,Pt,Tt,Mt){this.ctx.transform(at,st,yt,Pt,Tt,Mt),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(at,st,yt){const Pt=this.ctx,Tt=this.current;let Mt=Tt.x,Gt=Tt.y,un,hn;const fn=(0,c.getCurrentTransform)(Pt),mn=fn[0]===0&&fn[3]===0||fn[1]===0&&fn[2]===0,Cn=mn?yt.slice(0):null;for(let bn=0,rn=0,on=at.length;bn<on;bn++)switch(at[bn]|0){case o.OPS.rectangle:Mt=st[rn++],Gt=st[rn++];const Et=st[rn++],Ft=st[rn++],Qt=Mt+Et,sn=Gt+Ft;Pt.moveTo(Mt,Gt),Et===0||Ft===0?Pt.lineTo(Qt,sn):(Pt.lineTo(Qt,Gt),Pt.lineTo(Qt,sn),Pt.lineTo(Mt,sn)),mn||Tt.updateRectMinMax(fn,[Mt,Gt,Qt,sn]),Pt.closePath();break;case o.OPS.moveTo:Mt=st[rn++],Gt=st[rn++],Pt.moveTo(Mt,Gt),mn||Tt.updatePathMinMax(fn,Mt,Gt);break;case o.OPS.lineTo:Mt=st[rn++],Gt=st[rn++],Pt.lineTo(Mt,Gt),mn||Tt.updatePathMinMax(fn,Mt,Gt);break;case o.OPS.curveTo:un=Mt,hn=Gt,Mt=st[rn+4],Gt=st[rn+5],Pt.bezierCurveTo(st[rn],st[rn+1],st[rn+2],st[rn+3],Mt,Gt),Tt.updateCurvePathMinMax(fn,un,hn,st[rn],st[rn+1],st[rn+2],st[rn+3],Mt,Gt,Cn),rn+=6;break;case o.OPS.curveTo2:un=Mt,hn=Gt,Pt.bezierCurveTo(Mt,Gt,st[rn],st[rn+1],st[rn+2],st[rn+3]),Tt.updateCurvePathMinMax(fn,un,hn,Mt,Gt,st[rn],st[rn+1],st[rn+2],st[rn+3],Cn),Mt=st[rn+2],Gt=st[rn+3],rn+=4;break;case o.OPS.curveTo3:un=Mt,hn=Gt,Mt=st[rn+2],Gt=st[rn+3],Pt.bezierCurveTo(st[rn],st[rn+1],Mt,Gt,Mt,Gt),Tt.updateCurvePathMinMax(fn,un,hn,st[rn],st[rn+1],Mt,Gt,Mt,Gt,Cn),rn+=4;break;case o.OPS.closePath:Pt.closePath();break}mn&&Tt.updateScalingPathMinMax(fn,Cn),Tt.setCurrentPoint(Mt,Gt)}closePath(){this.ctx.closePath()}stroke(at=!0){const st=this.ctx,yt=this.current.strokeColor;st.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof yt=="object"&&(yt!=null&&yt.getPattern)?(st.save(),st.strokeStyle=yt.getPattern(st,this,(0,c.getCurrentTransformInverse)(st),s.PathType.STROKE),this.rescaleAndStroke(!1),st.restore()):this.rescaleAndStroke(!0)),at&&this.consumePath(this.current.getClippedPathBoundingBox()),st.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(at=!0){const st=this.ctx,yt=this.current.fillColor,Pt=this.current.patternFill;let Tt=!1;Pt&&(st.save(),st.fillStyle=yt.getPattern(st,this,(0,c.getCurrentTransformInverse)(st),s.PathType.FILL),Tt=!0);const Mt=this.current.getClippedPathBoundingBox();this.contentVisible&&Mt!==null&&(this.pendingEOFill?(st.fill("evenodd"),this.pendingEOFill=!1):st.fill()),Tt&&st.restore(),at&&this.consumePath(Mt)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=Ut}eoClip(){this.pendingClip=Yt}beginText(){this.current.textMatrix=o.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const at=this.pendingTextPaths,st=this.ctx;if(at===void 0){st.beginPath();return}st.save(),st.beginPath();for(const yt of at)st.setTransform(...yt.transform),st.translate(yt.x,yt.y),yt.addToPath(st,yt.fontSize);st.restore(),st.clip(),st.beginPath(),delete this.pendingTextPaths}setCharSpacing(at){this.current.charSpacing=at}setWordSpacing(at){this.current.wordSpacing=at}setHScale(at){this.current.textHScale=at/100}setLeading(at){this.current.leading=-at}setFont(at,st){var fn;const yt=this.commonObjs.get(at),Pt=this.current;if(!yt)throw new Error(`Can't find font for ${at}`);if(Pt.fontMatrix=yt.fontMatrix||o.FONT_IDENTITY_MATRIX,(Pt.fontMatrix[0]===0||Pt.fontMatrix[3]===0)&&(0,o.warn)("Invalid font matrix for font "+at),st<0?(st=-st,Pt.fontDirection=-1):Pt.fontDirection=1,this.current.font=yt,this.current.fontSize=st,yt.isType3Font)return;const Tt=yt.loadedName||"sans-serif",Mt=((fn=yt.systemFontInfo)==null?void 0:fn.css)||`"${Tt}", ${yt.fallbackName}`;let Gt="normal";yt.black?Gt="900":yt.bold&&(Gt="bold");const un=yt.italic?"italic":"normal";let hn=st;st<et?hn=et:st>h&&(hn=h),this.current.fontSizeScale=st/hn,this.ctx.font=`${un} ${Gt} ${hn}px ${Mt}`}setTextRenderingMode(at){this.current.textRenderingMode=at}setTextRise(at){this.current.textRise=at}moveText(at,st){this.current.x=this.current.lineX+=at,this.current.y=this.current.lineY+=st}setLeadingMoveText(at,st){this.setLeading(-st),this.moveText(at,st)}setTextMatrix(at,st,yt,Pt,Tt,Mt){this.current.textMatrix=[at,st,yt,Pt,Tt,Mt],this.current.textMatrixScale=Math.hypot(at,st),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(at,st,yt,Pt){const Tt=this.ctx,Mt=this.current,Gt=Mt.font,un=Mt.textRenderingMode,hn=Mt.fontSize/Mt.fontSizeScale,fn=un&o.TextRenderingMode.FILL_STROKE_MASK,mn=!!(un&o.TextRenderingMode.ADD_TO_PATH_FLAG),Cn=Mt.patternFill&&!Gt.missingFile;let bn;(Gt.disableFontFace||mn||Cn)&&(bn=Gt.getPathGenerator(this.commonObjs,at)),Gt.disableFontFace||Cn?(Tt.save(),Tt.translate(st,yt),Tt.beginPath(),bn(Tt,hn),Pt&&Tt.setTransform(...Pt),(fn===o.TextRenderingMode.FILL||fn===o.TextRenderingMode.FILL_STROKE)&&Tt.fill(),(fn===o.TextRenderingMode.STROKE||fn===o.TextRenderingMode.FILL_STROKE)&&Tt.stroke(),Tt.restore()):((fn===o.TextRenderingMode.FILL||fn===o.TextRenderingMode.FILL_STROKE)&&Tt.fillText(at,st,yt),(fn===o.TextRenderingMode.STROKE||fn===o.TextRenderingMode.FILL_STROKE)&&Tt.strokeText(at,st,yt)),mn&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:(0,c.getCurrentTransform)(Tt),x:st,y:yt,fontSize:hn,addToPath:bn})}get isFontSubpixelAAEnabled(){const{context:at}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);at.scale(1.5,1),at.fillText("I",0,10);const st=at.getImageData(0,0,10,10).data;let yt=!1;for(let Pt=3;Pt<st.length;Pt+=4)if(st[Pt]>0&&st[Pt]<255){yt=!0;break}return(0,o.shadow)(this,"isFontSubpixelAAEnabled",yt)}showText(at){const st=this.current,yt=st.font;if(yt.isType3Font)return this.showType3Text(at);const Pt=st.fontSize;if(Pt===0)return;const Tt=this.ctx,Mt=st.fontSizeScale,Gt=st.charSpacing,un=st.wordSpacing,hn=st.fontDirection,fn=st.textHScale*hn,mn=at.length,Cn=yt.vertical,bn=Cn?1:-1,rn=yt.defaultVMetrics,on=Pt*st.fontMatrix[0],Et=st.textRenderingMode===o.TextRenderingMode.FILL&&!yt.disableFontFace&&!st.patternFill;Tt.save(),Tt.transform(...st.textMatrix),Tt.translate(st.x,st.y+st.textRise),hn>0?Tt.scale(fn,-1):Tt.scale(fn,1);let Ft;if(st.patternFill){Tt.save();const vn=st.fillColor.getPattern(Tt,this,(0,c.getCurrentTransformInverse)(Tt),s.PathType.FILL);Ft=(0,c.getCurrentTransform)(Tt),Tt.restore(),Tt.fillStyle=vn}let Qt=st.lineWidth;const sn=st.textMatrixScale;if(sn===0||Qt===0){const vn=st.textRenderingMode&o.TextRenderingMode.FILL_STROKE_MASK;(vn===o.TextRenderingMode.STROKE||vn===o.TextRenderingMode.FILL_STROKE)&&(Qt=this.getSinglePixelWidth())}else Qt/=sn;if(Mt!==1&&(Tt.scale(Mt,Mt),Qt/=Mt),Tt.lineWidth=Qt,yt.isInvalidPDFjsFont){const vn=[];let Kt=0;for(const Ln of at)vn.push(Ln.unicode),Kt+=Ln.width;Tt.fillText(vn.join(""),0,0),st.x+=Kt*on*fn,Tt.restore(),this.compose();return}let pn=0,An;for(An=0;An<mn;++An){const vn=at[An];if(typeof vn=="number"){pn+=bn*vn*Pt/1e3;continue}let Kt=!1;const Ln=(vn.isSpace?un:0)+Gt,Tn=vn.fontChar,Jn=vn.accent;let er,dr,Hn=vn.width;if(Cn){const or=vn.vmetric||rn,wr=-(vn.vmetric?or[1]:Hn*.5)*on,_n=or[2]*on;Hn=or?-or[0]:Hn,er=wr/Mt,dr=(pn+_n)/Mt}else er=pn/Mt,dr=0;if(yt.remeasure&&Hn>0){const or=Tt.measureText(Tn).width*1e3/Pt*Mt;if(Hn<or&&this.isFontSubpixelAAEnabled){const wr=Hn/or;Kt=!0,Tt.save(),Tt.scale(wr,1),er/=wr}else Hn!==or&&(er+=(Hn-or)/2e3*Pt/Mt)}if(this.contentVisible&&(vn.isInFont||yt.missingFile)){if(Et&&!Jn)Tt.fillText(Tn,er,dr);else if(this.paintChar(Tn,er,dr,Ft),Jn){const or=er+Pt*Jn.offset.x/Mt,wr=dr-Pt*Jn.offset.y/Mt;this.paintChar(Jn.fontChar,or,wr,Ft)}}const Vn=Cn?Hn*on-Ln*hn:Hn*on+Ln*hn;pn+=Vn,Kt&&Tt.restore()}Cn?st.y-=pn:st.x+=pn*fn,Tt.restore(),this.compose()}showType3Text(at){const st=this.ctx,yt=this.current,Pt=yt.font,Tt=yt.fontSize,Mt=yt.fontDirection,Gt=Pt.vertical?1:-1,un=yt.charSpacing,hn=yt.wordSpacing,fn=yt.textHScale*Mt,mn=yt.fontMatrix||o.FONT_IDENTITY_MATRIX,Cn=at.length,bn=yt.textRenderingMode===o.TextRenderingMode.INVISIBLE;let rn,on,Et,Ft;if(!(bn||Tt===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,st.save(),st.transform(...yt.textMatrix),st.translate(yt.x,yt.y),st.scale(fn,Mt),rn=0;rn<Cn;++rn){if(on=at[rn],typeof on=="number"){Ft=Gt*on*Tt/1e3,this.ctx.translate(Ft,0),yt.x+=Ft*fn;continue}const Qt=(on.isSpace?hn:0)+un,sn=Pt.charProcOperatorList[on.operatorListId];if(!sn){(0,o.warn)(`Type3 character "${on.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=on,this.save(),st.scale(Tt,Tt),st.transform(...mn),this.executeOperatorList(sn),this.restore()),Et=o.Util.applyTransform([on.width,0],mn)[0]*Tt+Qt,st.translate(Et,0),yt.x+=Et*fn}st.restore(),this.processingType3=null}}setCharWidth(at,st){}setCharWidthAndBounds(at,st,yt,Pt,Tt,Mt){this.ctx.rect(yt,Pt,Tt-yt,Mt-Pt),this.ctx.clip(),this.endPath()}getColorN_Pattern(at){let st;if(at[0]==="TilingPattern"){const yt=at[1],Pt=this.baseTransform||(0,c.getCurrentTransform)(this.ctx),Tt={createCanvasGraphics:Mt=>new $t(Mt,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};st=new s.TilingPattern(at,yt,this.ctx,Tt,Pt)}else st=this._getPattern(at[1],at[2]);return st}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(at,st,yt){const Pt=o.Util.makeHexColor(at,st,yt);this.ctx.strokeStyle=Pt,this.current.strokeColor=Pt}setFillRGBColor(at,st,yt){const Pt=o.Util.makeHexColor(at,st,yt);this.ctx.fillStyle=Pt,this.current.fillColor=Pt,this.current.patternFill=!1}_getPattern(at,st=null){let yt;return this.cachedPatterns.has(at)?yt=this.cachedPatterns.get(at):(yt=(0,s.getShadingPattern)(this.getObject(at)),this.cachedPatterns.set(at,yt)),st&&(yt.matrix=st),yt}shadingFill(at){if(!this.contentVisible)return;const st=this.ctx;this.save();const yt=this._getPattern(at);st.fillStyle=yt.getPattern(st,this,(0,c.getCurrentTransformInverse)(st),s.PathType.SHADING);const Pt=(0,c.getCurrentTransformInverse)(st);if(Pt){const{width:Tt,height:Mt}=st.canvas,[Gt,un,hn,fn]=o.Util.getAxialAlignedBoundingBox([0,0,Tt,Mt],Pt);this.ctx.fillRect(Gt,un,hn-Gt,fn-un)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){(0,o.unreachable)("Should not call beginInlineImage")}beginImageData(){(0,o.unreachable)("Should not call beginImageData")}paintFormXObjectBegin(at,st){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(at)&&at.length===6&&this.transform(...at),this.baseTransform=(0,c.getCurrentTransform)(this.ctx),st)){const yt=st[2]-st[0],Pt=st[3]-st[1];this.ctx.rect(st[0],st[1],yt,Pt),this.current.updateRectMinMax((0,c.getCurrentTransform)(this.ctx),st),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(at){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const st=this.ctx;at.isolated||(0,o.info)("TODO: Support non-isolated groups."),at.knockout&&(0,o.warn)("Knockout groups not supported.");const yt=(0,c.getCurrentTransform)(st);if(at.matrix&&st.transform(...at.matrix),!at.bbox)throw new Error("Bounding box is required.");let Pt=o.Util.getAxialAlignedBoundingBox(at.bbox,(0,c.getCurrentTransform)(st));const Tt=[0,0,st.canvas.width,st.canvas.height];Pt=o.Util.intersect(Pt,Tt)||[0,0,0,0];const Mt=Math.floor(Pt[0]),Gt=Math.floor(Pt[1]);let un=Math.max(Math.ceil(Pt[2])-Mt,1),hn=Math.max(Math.ceil(Pt[3])-Gt,1),fn=1,mn=1;un>_e&&(fn=un/_e,un=_e),hn>_e&&(mn=hn/_e,hn=_e),this.current.startNewPathAndClipBox([0,0,un,hn]);let Cn="groupAt"+this.groupLevel;at.smask&&(Cn+="_smask_"+this.smaskCounter++%2);const bn=this.cachedCanvases.getCanvas(Cn,un,hn),rn=bn.context;rn.scale(1/fn,1/mn),rn.translate(-Mt,-Gt),rn.transform(...yt),at.smask?this.smaskStack.push({canvas:bn.canvas,context:rn,offsetX:Mt,offsetY:Gt,scaleX:fn,scaleY:mn,subtype:at.smask.subtype,backdrop:at.smask.backdrop,transferMap:at.smask.transferMap||null,startTransformInverse:null}):(st.setTransform(1,0,0,1,0,0),st.translate(Mt,Gt),st.scale(fn,mn),st.save()),nt(st,rn),this.ctx=rn,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(st),this.groupLevel++}endGroup(at){if(!this.contentVisible)return;this.groupLevel--;const st=this.ctx,yt=this.groupStack.pop();if(this.ctx=yt,this.ctx.imageSmoothingEnabled=!1,at.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const Pt=(0,c.getCurrentTransform)(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...Pt);const Tt=o.Util.getAxialAlignedBoundingBox([0,0,st.canvas.width,st.canvas.height],Pt);this.ctx.drawImage(st.canvas,0,0),this.ctx.restore(),this.compose(Tt)}}beginAnnotation(at,st,yt,Pt,Tt){if(qt(this,Bt,Is).call(this),$(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),Array.isArray(st)&&st.length===4){const Mt=st[2]-st[0],Gt=st[3]-st[1];if(Tt&&this.annotationCanvasMap){yt=yt.slice(),yt[4]-=st[0],yt[5]-=st[1],st=st.slice(),st[0]=st[1]=0,st[2]=Mt,st[3]=Gt;const[un,hn]=o.Util.singularValueDecompose2dScale((0,c.getCurrentTransform)(this.ctx)),{viewportScale:fn}=this,mn=Math.ceil(Mt*this.outputScaleX*fn),Cn=Math.ceil(Gt*this.outputScaleY*fn);this.annotationCanvas=this.canvasFactory.create(mn,Cn);const{canvas:bn,context:rn}=this.annotationCanvas;this.annotationCanvasMap.set(at,bn),this.annotationCanvas.savedCtx=this.ctx,this.ctx=rn,this.ctx.save(),this.ctx.setTransform(un,0,0,-hn,0,Gt*hn),$(this.ctx)}else $(this.ctx),this.ctx.rect(st[0],st[1],Mt,Gt),this.ctx.clip(),this.endPath()}this.current=new b(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...yt),this.transform(...Pt)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),qt(this,Bt,Os).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(at){if(!this.contentVisible)return;const st=at.count;at=this.getObject(at.data,at),at.count=st;const yt=this.ctx,Pt=this.processingType3;if(Pt&&(Pt.compiled===void 0&&(Pt.compiled=j(at)),Pt.compiled)){Pt.compiled(yt);return}const Tt=this._createMaskCanvas(at),Mt=Tt.canvas;yt.save(),yt.setTransform(1,0,0,1,0,0),yt.drawImage(Mt,Tt.offsetX,Tt.offsetY),yt.restore(),this.compose()}paintImageMaskXObjectRepeat(at,st,yt=0,Pt=0,Tt,Mt){if(!this.contentVisible)return;at=this.getObject(at.data,at);const Gt=this.ctx;Gt.save();const un=(0,c.getCurrentTransform)(Gt);Gt.transform(st,yt,Pt,Tt,0,0);const hn=this._createMaskCanvas(at);Gt.setTransform(1,0,0,1,hn.offsetX-un[4],hn.offsetY-un[5]);for(let fn=0,mn=Mt.length;fn<mn;fn+=2){const Cn=o.Util.transform(un,[st,yt,Pt,Tt,Mt[fn],Mt[fn+1]]),[bn,rn]=o.Util.applyTransform([0,0],Cn);Gt.drawImage(hn.canvas,bn,rn)}Gt.restore(),this.compose()}paintImageMaskXObjectGroup(at){if(!this.contentVisible)return;const st=this.ctx,yt=this.current.fillColor,Pt=this.current.patternFill;for(const Tt of at){const{data:Mt,width:Gt,height:un,transform:hn}=Tt,fn=this.cachedCanvases.getCanvas("maskCanvas",Gt,un),mn=fn.context;mn.save();const Cn=this.getObject(Mt,Tt);pt(mn,Cn),mn.globalCompositeOperation="source-in",mn.fillStyle=Pt?yt.getPattern(mn,this,(0,c.getCurrentTransformInverse)(st),s.PathType.FILL):yt,mn.fillRect(0,0,Gt,un),mn.restore(),st.save(),st.transform(...hn),st.scale(1,-1),mt(st,fn.canvas,0,0,Gt,un,0,-1,1,1),st.restore()}this.compose()}paintImageXObject(at){if(!this.contentVisible)return;const st=this.getObject(at);if(!st){(0,o.warn)("Dependent image isn't ready yet");return}this.paintInlineImageXObject(st)}paintImageXObjectRepeat(at,st,yt,Pt){if(!this.contentVisible)return;const Tt=this.getObject(at);if(!Tt){(0,o.warn)("Dependent image isn't ready yet");return}const Mt=Tt.width,Gt=Tt.height,un=[];for(let hn=0,fn=Pt.length;hn<fn;hn+=2)un.push({transform:[st,0,0,yt,Pt[hn],Pt[hn+1]],x:0,y:0,w:Mt,h:Gt});this.paintInlineImageXObjectGroup(Tt,un)}applyTransferMapsToCanvas(at){return this.current.transferMaps!=="none"&&(at.filter=this.current.transferMaps,at.drawImage(at.canvas,0,0),at.filter="none"),at.canvas}applyTransferMapsToBitmap(at){if(this.current.transferMaps==="none")return at.bitmap;const{bitmap:st,width:yt,height:Pt}=at,Tt=this.cachedCanvases.getCanvas("inlineImage",yt,Pt),Mt=Tt.context;return Mt.filter=this.current.transferMaps,Mt.drawImage(st,0,0),Mt.filter="none",Tt.canvas}paintInlineImageXObject(at){if(!this.contentVisible)return;const st=at.width,yt=at.height,Pt=this.ctx;if(this.save(),!o.isNodeJS){const{filter:Gt}=Pt;Gt!=="none"&&Gt!==""&&(Pt.filter="none")}Pt.scale(1/st,-1/yt);let Tt;if(at.bitmap)Tt=this.applyTransferMapsToBitmap(at);else if(typeof HTMLElement=="function"&&at instanceof HTMLElement||!at.data)Tt=at;else{const un=this.cachedCanvases.getCanvas("inlineImage",st,yt).context;ft(un,at),Tt=this.applyTransferMapsToCanvas(un)}const Mt=this._scaleImage(Tt,(0,c.getCurrentTransformInverse)(Pt));Pt.imageSmoothingEnabled=St((0,c.getCurrentTransform)(Pt),at.interpolate),mt(Pt,Mt.img,0,0,Mt.paintWidth,Mt.paintHeight,0,-yt,st,yt),this.compose(),this.restore()}paintInlineImageXObjectGroup(at,st){if(!this.contentVisible)return;const yt=this.ctx;let Pt;if(at.bitmap)Pt=at.bitmap;else{const Tt=at.width,Mt=at.height,un=this.cachedCanvases.getCanvas("inlineImage",Tt,Mt).context;ft(un,at),Pt=this.applyTransferMapsToCanvas(un)}for(const Tt of st)yt.save(),yt.transform(...Tt.transform),yt.scale(1,-1),mt(yt,Pt,Tt.x,Tt.y,Tt.w,Tt.h,0,-1,1,1),yt.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(at){}markPointProps(at,st){}beginMarkedContent(at){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(at,st){at==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(st)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(at){const st=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(at);const yt=this.ctx;this.pendingClip&&(st||(this.pendingClip===Yt?yt.clip("evenodd"):yt.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),yt.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const at=(0,c.getCurrentTransform)(this.ctx);if(at[1]===0&&at[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(at[0]),Math.abs(at[3]));else{const st=Math.abs(at[0]*at[3]-at[2]*at[1]),yt=Math.hypot(at[0],at[2]),Pt=Math.hypot(at[1],at[3]);this._cachedGetSinglePixelWidth=Math.max(yt,Pt)/st}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:at}=this.current,{a:st,b:yt,c:Pt,d:Tt}=this.ctx.getTransform();let Mt,Gt;if(yt===0&&Pt===0){const un=Math.abs(st),hn=Math.abs(Tt);if(un===hn)if(at===0)Mt=Gt=1/un;else{const fn=un*at;Mt=Gt=fn<1?1/fn:1}else if(at===0)Mt=1/un,Gt=1/hn;else{const fn=un*at,mn=hn*at;Mt=fn<1?1/fn:1,Gt=mn<1?1/mn:1}}else{const un=Math.abs(st*Tt-yt*Pt),hn=Math.hypot(st,yt),fn=Math.hypot(Pt,Tt);if(at===0)Mt=fn/un,Gt=hn/un;else{const mn=at*un;Mt=fn>mn?fn/mn:1,Gt=hn>mn?hn/mn:1}}this._cachedScaleForStroking[0]=Mt,this._cachedScaleForStroking[1]=Gt}return this._cachedScaleForStroking}rescaleAndStroke(at){const{ctx:st}=this,{lineWidth:yt}=this.current,[Pt,Tt]=this.getScaleForStroking();if(st.lineWidth=yt||1,Pt===1&&Tt===1){st.stroke();return}const Mt=st.getLineDash();if(at&&st.save(),st.scale(Pt,Tt),Mt.length>0){const Gt=Math.max(Pt,Tt);st.setLineDash(Mt.map(un=>un/Gt)),st.lineDashOffset/=Gt}st.stroke(),at&&st.restore()}isContentVisible(){for(let at=this.markedContentStack.length-1;at>=0;at--)if(!this.markedContentStack[at].visible)return!1;return!0}};Bt=new WeakSet,Is=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},Os=function(){if(this.pageColors){const at=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(at!=="none"){const st=this.ctx.filter;this.ctx.filter=at,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=st}}};let Nt=$t;i.CanvasGraphics=Nt;for(const bt in o.OPS)Nt.prototype[bt]!==void 0&&(Nt.prototype[o.OPS[bt]]=Nt.prototype[bt])},(e,i,a)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.TilingPattern=i.PathType=void 0,i.getShadingPattern=ot;var o=a(1),c=a(6);const s={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};i.PathType=s;function d(j,b){if(!b)return;const ft=b[2]-b[0],pt=b[3]-b[1],nt=new Path2D;nt.rect(b[0],b[1],ft,pt),j.clip(nt)}class et{constructor(){this.constructor===et&&(0,o.unreachable)("Cannot initialize BaseShadingPattern.")}getPattern(){(0,o.unreachable)("Abstract method `getPattern` called.")}}class h extends et{constructor(b){super(),this._type=b[1],this._bbox=b[2],this._colorStops=b[3],this._p0=b[4],this._p1=b[5],this._r0=b[6],this._r1=b[7],this.matrix=null}_createGradient(b){let ft;this._type==="axial"?ft=b.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(ft=b.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const pt of this._colorStops)ft.addColorStop(pt[0],pt[1]);return ft}getPattern(b,ft,pt,nt){let $;if(nt===s.STROKE||nt===s.FILL){const rt=ft.current.getClippedPathBoundingBox(nt,(0,c.getCurrentTransform)(b))||[0,0,0,0],it=Math.ceil(rt[2]-rt[0])||1,dt=Math.ceil(rt[3]-rt[1])||1,At=ft.cachedCanvases.getCanvas("pattern",it,dt,!0),ht=At.context;ht.clearRect(0,0,ht.canvas.width,ht.canvas.height),ht.beginPath(),ht.rect(0,0,ht.canvas.width,ht.canvas.height),ht.translate(-rt[0],-rt[1]),pt=o.Util.transform(pt,[1,0,0,1,rt[0],rt[1]]),ht.transform(...ft.baseTransform),this.matrix&&ht.transform(...this.matrix),d(ht,this._bbox),ht.fillStyle=this._createGradient(ht),ht.fill(),$=b.createPattern(At.canvas,"no-repeat");const St=new DOMMatrix(pt);$.setTransform(St)}else d(b,this._bbox),$=this._createGradient(b);return $}}function _e(j,b,ft,pt,nt,$,rt,it){const dt=b.coords,At=b.colors,ht=j.data,St=j.width*4;let Rt;dt[ft+1]>dt[pt+1]&&(Rt=ft,ft=pt,pt=Rt,Rt=$,$=rt,rt=Rt),dt[pt+1]>dt[nt+1]&&(Rt=pt,pt=nt,nt=Rt,Rt=rt,rt=it,it=Rt),dt[ft+1]>dt[pt+1]&&(Rt=ft,ft=pt,pt=Rt,Rt=$,$=rt,rt=Rt);const Jt=(dt[ft]+b.offsetX)*b.scaleX,Ut=(dt[ft+1]+b.offsetY)*b.scaleY,Yt=(dt[pt]+b.offsetX)*b.scaleX,Nt=(dt[pt+1]+b.offsetY)*b.scaleY,Bt=(dt[nt]+b.offsetX)*b.scaleX,wt=(dt[nt+1]+b.offsetY)*b.scaleY;if(Ut>=wt)return;const Lt=At[$],$t=At[$+1],bt=At[$+2],at=At[rt],st=At[rt+1],yt=At[rt+2],Pt=At[it],Tt=At[it+1],Mt=At[it+2],Gt=Math.round(Ut),un=Math.round(wt);let hn,fn,mn,Cn,bn,rn,on,Et;for(let Ft=Gt;Ft<=un;Ft++){if(Ft<Nt){const vn=Ft<Ut?0:(Ut-Ft)/(Ut-Nt);hn=Jt-(Jt-Yt)*vn,fn=Lt-(Lt-at)*vn,mn=$t-($t-st)*vn,Cn=bt-(bt-yt)*vn}else{let vn;Ft>wt?vn=1:Nt===wt?vn=0:vn=(Nt-Ft)/(Nt-wt),hn=Yt-(Yt-Bt)*vn,fn=at-(at-Pt)*vn,mn=st-(st-Tt)*vn,Cn=yt-(yt-Mt)*vn}let Qt;Ft<Ut?Qt=0:Ft>wt?Qt=1:Qt=(Ut-Ft)/(Ut-wt),bn=Jt-(Jt-Bt)*Qt,rn=Lt-(Lt-Pt)*Qt,on=$t-($t-Tt)*Qt,Et=bt-(bt-Mt)*Qt;const sn=Math.round(Math.min(hn,bn)),pn=Math.round(Math.max(hn,bn));let An=St*Ft+sn*4;for(let vn=sn;vn<=pn;vn++)Qt=(hn-vn)/(hn-bn),Qt<0?Qt=0:Qt>1&&(Qt=1),ht[An++]=fn-(fn-rn)*Qt|0,ht[An++]=mn-(mn-on)*Qt|0,ht[An++]=Cn-(Cn-Et)*Qt|0,ht[An++]=255}}function _(j,b,ft){const pt=b.coords,nt=b.colors;let $,rt;switch(b.type){case"lattice":const it=b.verticesPerRow,dt=Math.floor(pt.length/it)-1,At=it-1;for($=0;$<dt;$++){let ht=$*it;for(let St=0;St<At;St++,ht++)_e(j,ft,pt[ht],pt[ht+1],pt[ht+it],nt[ht],nt[ht+1],nt[ht+it]),_e(j,ft,pt[ht+it+1],pt[ht+1],pt[ht+it],nt[ht+it+1],nt[ht+1],nt[ht+it])}break;case"triangles":for($=0,rt=pt.length;$<rt;$+=3)_e(j,ft,pt[$],pt[$+1],pt[$+2],nt[$],nt[$+1],nt[$+2]);break;default:throw new Error("illegal figure")}}class ct extends et{constructor(b){super(),this._coords=b[2],this._colors=b[3],this._figures=b[4],this._bounds=b[5],this._bbox=b[7],this._background=b[8],this.matrix=null}_createMeshCanvas(b,ft,pt){const it=Math.floor(this._bounds[0]),dt=Math.floor(this._bounds[1]),At=Math.ceil(this._bounds[2])-it,ht=Math.ceil(this._bounds[3])-dt,St=Math.min(Math.ceil(Math.abs(At*b[0]*1.1)),3e3),Rt=Math.min(Math.ceil(Math.abs(ht*b[1]*1.1)),3e3),Jt=At/St,Ut=ht/Rt,Yt={coords:this._coords,colors:this._colors,offsetX:-it,offsetY:-dt,scaleX:1/Jt,scaleY:1/Ut},Nt=St+2*2,Bt=Rt+2*2,wt=pt.getCanvas("mesh",Nt,Bt,!1),Lt=wt.context,$t=Lt.createImageData(St,Rt);if(ft){const at=$t.data;for(let st=0,yt=at.length;st<yt;st+=4)at[st]=ft[0],at[st+1]=ft[1],at[st+2]=ft[2],at[st+3]=255}for(const at of this._figures)_($t,at,Yt);return Lt.putImageData($t,2,2),{canvas:wt.canvas,offsetX:it-2*Jt,offsetY:dt-2*Ut,scaleX:Jt,scaleY:Ut}}getPattern(b,ft,pt,nt){d(b,this._bbox);let $;if(nt===s.SHADING)$=o.Util.singularValueDecompose2dScale((0,c.getCurrentTransform)(b));else if($=o.Util.singularValueDecompose2dScale(ft.baseTransform),this.matrix){const it=o.Util.singularValueDecompose2dScale(this.matrix);$=[$[0]*it[0],$[1]*it[1]]}const rt=this._createMeshCanvas($,nt===s.SHADING?null:this._background,ft.cachedCanvases);return nt!==s.SHADING&&(b.setTransform(...ft.baseTransform),this.matrix&&b.transform(...this.matrix)),b.translate(rt.offsetX,rt.offsetY),b.scale(rt.scaleX,rt.scaleY),b.createPattern(rt.canvas,"no-repeat")}}class ut extends et{getPattern(){return"hotpink"}}function ot(j){switch(j[0]){case"RadialAxial":return new h(j);case"Mesh":return new ct(j);case"Dummy":return new ut}throw new Error(`Unknown IR type: ${j[0]}`)}const lt={COLORED:1,UNCOLORED:2},mt=class mt{constructor(b,ft,pt,nt,$){this.operatorList=b[2],this.matrix=b[3]||[1,0,0,1,0,0],this.bbox=b[4],this.xstep=b[5],this.ystep=b[6],this.paintType=b[7],this.tilingType=b[8],this.color=ft,this.ctx=pt,this.canvasGraphicsFactory=nt,this.baseTransform=$}createPatternCanvas(b){const ft=this.operatorList,pt=this.bbox,nt=this.xstep,$=this.ystep,rt=this.paintType,it=this.tilingType,dt=this.color,At=this.canvasGraphicsFactory;(0,o.info)("TilingType: "+it);const ht=pt[0],St=pt[1],Rt=pt[2],Jt=pt[3],Ut=o.Util.singularValueDecompose2dScale(this.matrix),Yt=o.Util.singularValueDecompose2dScale(this.baseTransform),Nt=[Ut[0]*Yt[0],Ut[1]*Yt[1]],Bt=this.getSizeAndScale(nt,this.ctx.canvas.width,Nt[0]),wt=this.getSizeAndScale($,this.ctx.canvas.height,Nt[1]),Lt=b.cachedCanvases.getCanvas("pattern",Bt.size,wt.size,!0),$t=Lt.context,bt=At.createCanvasGraphics($t);bt.groupLevel=b.groupLevel,this.setFillAndStrokeStyleToContext(bt,rt,dt);let at=ht,st=St,yt=Rt,Pt=Jt;return ht<0&&(at=0,yt+=Math.abs(ht)),St<0&&(st=0,Pt+=Math.abs(St)),$t.translate(-(Bt.scale*at),-(wt.scale*st)),bt.transform(Bt.scale,0,0,wt.scale,0,0),$t.save(),this.clipBbox(bt,at,st,yt,Pt),bt.baseTransform=(0,c.getCurrentTransform)(bt.ctx),bt.executeOperatorList(ft),bt.endDrawing(),{canvas:Lt.canvas,scaleX:Bt.scale,scaleY:wt.scale,offsetX:at,offsetY:st}}getSizeAndScale(b,ft,pt){b=Math.abs(b);const nt=Math.max(mt.MAX_PATTERN_SIZE,ft);let $=Math.ceil(b*pt);return $>=nt?$=nt:pt=$/b,{scale:pt,size:$}}clipBbox(b,ft,pt,nt,$){const rt=nt-ft,it=$-pt;b.ctx.rect(ft,pt,rt,it),b.current.updateRectMinMax((0,c.getCurrentTransform)(b.ctx),[ft,pt,nt,$]),b.clip(),b.endPath()}setFillAndStrokeStyleToContext(b,ft,pt){const nt=b.ctx,$=b.current;switch(ft){case lt.COLORED:const rt=this.ctx;nt.fillStyle=rt.fillStyle,nt.strokeStyle=rt.strokeStyle,$.fillColor=rt.fillStyle,$.strokeColor=rt.strokeStyle;break;case lt.UNCOLORED:const it=o.Util.makeHexColor(pt[0],pt[1],pt[2]);nt.fillStyle=it,nt.strokeStyle=it,$.fillColor=it,$.strokeColor=it;break;default:throw new o.FormatError(`Unsupported paint type: ${ft}`)}}getPattern(b,ft,pt,nt){let $=pt;nt!==s.SHADING&&($=o.Util.transform($,ft.baseTransform),this.matrix&&($=o.Util.transform($,this.matrix)));const rt=this.createPatternCanvas(ft);let it=new DOMMatrix($);it=it.translate(rt.offsetX,rt.offsetY),it=it.scale(1/rt.scaleX,1/rt.scaleY);const dt=b.createPattern(rt.canvas,"repeat");return dt.setTransform(it),dt}};Nr(mt,"MAX_PATTERN_SIZE",3e3);let gt=mt;i.TilingPattern=gt},(e,i,a)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.convertBlackAndWhiteToRGBA=s,i.convertToRGBA=c,i.grayToRGBA=et;var o=a(1);function c(h){switch(h.kind){case o.ImageKind.GRAYSCALE_1BPP:return s(h);case o.ImageKind.RGB_24BPP:return d(h)}return null}function s({src:h,srcPos:_e=0,dest:_,width:ct,height:ut,nonBlackColor:ot=4294967295,inverseDecode:lt=!1}){const gt=o.FeatureTest.isLittleEndian?4278190080:255,[mt,j]=lt?[ot,gt]:[gt,ot],b=ct>>3,ft=ct&7,pt=h.length;_=new Uint32Array(_.buffer);let nt=0;for(let $=0;$<ut;$++){for(const it=_e+b;_e<it;_e++){const dt=_e<pt?h[_e]:255;_[nt++]=dt&128?j:mt,_[nt++]=dt&64?j:mt,_[nt++]=dt&32?j:mt,_[nt++]=dt&16?j:mt,_[nt++]=dt&8?j:mt,_[nt++]=dt&4?j:mt,_[nt++]=dt&2?j:mt,_[nt++]=dt&1?j:mt}if(ft===0)continue;const rt=_e<pt?h[_e++]:255;for(let it=0;it<ft;it++)_[nt++]=rt&1<<7-it?j:mt}return{srcPos:_e,destPos:nt}}function d({src:h,srcPos:_e=0,dest:_,destPos:ct=0,width:ut,height:ot}){let lt=0;const gt=h.length>>2,mt=new Uint32Array(h.buffer,_e,gt);if(o.FeatureTest.isLittleEndian){for(;lt<gt-2;lt+=3,ct+=4){const j=mt[lt],b=mt[lt+1],ft=mt[lt+2];_[ct]=j|4278190080,_[ct+1]=j>>>24|b<<8|4278190080,_[ct+2]=b>>>16|ft<<16|4278190080,_[ct+3]=ft>>>8|4278190080}for(let j=lt*4,b=h.length;j<b;j+=3)_[ct++]=h[j]|h[j+1]<<8|h[j+2]<<16|4278190080}else{for(;lt<gt-2;lt+=3,ct+=4){const j=mt[lt],b=mt[lt+1],ft=mt[lt+2];_[ct]=j|255,_[ct+1]=j<<24|b>>>8|255,_[ct+2]=b<<16|ft>>>16|255,_[ct+3]=ft<<8|255}for(let j=lt*4,b=h.length;j<b;j+=3)_[ct++]=h[j]<<24|h[j+1]<<16|h[j+2]<<8|255}return{srcPos:_e,destPos:ct}}function et(h,_e){if(o.FeatureTest.isLittleEndian)for(let _=0,ct=h.length;_<ct;_++)_e[_]=h[_]*65793|4278190080;else for(let _=0,ct=h.length;_<ct;_++)_e[_]=h[_]*16843008|255}},(e,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.GlobalWorkerOptions=void 0;const a=Object.create(null);i.GlobalWorkerOptions=a,a.workerPort=null,a.workerSrc=""},(e,i,a)=>{var h,Yl,Kl,Jo;Object.defineProperty(i,"__esModule",{value:!0}),i.MessageHandler=void 0;var o=a(1);const c={UNKNOWN:0,DATA:1,ERROR:2},s={UNKNOWN:0,CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function d(ut){switch(ut instanceof Error||typeof ut=="object"&&ut!==null||(0,o.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),ut.name){case"AbortException":return new o.AbortException(ut.message);case"MissingPDFException":return new o.MissingPDFException(ut.message);case"PasswordException":return new o.PasswordException(ut.message,ut.code);case"UnexpectedResponseException":return new o.UnexpectedResponseException(ut.message,ut.status);case"UnknownErrorException":return new o.UnknownErrorException(ut.message,ut.details);default:return new o.UnknownErrorException(ut.message,ut.toString())}}class et{constructor(ot,lt,gt){cn(this,h);this.sourceName=ot,this.targetName=lt,this.comObj=gt,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=mt=>{const j=mt.data;if(j.targetName!==this.sourceName)return;if(j.stream){qt(this,h,Kl).call(this,j);return}if(j.callback){const ft=j.callbackId,pt=this.callbackCapabilities[ft];if(!pt)throw new Error(`Cannot resolve callback ${ft}`);if(delete this.callbackCapabilities[ft],j.callback===c.DATA)pt.resolve(j.data);else if(j.callback===c.ERROR)pt.reject(d(j.reason));else throw new Error("Unexpected callback case");return}const b=this.actionHandler[j.action];if(!b)throw new Error(`Unknown action from worker: ${j.action}`);if(j.callbackId){const ft=this.sourceName,pt=j.sourceName;new Promise(function(nt){nt(b(j.data))}).then(function(nt){gt.postMessage({sourceName:ft,targetName:pt,callback:c.DATA,callbackId:j.callbackId,data:nt})},function(nt){gt.postMessage({sourceName:ft,targetName:pt,callback:c.ERROR,callbackId:j.callbackId,reason:d(nt)})});return}if(j.streamId){qt(this,h,Yl).call(this,j);return}b(j.data)},gt.addEventListener("message",this._onComObjOnMessage)}on(ot,lt){const gt=this.actionHandler;if(gt[ot])throw new Error(`There is already an actionName called "${ot}"`);gt[ot]=lt}send(ot,lt,gt){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:ot,data:lt},gt)}sendWithPromise(ot,lt,gt){const mt=this.callbackId++,j=new o.PromiseCapability;this.callbackCapabilities[mt]=j;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:ot,callbackId:mt,data:lt},gt)}catch(b){j.reject(b)}return j.promise}sendWithStream(ot,lt,gt,mt){const j=this.streamId++,b=this.sourceName,ft=this.targetName,pt=this.comObj;return new ReadableStream({start:nt=>{const $=new o.PromiseCapability;return this.streamControllers[j]={controller:nt,startCall:$,pullCall:null,cancelCall:null,isClosed:!1},pt.postMessage({sourceName:b,targetName:ft,action:ot,streamId:j,data:lt,desiredSize:nt.desiredSize},mt),$.promise},pull:nt=>{const $=new o.PromiseCapability;return this.streamControllers[j].pullCall=$,pt.postMessage({sourceName:b,targetName:ft,stream:s.PULL,streamId:j,desiredSize:nt.desiredSize}),$.promise},cancel:nt=>{(0,o.assert)(nt instanceof Error,"cancel must have a valid reason");const $=new o.PromiseCapability;return this.streamControllers[j].cancelCall=$,this.streamControllers[j].isClosed=!0,pt.postMessage({sourceName:b,targetName:ft,stream:s.CANCEL,streamId:j,reason:d(nt)}),$.promise}},gt)}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}h=new WeakSet,Yl=function(ot){const lt=ot.streamId,gt=this.sourceName,mt=ot.sourceName,j=this.comObj,b=this,ft=this.actionHandler[ot.action],pt={enqueue(nt,$=1,rt){if(this.isCancelled)return;const it=this.desiredSize;this.desiredSize-=$,it>0&&this.desiredSize<=0&&(this.sinkCapability=new o.PromiseCapability,this.ready=this.sinkCapability.promise),j.postMessage({sourceName:gt,targetName:mt,stream:s.ENQUEUE,streamId:lt,chunk:nt},rt)},close(){this.isCancelled||(this.isCancelled=!0,j.postMessage({sourceName:gt,targetName:mt,stream:s.CLOSE,streamId:lt}),delete b.streamSinks[lt])},error(nt){(0,o.assert)(nt instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,j.postMessage({sourceName:gt,targetName:mt,stream:s.ERROR,streamId:lt,reason:d(nt)}))},sinkCapability:new o.PromiseCapability,onPull:null,onCancel:null,isCancelled:!1,desiredSize:ot.desiredSize,ready:null};pt.sinkCapability.resolve(),pt.ready=pt.sinkCapability.promise,this.streamSinks[lt]=pt,new Promise(function(nt){nt(ft(ot.data,pt))}).then(function(){j.postMessage({sourceName:gt,targetName:mt,stream:s.START_COMPLETE,streamId:lt,success:!0})},function(nt){j.postMessage({sourceName:gt,targetName:mt,stream:s.START_COMPLETE,streamId:lt,reason:d(nt)})})},Kl=function(ot){const lt=ot.streamId,gt=this.sourceName,mt=ot.sourceName,j=this.comObj,b=this.streamControllers[lt],ft=this.streamSinks[lt];switch(ot.stream){case s.START_COMPLETE:ot.success?b.startCall.resolve():b.startCall.reject(d(ot.reason));break;case s.PULL_COMPLETE:ot.success?b.pullCall.resolve():b.pullCall.reject(d(ot.reason));break;case s.PULL:if(!ft){j.postMessage({sourceName:gt,targetName:mt,stream:s.PULL_COMPLETE,streamId:lt,success:!0});break}ft.desiredSize<=0&&ot.desiredSize>0&&ft.sinkCapability.resolve(),ft.desiredSize=ot.desiredSize,new Promise(function(pt){var nt;pt((nt=ft.onPull)==null?void 0:nt.call(ft))}).then(function(){j.postMessage({sourceName:gt,targetName:mt,stream:s.PULL_COMPLETE,streamId:lt,success:!0})},function(pt){j.postMessage({sourceName:gt,targetName:mt,stream:s.PULL_COMPLETE,streamId:lt,reason:d(pt)})});break;case s.ENQUEUE:if((0,o.assert)(b,"enqueue should have stream controller"),b.isClosed)break;b.controller.enqueue(ot.chunk);break;case s.CLOSE:if((0,o.assert)(b,"close should have stream controller"),b.isClosed)break;b.isClosed=!0,b.controller.close(),qt(this,h,Jo).call(this,b,lt);break;case s.ERROR:(0,o.assert)(b,"error should have stream controller"),b.controller.error(d(ot.reason)),qt(this,h,Jo).call(this,b,lt);break;case s.CANCEL_COMPLETE:ot.success?b.cancelCall.resolve():b.cancelCall.reject(d(ot.reason)),qt(this,h,Jo).call(this,b,lt);break;case s.CANCEL:if(!ft)break;new Promise(function(pt){var nt;pt((nt=ft.onCancel)==null?void 0:nt.call(ft,d(ot.reason)))}).then(function(){j.postMessage({sourceName:gt,targetName:mt,stream:s.CANCEL_COMPLETE,streamId:lt,success:!0})},function(pt){j.postMessage({sourceName:gt,targetName:mt,stream:s.CANCEL_COMPLETE,streamId:lt,reason:d(pt)})}),ft.sinkCapability.reject(d(ot.reason)),ft.isCancelled=!0,delete this.streamSinks[lt];break;default:throw new Error("Unexpected stream case")}},Jo=async function(ot,lt){var gt,mt,j;await Promise.allSettled([(gt=ot.startCall)==null?void 0:gt.promise,(mt=ot.pullCall)==null?void 0:mt.promise,(j=ot.cancelCall)==null?void 0:j.promise]),delete this.streamControllers[lt]},i.MessageHandler=et},(e,i,a)=>{var s,d;Object.defineProperty(i,"__esModule",{value:!0}),i.Metadata=void 0;var o=a(1);class c{constructor({parsedData:h,rawData:_e}){cn(this,s);cn(this,d);dn(this,s,h),dn(this,d,_e)}getRaw(){return g(this,d)}get(h){return g(this,s).get(h)??null}getAll(){return(0,o.objectFromMap)(g(this,s))}has(h){return g(this,s).has(h)}}s=new WeakMap,d=new WeakMap,i.Metadata=c},(e,i,a)=>{var h,_e,_,ct,ut,ot,Ns;Object.defineProperty(i,"__esModule",{value:!0}),i.OptionalContentConfig=void 0;var o=a(1),c=a(8);const s=Symbol("INTERNAL");class d{constructor(mt,j){cn(this,h,!0);this.name=mt,this.intent=j}get visible(){return g(this,h)}_setVisible(mt,j){mt!==s&&(0,o.unreachable)("Internal method `_setVisible` called."),dn(this,h,j)}}h=new WeakMap;class et{constructor(mt){cn(this,ot);cn(this,_e,null);cn(this,_,new Map);cn(this,ct,null);cn(this,ut,null);if(this.name=null,this.creator=null,mt!==null){this.name=mt.name,this.creator=mt.creator,dn(this,ut,mt.order);for(const j of mt.groups)g(this,_).set(j.id,new d(j.name,j.intent));if(mt.baseState==="OFF")for(const j of g(this,_).values())j._setVisible(s,!1);for(const j of mt.on)g(this,_).get(j)._setVisible(s,!0);for(const j of mt.off)g(this,_).get(j)._setVisible(s,!1);dn(this,ct,this.getHash())}}isVisible(mt){if(g(this,_).size===0)return!0;if(!mt)return(0,o.warn)("Optional content group not defined."),!0;if(mt.type==="OCG")return g(this,_).has(mt.id)?g(this,_).get(mt.id).visible:((0,o.warn)(`Optional content group not found: ${mt.id}`),!0);if(mt.type==="OCMD"){if(mt.expression)return qt(this,ot,Ns).call(this,mt.expression);if(!mt.policy||mt.policy==="AnyOn"){for(const j of mt.ids){if(!g(this,_).has(j))return(0,o.warn)(`Optional content group not found: ${j}`),!0;if(g(this,_).get(j).visible)return!0}return!1}else if(mt.policy==="AllOn"){for(const j of mt.ids){if(!g(this,_).has(j))return(0,o.warn)(`Optional content group not found: ${j}`),!0;if(!g(this,_).get(j).visible)return!1}return!0}else if(mt.policy==="AnyOff"){for(const j of mt.ids){if(!g(this,_).has(j))return(0,o.warn)(`Optional content group not found: ${j}`),!0;if(!g(this,_).get(j).visible)return!0}return!1}else if(mt.policy==="AllOff"){for(const j of mt.ids){if(!g(this,_).has(j))return(0,o.warn)(`Optional content group not found: ${j}`),!0;if(g(this,_).get(j).visible)return!1}return!0}return(0,o.warn)(`Unknown optional content policy ${mt.policy}.`),!0}return(0,o.warn)(`Unknown group type ${mt.type}.`),!0}setVisibility(mt,j=!0){if(!g(this,_).has(mt)){(0,o.warn)(`Optional content group not found: ${mt}`);return}g(this,_).get(mt)._setVisible(s,!!j),dn(this,_e,null)}get hasInitialVisibility(){return g(this,ct)===null||this.getHash()===g(this,ct)}getOrder(){return g(this,_).size?g(this,ut)?g(this,ut).slice():[...g(this,_).keys()]:null}getGroups(){return g(this,_).size>0?(0,o.objectFromMap)(g(this,_)):null}getGroup(mt){return g(this,_).get(mt)||null}getHash(){if(g(this,_e)!==null)return g(this,_e);const mt=new c.MurmurHash3_64;for(const[j,b]of g(this,_))mt.update(`${j}:${b.visible}`);return dn(this,_e,mt.hexdigest())}}_e=new WeakMap,_=new WeakMap,ct=new WeakMap,ut=new WeakMap,ot=new WeakSet,Ns=function(mt){const j=mt.length;if(j<2)return!0;const b=mt[0];for(let ft=1;ft<j;ft++){const pt=mt[ft];let nt;if(Array.isArray(pt))nt=qt(this,ot,Ns).call(this,pt);else if(g(this,_).has(pt))nt=g(this,_).get(pt).visible;else return(0,o.warn)(`Optional content group not found: ${pt}`),!0;switch(b){case"And":if(!nt)return!1;break;case"Or":if(nt)return!0;break;case"Not":return!nt;default:return!0}}return b==="And"},i.OptionalContentConfig=et},(e,i,a)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.PDFDataTransportStream=void 0;var o=a(1),c=a(6);class s{constructor({length:_e,initialData:_,progressiveDone:ct=!1,contentDispositionFilename:ut=null,disableRange:ot=!1,disableStream:lt=!1},gt){if((0,o.assert)(gt,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=ct,this._contentDispositionFilename=ut,(_==null?void 0:_.length)>0){const mt=_ instanceof Uint8Array&&_.byteLength===_.buffer.byteLength?_.buffer:new Uint8Array(_).buffer;this._queuedChunks.push(mt)}this._pdfDataRangeTransport=gt,this._isStreamingSupported=!lt,this._isRangeSupported=!ot,this._contentLength=_e,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener((mt,j)=>{this._onReceiveData({begin:mt,chunk:j})}),this._pdfDataRangeTransport.addProgressListener((mt,j)=>{this._onProgress({loaded:mt,total:j})}),this._pdfDataRangeTransport.addProgressiveReadListener(mt=>{this._onReceiveData({chunk:mt})}),this._pdfDataRangeTransport.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}_onReceiveData({begin:_e,chunk:_}){const ct=_ instanceof Uint8Array&&_.byteLength===_.buffer.byteLength?_.buffer:new Uint8Array(_).buffer;if(_e===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(ct):this._queuedChunks.push(ct);else{const ut=this._rangeReaders.some(function(ot){return ot._begin!==_e?!1:(ot._enqueue(ct),!0)});(0,o.assert)(ut,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var _e;return((_e=this._fullRequestReader)==null?void 0:_e._loaded)??0}_onProgress(_e){var _,ct,ut,ot;_e.total===void 0?(ct=(_=this._rangeReaders[0])==null?void 0:_.onProgress)==null||ct.call(_,{loaded:_e.loaded}):(ot=(ut=this._fullRequestReader)==null?void 0:ut.onProgress)==null||ot.call(ut,{loaded:_e.loaded,total:_e.total})}_onProgressiveDone(){var _e;(_e=this._fullRequestReader)==null||_e.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(_e){const _=this._rangeReaders.indexOf(_e);_>=0&&this._rangeReaders.splice(_,1)}getFullReader(){(0,o.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const _e=this._queuedChunks;return this._queuedChunks=null,new d(this,_e,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(_e,_){if(_<=this._progressiveDataLength)return null;const ct=new et(this,_e,_);return this._pdfDataRangeTransport.requestDataRange(_e,_),this._rangeReaders.push(ct),ct}cancelAllRequests(_e){var _;(_=this._fullRequestReader)==null||_.cancel(_e);for(const ct of this._rangeReaders.slice(0))ct.cancel(_e);this._pdfDataRangeTransport.abort()}}i.PDFDataTransportStream=s;class d{constructor(_e,_,ct=!1,ut=null){this._stream=_e,this._done=ct||!1,this._filename=(0,c.isPdfFile)(ut)?ut:null,this._queuedChunks=_||[],this._loaded=0;for(const ot of this._queuedChunks)this._loaded+=ot.byteLength;this._requests=[],this._headersReady=Promise.resolve(),_e._fullRequestReader=this,this.onProgress=null}_enqueue(_e){this._done||(this._requests.length>0?this._requests.shift().resolve({value:_e,done:!1}):this._queuedChunks.push(_e),this._loaded+=_e.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const _e=new o.PromiseCapability;return this._requests.push(_e),_e.promise}cancel(_e){this._done=!0;for(const _ of this._requests)_.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class et{constructor(_e,_,ct){this._stream=_e,this._begin=_,this._end=ct,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(_e){if(!this._done){if(this._requests.length===0)this._queuedChunk=_e;else{this._requests.shift().resolve({value:_e,done:!1});for(const ct of this._requests)ct.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const _=this._queuedChunk;return this._queuedChunk=null,{value:_,done:!1}}if(this._done)return{value:void 0,done:!0};const _e=new o.PromiseCapability;return this._requests.push(_e),_e.promise}cancel(_e){this._done=!0;for(const _ of this._requests)_.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}},(e,i,a)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.PDFFetchStream=void 0;var o=a(1),c=a(20);function s(ct,ut,ot){return{method:"GET",headers:ct,signal:ot.signal,mode:"cors",credentials:ut?"include":"same-origin",redirect:"follow"}}function d(ct){const ut=new Headers;for(const ot in ct){const lt=ct[ot];lt!==void 0&&ut.append(ot,lt)}return ut}function et(ct){return ct instanceof Uint8Array?ct.buffer:ct instanceof ArrayBuffer?ct:((0,o.warn)(`getArrayBuffer - unexpected data format: ${ct}`),new Uint8Array(ct).buffer)}class h{constructor(ut){this.source=ut,this.isHttp=/^https?:/i.test(ut.url),this.httpHeaders=this.isHttp&&ut.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var ut;return((ut=this._fullRequestReader)==null?void 0:ut._loaded)??0}getFullReader(){return(0,o.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new _e(this),this._fullRequestReader}getRangeReader(ut,ot){if(ot<=this._progressiveDataLength)return null;const lt=new _(this,ut,ot);return this._rangeRequestReaders.push(lt),lt}cancelAllRequests(ut){var ot;(ot=this._fullRequestReader)==null||ot.cancel(ut);for(const lt of this._rangeRequestReaders.slice(0))lt.cancel(ut)}}i.PDFFetchStream=h;class _e{constructor(ut){this._stream=ut,this._reader=null,this._loaded=0,this._filename=null;const ot=ut.source;this._withCredentials=ot.withCredentials||!1,this._contentLength=ot.length,this._headersCapability=new o.PromiseCapability,this._disableRange=ot.disableRange||!1,this._rangeChunkSize=ot.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!ot.disableStream,this._isRangeSupported=!ot.disableRange,this._headers=d(this._stream.httpHeaders);const lt=ot.url;fetch(lt,s(this._headers,this._withCredentials,this._abortController)).then(gt=>{if(!(0,c.validateResponseStatus)(gt.status))throw(0,c.createResponseStatusError)(gt.status,lt);this._reader=gt.body.getReader(),this._headersCapability.resolve();const mt=ft=>gt.headers.get(ft),{allowRangeRequests:j,suggestedLength:b}=(0,c.validateRangeRequestCapabilities)({getResponseHeader:mt,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=j,this._contentLength=b||this._contentLength,this._filename=(0,c.extractFilenameFromHeader)(mt),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new o.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var lt;await this._headersCapability.promise;const{value:ut,done:ot}=await this._reader.read();return ot?{value:ut,done:ot}:(this._loaded+=ut.byteLength,(lt=this.onProgress)==null||lt.call(this,{loaded:this._loaded,total:this._contentLength}),{value:et(ut),done:!1})}cancel(ut){var ot;(ot=this._reader)==null||ot.cancel(ut),this._abortController.abort()}}class _{constructor(ut,ot,lt){this._stream=ut,this._reader=null,this._loaded=0;const gt=ut.source;this._withCredentials=gt.withCredentials||!1,this._readCapability=new o.PromiseCapability,this._isStreamingSupported=!gt.disableStream,this._abortController=new AbortController,this._headers=d(this._stream.httpHeaders),this._headers.append("Range",`bytes=${ot}-${lt-1}`);const mt=gt.url;fetch(mt,s(this._headers,this._withCredentials,this._abortController)).then(j=>{if(!(0,c.validateResponseStatus)(j.status))throw(0,c.createResponseStatusError)(j.status,mt);this._readCapability.resolve(),this._reader=j.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var lt;await this._readCapability.promise;const{value:ut,done:ot}=await this._reader.read();return ot?{value:ut,done:ot}:(this._loaded+=ut.byteLength,(lt=this.onProgress)==null||lt.call(this,{loaded:this._loaded}),{value:et(ut),done:!1})}cancel(ut){var ot;(ot=this._reader)==null||ot.cancel(ut),this._abortController.abort()}}},(e,i,a)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.createResponseStatusError=h,i.extractFilenameFromHeader=et,i.validateRangeRequestCapabilities=d,i.validateResponseStatus=_e;var o=a(1),c=a(21),s=a(6);function d({getResponseHeader:_,isHttp:ct,rangeChunkSize:ut,disableRange:ot}){const lt={allowRangeRequests:!1,suggestedLength:void 0},gt=parseInt(_("Content-Length"),10);return!Number.isInteger(gt)||(lt.suggestedLength=gt,gt<=2*ut)||ot||!ct||_("Accept-Ranges")!=="bytes"||(_("Content-Encoding")||"identity")!=="identity"||(lt.allowRangeRequests=!0),lt}function et(_){const ct=_("Content-Disposition");if(ct){let ut=(0,c.getFilenameFromContentDispositionHeader)(ct);if(ut.includes("%"))try{ut=decodeURIComponent(ut)}catch{}if((0,s.isPdfFile)(ut))return ut}return null}function h(_,ct){return _===404||_===0&&ct.startsWith("file:")?new o.MissingPDFException('Missing PDF "'+ct+'".'):new o.UnexpectedResponseException(`Unexpected server response (${_}) while retrieving PDF "${ct}".`,_)}function _e(_){return _===200||_===206}},(e,i,a)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.getFilenameFromContentDispositionHeader=c;var o=a(1);function c(s){let d=!0,et=h("filename\\*","i").exec(s);if(et){et=et[1];let gt=ut(et);return gt=unescape(gt),gt=ot(gt),gt=lt(gt),_(gt)}if(et=ct(s),et){const gt=lt(et);return _(gt)}if(et=h("filename","i").exec(s),et){et=et[1];let gt=ut(et);return gt=lt(gt),_(gt)}function h(gt,mt){return new RegExp("(?:^|;)\\s*"+gt+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',mt)}function _e(gt,mt){if(gt){if(!/^[\x00-\xFF]+$/.test(mt))return mt;try{const j=new TextDecoder(gt,{fatal:!0}),b=(0,o.stringToBytes)(mt);mt=j.decode(b),d=!1}catch{}}return mt}function _(gt){return d&&/[\x80-\xff]/.test(gt)&&(gt=_e("utf-8",gt),d&&(gt=_e("iso-8859-1",gt))),gt}function ct(gt){const mt=[];let j;const b=h("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(j=b.exec(gt))!==null;){let[,pt,nt,$]=j;if(pt=parseInt(pt,10),pt in mt){if(pt===0)break;continue}mt[pt]=[nt,$]}const ft=[];for(let pt=0;pt<mt.length&&pt in mt;++pt){let[nt,$]=mt[pt];$=ut($),nt&&($=unescape($),pt===0&&($=ot($))),ft.push($)}return ft.join("")}function ut(gt){if(gt.startsWith('"')){const mt=gt.slice(1).split('\\"');for(let j=0;j<mt.length;++j){const b=mt[j].indexOf('"');b!==-1&&(mt[j]=mt[j].slice(0,b),mt.length=j+1),mt[j]=mt[j].replaceAll(/\\(.)/g,"$1")}gt=mt.join('"')}return gt}function ot(gt){const mt=gt.indexOf("'");if(mt===-1)return gt;const j=gt.slice(0,mt),ft=gt.slice(mt+1).replace(/^[^']*'/,"");return _e(j,ft)}function lt(gt){return!gt.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(gt)?gt:gt.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(mt,j,b,ft){if(b==="q"||b==="Q")return ft=ft.replaceAll("_"," "),ft=ft.replaceAll(/=([0-9a-fA-F]{2})/g,function(pt,nt){return String.fromCharCode(parseInt(nt,16))}),_e(j,ft);try{ft=atob(ft)}catch{}return _e(j,ft)})}return""}},(e,i,a)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.PDFNetworkStream=void 0;var o=a(1),c=a(20);const s=200,d=206;function et(ut){const ot=ut.response;return typeof ot!="string"?ot:(0,o.stringToBytes)(ot).buffer}class h{constructor(ot,lt={}){this.url=ot,this.isHttp=/^https?:/i.test(ot),this.httpHeaders=this.isHttp&&lt.httpHeaders||Object.create(null),this.withCredentials=lt.withCredentials||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(ot,lt,gt){const mt={begin:ot,end:lt};for(const j in gt)mt[j]=gt[j];return this.request(mt)}requestFull(ot){return this.request(ot)}request(ot){const lt=new XMLHttpRequest,gt=this.currXhrId++,mt=this.pendingRequests[gt]={xhr:lt};lt.open("GET",this.url),lt.withCredentials=this.withCredentials;for(const j in this.httpHeaders){const b=this.httpHeaders[j];b!==void 0&&lt.setRequestHeader(j,b)}return this.isHttp&&"begin"in ot&&"end"in ot?(lt.setRequestHeader("Range",`bytes=${ot.begin}-${ot.end-1}`),mt.expectedStatus=d):mt.expectedStatus=s,lt.responseType="arraybuffer",ot.onError&&(lt.onerror=function(j){ot.onError(lt.status)}),lt.onreadystatechange=this.onStateChange.bind(this,gt),lt.onprogress=this.onProgress.bind(this,gt),mt.onHeadersReceived=ot.onHeadersReceived,mt.onDone=ot.onDone,mt.onError=ot.onError,mt.onProgress=ot.onProgress,lt.send(null),gt}onProgress(ot,lt){var mt;const gt=this.pendingRequests[ot];gt&&((mt=gt.onProgress)==null||mt.call(gt,lt))}onStateChange(ot,lt){var pt,nt,$;const gt=this.pendingRequests[ot];if(!gt)return;const mt=gt.xhr;if(mt.readyState>=2&&gt.onHeadersReceived&&(gt.onHeadersReceived(),delete gt.onHeadersReceived),mt.readyState!==4||!(ot in this.pendingRequests))return;if(delete this.pendingRequests[ot],mt.status===0&&this.isHttp){(pt=gt.onError)==null||pt.call(gt,mt.status);return}const j=mt.status||s;if(!(j===s&&gt.expectedStatus===d)&&j!==gt.expectedStatus){(nt=gt.onError)==null||nt.call(gt,mt.status);return}const ft=et(mt);if(j===d){const rt=mt.getResponseHeader("Content-Range"),it=/bytes (\d+)-(\d+)\/(\d+)/.exec(rt);gt.onDone({begin:parseInt(it[1],10),chunk:ft})}else ft?gt.onDone({begin:0,chunk:ft}):($=gt.onError)==null||$.call(gt,mt.status)}getRequestXhr(ot){return this.pendingRequests[ot].xhr}isPendingRequest(ot){return ot in this.pendingRequests}abortRequest(ot){const lt=this.pendingRequests[ot].xhr;delete this.pendingRequests[ot],lt.abort()}}class _e{constructor(ot){this._source=ot,this._manager=new h(ot.url,{httpHeaders:ot.httpHeaders,withCredentials:ot.withCredentials}),this._rangeChunkSize=ot.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(ot){const lt=this._rangeRequestReaders.indexOf(ot);lt>=0&&this._rangeRequestReaders.splice(lt,1)}getFullReader(){return(0,o.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new _(this._manager,this._source),this._fullRequestReader}getRangeReader(ot,lt){const gt=new ct(this._manager,ot,lt);return gt.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(gt),gt}cancelAllRequests(ot){var lt;(lt=this._fullRequestReader)==null||lt.cancel(ot);for(const gt of this._rangeRequestReaders.slice(0))gt.cancel(ot)}}i.PDFNetworkStream=_e;class _{constructor(ot,lt){this._manager=ot;const gt={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=lt.url,this._fullRequestId=ot.requestFull(gt),this._headersReceivedCapability=new o.PromiseCapability,this._disableRange=lt.disableRange||!1,this._contentLength=lt.length,this._rangeChunkSize=lt.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const ot=this._fullRequestId,lt=this._manager.getRequestXhr(ot),gt=b=>lt.getResponseHeader(b),{allowRangeRequests:mt,suggestedLength:j}=(0,c.validateRangeRequestCapabilities)({getResponseHeader:gt,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});mt&&(this._isRangeSupported=!0),this._contentLength=j||this._contentLength,this._filename=(0,c.extractFilenameFromHeader)(gt),this._isRangeSupported&&this._manager.abortRequest(ot),this._headersReceivedCapability.resolve()}_onDone(ot){if(ot&&(this._requests.length>0?this._requests.shift().resolve({value:ot.chunk,done:!1}):this._cachedChunks.push(ot.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const lt of this._requests)lt.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(ot){this._storedError=(0,c.createResponseStatusError)(ot,this._url),this._headersReceivedCapability.reject(this._storedError);for(const lt of this._requests)lt.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(ot){var lt;(lt=this.onProgress)==null||lt.call(this,{loaded:ot.loaded,total:ot.lengthComputable?ot.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const ot=new o.PromiseCapability;return this._requests.push(ot),ot.promise}cancel(ot){this._done=!0,this._headersReceivedCapability.reject(ot);for(const lt of this._requests)lt.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class ct{constructor(ot,lt,gt){this._manager=ot;const mt={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=ot.url,this._requestId=ot.requestRange(lt,gt,mt),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var ot;(ot=this.onClosed)==null||ot.call(this,this)}_onDone(ot){const lt=ot.chunk;this._requests.length>0?this._requests.shift().resolve({value:lt,done:!1}):this._queuedChunk=lt,this._done=!0;for(const gt of this._requests)gt.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(ot){this._storedError=(0,c.createResponseStatusError)(ot,this._url);for(const lt of this._requests)lt.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(ot){var lt;this.isStreamingSupported||(lt=this.onProgress)==null||lt.call(this,{loaded:ot.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const lt=this._queuedChunk;return this._queuedChunk=null,{value:lt,done:!1}}if(this._done)return{value:void 0,done:!0};const ot=new o.PromiseCapability;return this._requests.push(ot),ot.promise}cancel(ot){this._done=!0;for(const lt of this._requests)lt.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}},(e,i,a)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.PDFNodeStream=void 0;var o=a(1),c=a(20);const s=/^file:\/\/\/[a-zA-Z]:\//;function d(gt){const mt=require$$5,j=mt.parse(gt);return j.protocol==="file:"||j.host?j:/^[a-z]:[/\\]/i.test(gt)?mt.parse(`file:///${gt}`):(j.host||(j.protocol="file:"),j)}class et{constructor(mt){this.source=mt,this.url=d(mt.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.httpHeaders=this.isHttp&&mt.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var mt;return((mt=this._fullRequestReader)==null?void 0:mt._loaded)??0}getFullReader(){return(0,o.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new ot(this):new ct(this),this._fullRequestReader}getRangeReader(mt,j){if(j<=this._progressiveDataLength)return null;const b=this.isFsUrl?new lt(this,mt,j):new ut(this,mt,j);return this._rangeRequestReaders.push(b),b}cancelAllRequests(mt){var j;(j=this._fullRequestReader)==null||j.cancel(mt);for(const b of this._rangeRequestReaders.slice(0))b.cancel(mt)}}i.PDFNodeStream=et;class h{constructor(mt){this._url=mt.url,this._done=!1,this._storedError=null,this.onProgress=null;const j=mt.source;this._contentLength=j.length,this._loaded=0,this._filename=null,this._disableRange=j.disableRange||!1,this._rangeChunkSize=j.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!j.disableStream,this._isRangeSupported=!j.disableRange,this._readableStream=null,this._readCapability=new o.PromiseCapability,this._headersCapability=new o.PromiseCapability}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var b;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const mt=this._readableStream.read();return mt===null?(this._readCapability=new o.PromiseCapability,this.read()):(this._loaded+=mt.length,(b=this.onProgress)==null||b.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(mt).buffer,done:!1})}cancel(mt){if(!this._readableStream){this._error(mt);return}this._readableStream.destroy(mt)}_error(mt){this._storedError=mt,this._readCapability.resolve()}_setReadableStream(mt){this._readableStream=mt,mt.on("readable",()=>{this._readCapability.resolve()}),mt.on("end",()=>{mt.destroy(),this._done=!0,this._readCapability.resolve()}),mt.on("error",j=>{this._error(j)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new o.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class _e{constructor(mt){this._url=mt.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=new o.PromiseCapability;const j=mt.source;this._isStreamingSupported=!j.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){var b;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const mt=this._readableStream.read();return mt===null?(this._readCapability=new o.PromiseCapability,this.read()):(this._loaded+=mt.length,(b=this.onProgress)==null||b.call(this,{loaded:this._loaded}),{value:new Uint8Array(mt).buffer,done:!1})}cancel(mt){if(!this._readableStream){this._error(mt);return}this._readableStream.destroy(mt)}_error(mt){this._storedError=mt,this._readCapability.resolve()}_setReadableStream(mt){this._readableStream=mt,mt.on("readable",()=>{this._readCapability.resolve()}),mt.on("end",()=>{mt.destroy(),this._done=!0,this._readCapability.resolve()}),mt.on("error",j=>{this._error(j)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function _(gt,mt){return{protocol:gt.protocol,auth:gt.auth,host:gt.hostname,port:gt.port,path:gt.path,method:"GET",headers:mt}}class ct extends h{constructor(mt){super(mt);const j=b=>{if(b.statusCode===404){const $=new o.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=$,this._headersCapability.reject($);return}this._headersCapability.resolve(),this._setReadableStream(b);const ft=$=>this._readableStream.headers[$.toLowerCase()],{allowRangeRequests:pt,suggestedLength:nt}=(0,c.validateRangeRequestCapabilities)({getResponseHeader:ft,isHttp:mt.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=pt,this._contentLength=nt||this._contentLength,this._filename=(0,c.extractFilenameFromHeader)(ft)};if(this._request=null,this._url.protocol==="http:"){const b=require$$5;this._request=b.request(_(this._url,mt.httpHeaders),j)}else{const b=require$$5;this._request=b.request(_(this._url,mt.httpHeaders),j)}this._request.on("error",b=>{this._storedError=b,this._headersCapability.reject(b)}),this._request.end()}}class ut extends _e{constructor(mt,j,b){super(mt),this._httpHeaders={};for(const pt in mt.httpHeaders){const nt=mt.httpHeaders[pt];nt!==void 0&&(this._httpHeaders[pt]=nt)}this._httpHeaders.Range=`bytes=${j}-${b-1}`;const ft=pt=>{if(pt.statusCode===404){const nt=new o.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=nt;return}this._setReadableStream(pt)};if(this._request=null,this._url.protocol==="http:"){const pt=require$$5;this._request=pt.request(_(this._url,this._httpHeaders),ft)}else{const pt=require$$5;this._request=pt.request(_(this._url,this._httpHeaders),ft)}this._request.on("error",pt=>{this._storedError=pt}),this._request.end()}}class ot extends h{constructor(mt){super(mt);let j=decodeURIComponent(this._url.path);s.test(this._url.href)&&(j=j.replace(/^\//,""));const b=require$$5;b.lstat(j,(ft,pt)=>{if(ft){ft.code==="ENOENT"&&(ft=new o.MissingPDFException(`Missing PDF "${j}".`)),this._storedError=ft,this._headersCapability.reject(ft);return}this._contentLength=pt.size,this._setReadableStream(b.createReadStream(j)),this._headersCapability.resolve()})}}class lt extends _e{constructor(mt,j,b){super(mt);let ft=decodeURIComponent(this._url.path);s.test(this._url.href)&&(ft=ft.replace(/^\//,""));const pt=require$$5;this._setReadableStream(pt.createReadStream(ft,{start:j,end:b-1}))}}},(e,i,a)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.SVGGraphics=void 0;var o=a(6),c=a(1);const s={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},d="http://www.w3.org/XML/1998/namespace",et="http://www.w3.org/1999/xlink",h=["butt","round","square"],_e=["miter","round","bevel"],_=function(pt,nt="",$=!1){if(URL.createObjectURL&&typeof Blob<"u"&&!$)return URL.createObjectURL(new Blob([pt],{type:nt}));const rt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let it=`data:${nt};base64,`;for(let dt=0,At=pt.length;dt<At;dt+=3){const ht=pt[dt]&255,St=pt[dt+1]&255,Rt=pt[dt+2]&255,Jt=ht>>2,Ut=(ht&3)<<4|St>>4,Yt=dt+1<At?(St&15)<<2|Rt>>6:64,Nt=dt+2<At?Rt&63:64;it+=rt[Jt]+rt[Ut]+rt[Yt]+rt[Nt]}return it},ct=function(){const pt=new Uint8Array([137,80,78,71,13,10,26,10]),nt=12,$=new Int32Array(256);for(let Rt=0;Rt<256;Rt++){let Jt=Rt;for(let Ut=0;Ut<8;Ut++)Jt=Jt&1?3988292384^Jt>>1&2147483647:Jt>>1&2147483647;$[Rt]=Jt}function rt(Rt,Jt,Ut){let Yt=-1;for(let Nt=Jt;Nt<Ut;Nt++){const Bt=(Yt^Rt[Nt])&255,wt=$[Bt];Yt=Yt>>>8^wt}return Yt^-1}function it(Rt,Jt,Ut,Yt){let Nt=Yt;const Bt=Jt.length;Ut[Nt]=Bt>>24&255,Ut[Nt+1]=Bt>>16&255,Ut[Nt+2]=Bt>>8&255,Ut[Nt+3]=Bt&255,Nt+=4,Ut[Nt]=Rt.charCodeAt(0)&255,Ut[Nt+1]=Rt.charCodeAt(1)&255,Ut[Nt+2]=Rt.charCodeAt(2)&255,Ut[Nt+3]=Rt.charCodeAt(3)&255,Nt+=4,Ut.set(Jt,Nt),Nt+=Jt.length;const wt=rt(Ut,Yt+4,Nt);Ut[Nt]=wt>>24&255,Ut[Nt+1]=wt>>16&255,Ut[Nt+2]=wt>>8&255,Ut[Nt+3]=wt&255}function dt(Rt,Jt,Ut){let Yt=1,Nt=0;for(let Bt=Jt;Bt<Ut;++Bt)Yt=(Yt+(Rt[Bt]&255))%65521,Nt=(Nt+Yt)%65521;return Nt<<16|Yt}function At(Rt){if(!c.isNodeJS)return ht(Rt);try{const Jt=parseInt(process.versions.node)>=8?Rt:Buffer.from(Rt),Ut=require$$5.deflateSync(Jt,{level:9});return Ut instanceof Uint8Array?Ut:new Uint8Array(Ut)}catch(Jt){(0,c.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+Jt)}return ht(Rt)}function ht(Rt){let Jt=Rt.length;const Ut=65535,Yt=Math.ceil(Jt/Ut),Nt=new Uint8Array(2+Jt+Yt*5+4);let Bt=0;Nt[Bt++]=120,Nt[Bt++]=156;let wt=0;for(;Jt>Ut;)Nt[Bt++]=0,Nt[Bt++]=255,Nt[Bt++]=255,Nt[Bt++]=0,Nt[Bt++]=0,Nt.set(Rt.subarray(wt,wt+Ut),Bt),Bt+=Ut,wt+=Ut,Jt-=Ut;Nt[Bt++]=1,Nt[Bt++]=Jt&255,Nt[Bt++]=Jt>>8&255,Nt[Bt++]=~Jt&65535&255,Nt[Bt++]=(~Jt&65535)>>8&255,Nt.set(Rt.subarray(wt),Bt),Bt+=Rt.length-wt;const Lt=dt(Rt,0,Rt.length);return Nt[Bt++]=Lt>>24&255,Nt[Bt++]=Lt>>16&255,Nt[Bt++]=Lt>>8&255,Nt[Bt++]=Lt&255,Nt}function St(Rt,Jt,Ut,Yt){const Nt=Rt.width,Bt=Rt.height;let wt,Lt,$t;const bt=Rt.data;switch(Jt){case c.ImageKind.GRAYSCALE_1BPP:Lt=0,wt=1,$t=Nt+7>>3;break;case c.ImageKind.RGB_24BPP:Lt=2,wt=8,$t=Nt*3;break;case c.ImageKind.RGBA_32BPP:Lt=6,wt=8,$t=Nt*4;break;default:throw new Error("invalid format")}const at=new Uint8Array((1+$t)*Bt);let st=0,yt=0;for(let hn=0;hn<Bt;++hn)at[st++]=0,at.set(bt.subarray(yt,yt+$t),st),yt+=$t,st+=$t;if(Jt===c.ImageKind.GRAYSCALE_1BPP&&Yt){st=0;for(let hn=0;hn<Bt;hn++){st++;for(let fn=0;fn<$t;fn++)at[st++]^=255}}const Pt=new Uint8Array([Nt>>24&255,Nt>>16&255,Nt>>8&255,Nt&255,Bt>>24&255,Bt>>16&255,Bt>>8&255,Bt&255,wt,Lt,0,0,0]),Tt=At(at),Mt=pt.length+nt*3+Pt.length+Tt.length,Gt=new Uint8Array(Mt);let un=0;return Gt.set(pt,un),un+=pt.length,it("IHDR",Pt,Gt,un),un+=nt+Pt.length,it("IDATA",Tt,Gt,un),un+=nt+Tt.length,it("IEND",new Uint8Array(0),Gt,un),_(Gt,"image/png",Ut)}return function(Jt,Ut,Yt){const Nt=Jt.kind===void 0?c.ImageKind.GRAYSCALE_1BPP:Jt.kind;return St(Jt,Nt,Ut,Yt)}}();class ut{constructor(){this.fontSizeScale=1,this.fontWeight=s.fontWeight,this.fontSize=0,this.textMatrix=c.IDENTITY_MATRIX,this.fontMatrix=c.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=c.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=s.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}clone(){return Object.create(this)}setCurrentPoint(nt,$){this.x=nt,this.y=$}}function ot(pt){let nt=[];const $=[];for(const rt of pt){if(rt.fn==="save"){nt.push({fnId:92,fn:"group",items:[]}),$.push(nt),nt=nt.at(-1).items;continue}rt.fn==="restore"?nt=$.pop():nt.push(rt)}return nt}function lt(pt){if(Number.isInteger(pt))return pt.toString();const nt=pt.toFixed(10);let $=nt.length-1;if(nt[$]!=="0")return nt;do $--;while(nt[$]==="0");return nt.substring(0,nt[$]==="."?$:$+1)}function gt(pt){if(pt[4]===0&&pt[5]===0){if(pt[1]===0&&pt[2]===0)return pt[0]===1&&pt[3]===1?"":`scale(${lt(pt[0])} ${lt(pt[3])})`;if(pt[0]===pt[3]&&pt[1]===-pt[2]){const nt=Math.acos(pt[0])*180/Math.PI;return`rotate(${lt(nt)})`}}else if(pt[0]===1&&pt[1]===0&&pt[2]===0&&pt[3]===1)return`translate(${lt(pt[4])} ${lt(pt[5])})`;return`matrix(${lt(pt[0])} ${lt(pt[1])} ${lt(pt[2])} ${lt(pt[3])} ${lt(pt[4])} ${lt(pt[5])})`}let mt=0,j=0,b=0;class ft{constructor(nt,$,rt=!1){(0,o.deprecated)("The SVG back-end is no longer maintained and *may* be removed in the future."),this.svgFactory=new o.DOMSVGFactory,this.current=new ut,this.transformMatrix=c.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=nt,this.objs=$,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!rt,this._operatorIdMapping=[];for(const it in c.OPS)this._operatorIdMapping[c.OPS[it]]=it}getObject(nt,$=null){return typeof nt=="string"?nt.startsWith("g_")?this.commonObjs.get(nt):this.objs.get(nt):$}save(){this.transformStack.push(this.transformMatrix);const nt=this.current;this.extraStack.push(nt),this.current=nt.clone()}restore(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}group(nt){this.save(),this.executeOpTree(nt),this.restore()}loadDependencies(nt){const $=nt.fnArray,rt=nt.argsArray;for(let it=0,dt=$.length;it<dt;it++)if($[it]===c.OPS.dependency)for(const At of rt[it]){const ht=At.startsWith("g_")?this.commonObjs:this.objs,St=new Promise(Rt=>{ht.get(At,Rt)});this.current.dependencies.push(St)}return Promise.all(this.current.dependencies)}transform(nt,$,rt,it,dt,At){const ht=[nt,$,rt,it,dt,At];this.transformMatrix=c.Util.transform(this.transformMatrix,ht),this.tgrp=null}getSVG(nt,$){this.viewport=$;const rt=this._initialize($);return this.loadDependencies(nt).then(()=>(this.transformMatrix=c.IDENTITY_MATRIX,this.executeOpTree(this.convertOpList(nt)),rt))}convertOpList(nt){const $=this._operatorIdMapping,rt=nt.argsArray,it=nt.fnArray,dt=[];for(let At=0,ht=it.length;At<ht;At++){const St=it[At];dt.push({fnId:St,fn:$[St],args:rt[At]})}return ot(dt)}executeOpTree(nt){for(const $ of nt){const rt=$.fn,it=$.fnId,dt=$.args;switch(it|0){case c.OPS.beginText:this.beginText();break;case c.OPS.dependency:break;case c.OPS.setLeading:this.setLeading(dt);break;case c.OPS.setLeadingMoveText:this.setLeadingMoveText(dt[0],dt[1]);break;case c.OPS.setFont:this.setFont(dt);break;case c.OPS.showText:this.showText(dt[0]);break;case c.OPS.showSpacedText:this.showText(dt[0]);break;case c.OPS.endText:this.endText();break;case c.OPS.moveText:this.moveText(dt[0],dt[1]);break;case c.OPS.setCharSpacing:this.setCharSpacing(dt[0]);break;case c.OPS.setWordSpacing:this.setWordSpacing(dt[0]);break;case c.OPS.setHScale:this.setHScale(dt[0]);break;case c.OPS.setTextMatrix:this.setTextMatrix(dt[0],dt[1],dt[2],dt[3],dt[4],dt[5]);break;case c.OPS.setTextRise:this.setTextRise(dt[0]);break;case c.OPS.setTextRenderingMode:this.setTextRenderingMode(dt[0]);break;case c.OPS.setLineWidth:this.setLineWidth(dt[0]);break;case c.OPS.setLineJoin:this.setLineJoin(dt[0]);break;case c.OPS.setLineCap:this.setLineCap(dt[0]);break;case c.OPS.setMiterLimit:this.setMiterLimit(dt[0]);break;case c.OPS.setFillRGBColor:this.setFillRGBColor(dt[0],dt[1],dt[2]);break;case c.OPS.setStrokeRGBColor:this.setStrokeRGBColor(dt[0],dt[1],dt[2]);break;case c.OPS.setStrokeColorN:this.setStrokeColorN(dt);break;case c.OPS.setFillColorN:this.setFillColorN(dt);break;case c.OPS.shadingFill:this.shadingFill(dt[0]);break;case c.OPS.setDash:this.setDash(dt[0],dt[1]);break;case c.OPS.setRenderingIntent:this.setRenderingIntent(dt[0]);break;case c.OPS.setFlatness:this.setFlatness(dt[0]);break;case c.OPS.setGState:this.setGState(dt[0]);break;case c.OPS.fill:this.fill();break;case c.OPS.eoFill:this.eoFill();break;case c.OPS.stroke:this.stroke();break;case c.OPS.fillStroke:this.fillStroke();break;case c.OPS.eoFillStroke:this.eoFillStroke();break;case c.OPS.clip:this.clip("nonzero");break;case c.OPS.eoClip:this.clip("evenodd");break;case c.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case c.OPS.paintImageXObject:this.paintImageXObject(dt[0]);break;case c.OPS.paintInlineImageXObject:this.paintInlineImageXObject(dt[0]);break;case c.OPS.paintImageMaskXObject:this.paintImageMaskXObject(dt[0]);break;case c.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(dt[0],dt[1]);break;case c.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case c.OPS.closePath:this.closePath();break;case c.OPS.closeStroke:this.closeStroke();break;case c.OPS.closeFillStroke:this.closeFillStroke();break;case c.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case c.OPS.nextLine:this.nextLine();break;case c.OPS.transform:this.transform(dt[0],dt[1],dt[2],dt[3],dt[4],dt[5]);break;case c.OPS.constructPath:this.constructPath(dt[0],dt[1]);break;case c.OPS.endPath:this.endPath();break;case 92:this.group($.items);break;default:(0,c.warn)(`Unimplemented operator ${rt}`);break}}}setWordSpacing(nt){this.current.wordSpacing=nt}setCharSpacing(nt){this.current.charSpacing=nt}nextLine(){this.moveText(0,this.current.leading)}setTextMatrix(nt,$,rt,it,dt,At){const ht=this.current;ht.textMatrix=ht.lineMatrix=[nt,$,rt,it,dt,At],ht.textMatrixScale=Math.hypot(nt,$),ht.x=ht.lineX=0,ht.y=ht.lineY=0,ht.xcoords=[],ht.ycoords=[],ht.tspan=this.svgFactory.createElement("svg:tspan"),ht.tspan.setAttributeNS(null,"font-family",ht.fontFamily),ht.tspan.setAttributeNS(null,"font-size",`${lt(ht.fontSize)}px`),ht.tspan.setAttributeNS(null,"y",lt(-ht.y)),ht.txtElement=this.svgFactory.createElement("svg:text"),ht.txtElement.append(ht.tspan)}beginText(){const nt=this.current;nt.x=nt.lineX=0,nt.y=nt.lineY=0,nt.textMatrix=c.IDENTITY_MATRIX,nt.lineMatrix=c.IDENTITY_MATRIX,nt.textMatrixScale=1,nt.tspan=this.svgFactory.createElement("svg:tspan"),nt.txtElement=this.svgFactory.createElement("svg:text"),nt.txtgrp=this.svgFactory.createElement("svg:g"),nt.xcoords=[],nt.ycoords=[]}moveText(nt,$){const rt=this.current;rt.x=rt.lineX+=nt,rt.y=rt.lineY+=$,rt.xcoords=[],rt.ycoords=[],rt.tspan=this.svgFactory.createElement("svg:tspan"),rt.tspan.setAttributeNS(null,"font-family",rt.fontFamily),rt.tspan.setAttributeNS(null,"font-size",`${lt(rt.fontSize)}px`),rt.tspan.setAttributeNS(null,"y",lt(-rt.y))}showText(nt){const $=this.current,rt=$.font,it=$.fontSize;if(it===0)return;const dt=$.fontSizeScale,At=$.charSpacing,ht=$.wordSpacing,St=$.fontDirection,Rt=$.textHScale*St,Jt=rt.vertical,Ut=Jt?1:-1,Yt=rt.defaultVMetrics,Nt=it*$.fontMatrix[0];let Bt=0;for(const $t of nt){if($t===null){Bt+=St*ht;continue}else if(typeof $t=="number"){Bt+=Ut*$t*it/1e3;continue}const bt=($t.isSpace?ht:0)+At,at=$t.fontChar;let st,yt,Pt=$t.width;if(Jt){let Mt;const Gt=$t.vmetric||Yt;Mt=$t.vmetric?Gt[1]:Pt*.5,Mt=-Mt*Nt;const un=Gt[2]*Nt;Pt=Gt?-Gt[0]:Pt,st=Mt/dt,yt=(Bt+un)/dt}else st=Bt/dt,yt=0;($t.isInFont||rt.missingFile)&&($.xcoords.push($.x+st),Jt&&$.ycoords.push(-$.y+yt),$.tspan.textContent+=at);const Tt=Jt?Pt*Nt-bt*St:Pt*Nt+bt*St;Bt+=Tt}$.tspan.setAttributeNS(null,"x",$.xcoords.map(lt).join(" ")),Jt?$.tspan.setAttributeNS(null,"y",$.ycoords.map(lt).join(" ")):$.tspan.setAttributeNS(null,"y",lt(-$.y)),Jt?$.y-=Bt:$.x+=Bt*Rt,$.tspan.setAttributeNS(null,"font-family",$.fontFamily),$.tspan.setAttributeNS(null,"font-size",`${lt($.fontSize)}px`),$.fontStyle!==s.fontStyle&&$.tspan.setAttributeNS(null,"font-style",$.fontStyle),$.fontWeight!==s.fontWeight&&$.tspan.setAttributeNS(null,"font-weight",$.fontWeight);const wt=$.textRenderingMode&c.TextRenderingMode.FILL_STROKE_MASK;if(wt===c.TextRenderingMode.FILL||wt===c.TextRenderingMode.FILL_STROKE?($.fillColor!==s.fillColor&&$.tspan.setAttributeNS(null,"fill",$.fillColor),$.fillAlpha<1&&$.tspan.setAttributeNS(null,"fill-opacity",$.fillAlpha)):$.textRenderingMode===c.TextRenderingMode.ADD_TO_PATH?$.tspan.setAttributeNS(null,"fill","transparent"):$.tspan.setAttributeNS(null,"fill","none"),wt===c.TextRenderingMode.STROKE||wt===c.TextRenderingMode.FILL_STROKE){const $t=1/($.textMatrixScale||1);this._setStrokeAttributes($.tspan,$t)}let Lt=$.textMatrix;$.textRise!==0&&(Lt=Lt.slice(),Lt[5]+=$.textRise),$.txtElement.setAttributeNS(null,"transform",`${gt(Lt)} scale(${lt(Rt)}, -1)`),$.txtElement.setAttributeNS(d,"xml:space","preserve"),$.txtElement.append($.tspan),$.txtgrp.append($.txtElement),this._ensureTransformGroup().append($.txtElement)}setLeadingMoveText(nt,$){this.setLeading(-$),this.moveText(nt,$)}addFontStyle(nt){if(!nt.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.append(this.cssStyle));const $=_(nt.data,nt.mimetype,this.forceDataSchema);this.cssStyle.textContent+=`@font-face { font-family: "${nt.loadedName}"; src: url(${$}); }
`}setFont(nt){const $=this.current,rt=this.commonObjs.get(nt[0]);let it=nt[1];$.font=rt,this.embedFonts&&!rt.missingFile&&!this.embeddedFonts[rt.loadedName]&&(this.addFontStyle(rt),this.embeddedFonts[rt.loadedName]=rt),$.fontMatrix=rt.fontMatrix||c.FONT_IDENTITY_MATRIX;let dt="normal";rt.black?dt="900":rt.bold&&(dt="bold");const At=rt.italic?"italic":"normal";it<0?(it=-it,$.fontDirection=-1):$.fontDirection=1,$.fontSize=it,$.fontFamily=rt.loadedName,$.fontWeight=dt,$.fontStyle=At,$.tspan=this.svgFactory.createElement("svg:tspan"),$.tspan.setAttributeNS(null,"y",lt(-$.y)),$.xcoords=[],$.ycoords=[]}endText(){var $;const nt=this.current;nt.textRenderingMode&c.TextRenderingMode.ADD_TO_PATH_FLAG&&(($=nt.txtElement)!=null&&$.hasChildNodes())&&(nt.element=nt.txtElement,this.clip("nonzero"),this.endPath())}setLineWidth(nt){nt>0&&(this.current.lineWidth=nt)}setLineCap(nt){this.current.lineCap=h[nt]}setLineJoin(nt){this.current.lineJoin=_e[nt]}setMiterLimit(nt){this.current.miterLimit=nt}setStrokeAlpha(nt){this.current.strokeAlpha=nt}setStrokeRGBColor(nt,$,rt){this.current.strokeColor=c.Util.makeHexColor(nt,$,rt)}setFillAlpha(nt){this.current.fillAlpha=nt}setFillRGBColor(nt,$,rt){this.current.fillColor=c.Util.makeHexColor(nt,$,rt),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}setStrokeColorN(nt){this.current.strokeColor=this._makeColorN_Pattern(nt)}setFillColorN(nt){this.current.fillColor=this._makeColorN_Pattern(nt)}shadingFill(nt){const{width:$,height:rt}=this.viewport,it=c.Util.inverseTransform(this.transformMatrix),[dt,At,ht,St]=c.Util.getAxialAlignedBoundingBox([0,0,$,rt],it),Rt=this.svgFactory.createElement("svg:rect");Rt.setAttributeNS(null,"x",dt),Rt.setAttributeNS(null,"y",At),Rt.setAttributeNS(null,"width",ht-dt),Rt.setAttributeNS(null,"height",St-At),Rt.setAttributeNS(null,"fill",this._makeShadingPattern(nt)),this.current.fillAlpha<1&&Rt.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().append(Rt)}_makeColorN_Pattern(nt){return nt[0]==="TilingPattern"?this._makeTilingPattern(nt):this._makeShadingPattern(nt)}_makeTilingPattern(nt){const $=nt[1],rt=nt[2],it=nt[3]||c.IDENTITY_MATRIX,[dt,At,ht,St]=nt[4],Rt=nt[5],Jt=nt[6],Ut=nt[7],Yt=`shading${b++}`,[Nt,Bt,wt,Lt]=c.Util.normalizeRect([...c.Util.applyTransform([dt,At],it),...c.Util.applyTransform([ht,St],it)]),[$t,bt]=c.Util.singularValueDecompose2dScale(it),at=Rt*$t,st=Jt*bt,yt=this.svgFactory.createElement("svg:pattern");yt.setAttributeNS(null,"id",Yt),yt.setAttributeNS(null,"patternUnits","userSpaceOnUse"),yt.setAttributeNS(null,"width",at),yt.setAttributeNS(null,"height",st),yt.setAttributeNS(null,"x",`${Nt}`),yt.setAttributeNS(null,"y",`${Bt}`);const Pt=this.svg,Tt=this.transformMatrix,Mt=this.current.fillColor,Gt=this.current.strokeColor,un=this.svgFactory.create(wt-Nt,Lt-Bt);if(this.svg=un,this.transformMatrix=it,Ut===2){const hn=c.Util.makeHexColor(...$);this.current.fillColor=hn,this.current.strokeColor=hn}return this.executeOpTree(this.convertOpList(rt)),this.svg=Pt,this.transformMatrix=Tt,this.current.fillColor=Mt,this.current.strokeColor=Gt,yt.append(un.childNodes[0]),this.defs.append(yt),`url(#${Yt})`}_makeShadingPattern(nt){switch(typeof nt=="string"&&(nt=this.objs.get(nt)),nt[0]){case"RadialAxial":const $=`shading${b++}`,rt=nt[3];let it;switch(nt[1]){case"axial":const dt=nt[4],At=nt[5];it=this.svgFactory.createElement("svg:linearGradient"),it.setAttributeNS(null,"id",$),it.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),it.setAttributeNS(null,"x1",dt[0]),it.setAttributeNS(null,"y1",dt[1]),it.setAttributeNS(null,"x2",At[0]),it.setAttributeNS(null,"y2",At[1]);break;case"radial":const ht=nt[4],St=nt[5],Rt=nt[6],Jt=nt[7];it=this.svgFactory.createElement("svg:radialGradient"),it.setAttributeNS(null,"id",$),it.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),it.setAttributeNS(null,"cx",St[0]),it.setAttributeNS(null,"cy",St[1]),it.setAttributeNS(null,"r",Jt),it.setAttributeNS(null,"fx",ht[0]),it.setAttributeNS(null,"fy",ht[1]),it.setAttributeNS(null,"fr",Rt);break;default:throw new Error(`Unknown RadialAxial type: ${nt[1]}`)}for(const dt of rt){const At=this.svgFactory.createElement("svg:stop");At.setAttributeNS(null,"offset",dt[0]),At.setAttributeNS(null,"stop-color",dt[1]),it.append(At)}return this.defs.append(it),`url(#${$})`;case"Mesh":return(0,c.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error(`Unknown IR type: ${nt[0]}`)}}setDash(nt,$){this.current.dashArray=nt,this.current.dashPhase=$}constructPath(nt,$){const rt=this.current;let it=rt.x,dt=rt.y,At=[],ht=0;for(const St of nt)switch(St|0){case c.OPS.rectangle:it=$[ht++],dt=$[ht++];const Rt=$[ht++],Jt=$[ht++],Ut=it+Rt,Yt=dt+Jt;At.push("M",lt(it),lt(dt),"L",lt(Ut),lt(dt),"L",lt(Ut),lt(Yt),"L",lt(it),lt(Yt),"Z");break;case c.OPS.moveTo:it=$[ht++],dt=$[ht++],At.push("M",lt(it),lt(dt));break;case c.OPS.lineTo:it=$[ht++],dt=$[ht++],At.push("L",lt(it),lt(dt));break;case c.OPS.curveTo:it=$[ht+4],dt=$[ht+5],At.push("C",lt($[ht]),lt($[ht+1]),lt($[ht+2]),lt($[ht+3]),lt(it),lt(dt)),ht+=6;break;case c.OPS.curveTo2:At.push("C",lt(it),lt(dt),lt($[ht]),lt($[ht+1]),lt($[ht+2]),lt($[ht+3])),it=$[ht+2],dt=$[ht+3],ht+=4;break;case c.OPS.curveTo3:it=$[ht+2],dt=$[ht+3],At.push("C",lt($[ht]),lt($[ht+1]),lt(it),lt(dt),lt(it),lt(dt)),ht+=4;break;case c.OPS.closePath:At.push("Z");break}At=At.join(" "),rt.path&&nt.length>0&&nt[0]!==c.OPS.rectangle&&nt[0]!==c.OPS.moveTo?At=rt.path.getAttributeNS(null,"d")+At:(rt.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().append(rt.path)),rt.path.setAttributeNS(null,"d",At),rt.path.setAttributeNS(null,"fill","none"),rt.element=rt.path,rt.setCurrentPoint(it,dt)}endPath(){const nt=this.current;if(nt.path=null,!this.pendingClip)return;if(!nt.element){this.pendingClip=null;return}const $=`clippath${mt++}`,rt=this.svgFactory.createElement("svg:clipPath");rt.setAttributeNS(null,"id",$),rt.setAttributeNS(null,"transform",gt(this.transformMatrix));const it=nt.element.cloneNode(!0);if(this.pendingClip==="evenodd"?it.setAttributeNS(null,"clip-rule","evenodd"):it.setAttributeNS(null,"clip-rule","nonzero"),this.pendingClip=null,rt.append(it),this.defs.append(rt),nt.activeClipUrl){nt.clipGroup=null;for(const dt of this.extraStack)dt.clipGroup=null;rt.setAttributeNS(null,"clip-path",nt.activeClipUrl)}nt.activeClipUrl=`url(#${$})`,this.tgrp=null}clip(nt){this.pendingClip=nt}closePath(){const nt=this.current;if(nt.path){const $=`${nt.path.getAttributeNS(null,"d")}Z`;nt.path.setAttributeNS(null,"d",$)}}setLeading(nt){this.current.leading=-nt}setTextRise(nt){this.current.textRise=nt}setTextRenderingMode(nt){this.current.textRenderingMode=nt}setHScale(nt){this.current.textHScale=nt/100}setRenderingIntent(nt){}setFlatness(nt){}setGState(nt){for(const[$,rt]of nt)switch($){case"LW":this.setLineWidth(rt);break;case"LC":this.setLineCap(rt);break;case"LJ":this.setLineJoin(rt);break;case"ML":this.setMiterLimit(rt);break;case"D":this.setDash(rt[0],rt[1]);break;case"RI":this.setRenderingIntent(rt);break;case"FL":this.setFlatness(rt);break;case"Font":this.setFont(rt);break;case"CA":this.setStrokeAlpha(rt);break;case"ca":this.setFillAlpha(rt);break;default:(0,c.warn)(`Unimplemented graphic state operator ${$}`);break}}fill(){const nt=this.current;nt.element&&(nt.element.setAttributeNS(null,"fill",nt.fillColor),nt.element.setAttributeNS(null,"fill-opacity",nt.fillAlpha),this.endPath())}stroke(){const nt=this.current;nt.element&&(this._setStrokeAttributes(nt.element),nt.element.setAttributeNS(null,"fill","none"),this.endPath())}_setStrokeAttributes(nt,$=1){const rt=this.current;let it=rt.dashArray;$!==1&&it.length>0&&(it=it.map(function(dt){return $*dt})),nt.setAttributeNS(null,"stroke",rt.strokeColor),nt.setAttributeNS(null,"stroke-opacity",rt.strokeAlpha),nt.setAttributeNS(null,"stroke-miterlimit",lt(rt.miterLimit)),nt.setAttributeNS(null,"stroke-linecap",rt.lineCap),nt.setAttributeNS(null,"stroke-linejoin",rt.lineJoin),nt.setAttributeNS(null,"stroke-width",lt($*rt.lineWidth)+"px"),nt.setAttributeNS(null,"stroke-dasharray",it.map(lt).join(" ")),nt.setAttributeNS(null,"stroke-dashoffset",lt($*rt.dashPhase)+"px")}eoFill(){var nt;(nt=this.current.element)==null||nt.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}fillStroke(){this.stroke(),this.fill()}eoFillStroke(){var nt;(nt=this.current.element)==null||nt.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}closeStroke(){this.closePath(),this.stroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.closePath(),this.eoFillStroke()}paintSolidColorImageMask(){const nt=this.svgFactory.createElement("svg:rect");nt.setAttributeNS(null,"x","0"),nt.setAttributeNS(null,"y","0"),nt.setAttributeNS(null,"width","1px"),nt.setAttributeNS(null,"height","1px"),nt.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().append(nt)}paintImageXObject(nt){const $=this.getObject(nt);if(!$){(0,c.warn)(`Dependent image with object ID ${nt} is not ready yet`);return}this.paintInlineImageXObject($)}paintInlineImageXObject(nt,$){const rt=nt.width,it=nt.height,dt=ct(nt,this.forceDataSchema,!!$),At=this.svgFactory.createElement("svg:rect");At.setAttributeNS(null,"x","0"),At.setAttributeNS(null,"y","0"),At.setAttributeNS(null,"width",lt(rt)),At.setAttributeNS(null,"height",lt(it)),this.current.element=At,this.clip("nonzero");const ht=this.svgFactory.createElement("svg:image");ht.setAttributeNS(et,"xlink:href",dt),ht.setAttributeNS(null,"x","0"),ht.setAttributeNS(null,"y",lt(-it)),ht.setAttributeNS(null,"width",lt(rt)+"px"),ht.setAttributeNS(null,"height",lt(it)+"px"),ht.setAttributeNS(null,"transform",`scale(${lt(1/rt)} ${lt(-1/it)})`),$?$.append(ht):this._ensureTransformGroup().append(ht)}paintImageMaskXObject(nt){const $=this.getObject(nt.data,nt);if($.bitmap){(0,c.warn)("paintImageMaskXObject: ImageBitmap support is not implemented, ensure that the `isOffscreenCanvasSupported` API parameter is disabled.");return}const rt=this.current,it=$.width,dt=$.height,At=rt.fillColor;rt.maskId=`mask${j++}`;const ht=this.svgFactory.createElement("svg:mask");ht.setAttributeNS(null,"id",rt.maskId);const St=this.svgFactory.createElement("svg:rect");St.setAttributeNS(null,"x","0"),St.setAttributeNS(null,"y","0"),St.setAttributeNS(null,"width",lt(it)),St.setAttributeNS(null,"height",lt(dt)),St.setAttributeNS(null,"fill",At),St.setAttributeNS(null,"mask",`url(#${rt.maskId})`),this.defs.append(ht),this._ensureTransformGroup().append(St),this.paintInlineImageXObject($,ht)}paintFormXObjectBegin(nt,$){if(Array.isArray(nt)&&nt.length===6&&this.transform(nt[0],nt[1],nt[2],nt[3],nt[4],nt[5]),$){const rt=$[2]-$[0],it=$[3]-$[1],dt=this.svgFactory.createElement("svg:rect");dt.setAttributeNS(null,"x",$[0]),dt.setAttributeNS(null,"y",$[1]),dt.setAttributeNS(null,"width",lt(rt)),dt.setAttributeNS(null,"height",lt(it)),this.current.element=dt,this.clip("nonzero"),this.endPath()}}paintFormXObjectEnd(){}_initialize(nt){const $=this.svgFactory.create(nt.width,nt.height),rt=this.svgFactory.createElement("svg:defs");$.append(rt),this.defs=rt;const it=this.svgFactory.createElement("svg:g");return it.setAttributeNS(null,"transform",gt(nt.transform)),$.append(it),this.svg=it,$}_ensureClipGroup(){if(!this.current.clipGroup){const nt=this.svgFactory.createElement("svg:g");nt.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.append(nt),this.current.clipGroup=nt}return this.current.clipGroup}_ensureTransformGroup(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",gt(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().append(this.tgrp):this.svg.append(this.tgrp)),this.tgrp}}i.SVGGraphics=ft},(e,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.XfaText=void 0;class a{static textContent(c){const s=[],d={items:s,styles:Object.create(null)};function et(h){var ct;if(!h)return;let _e=null;const _=h.name;if(_==="#text")_e=h.value;else if(a.shouldBuildText(_))(ct=h==null?void 0:h.attributes)!=null&&ct.textContent?_e=h.attributes.textContent:h.value&&(_e=h.value);else return;if(_e!==null&&s.push({str:_e}),!!h.children)for(const ut of h.children)et(ut)}return et(c),d}static shouldBuildText(c){return!(c==="textarea"||c==="input"||c==="option"||c==="select")}}i.XfaText=a},(e,i,a)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.TextLayerRenderTask=void 0,i.renderTextLayer=gt,i.updateTextLayer=mt;var o=a(1),c=a(6);const s=1e5,d=30,et=.8,h=new Map;function _e(j,b){let ft;if(b&&o.FeatureTest.isOffscreenCanvasSupported)ft=new OffscreenCanvas(j,j).getContext("2d",{alpha:!1});else{const pt=document.createElement("canvas");pt.width=pt.height=j,ft=pt.getContext("2d",{alpha:!1})}return ft}function _(j,b){const ft=h.get(j);if(ft)return ft;const pt=_e(d,b);pt.font=`${d}px ${j}`;const nt=pt.measureText("");let $=nt.fontBoundingBoxAscent,rt=Math.abs(nt.fontBoundingBoxDescent);if($){const dt=$/($+rt);return h.set(j,dt),pt.canvas.width=pt.canvas.height=0,dt}pt.strokeStyle="red",pt.clearRect(0,0,d,d),pt.strokeText("g",0,0);let it=pt.getImageData(0,0,d,d).data;rt=0;for(let dt=it.length-1-3;dt>=0;dt-=4)if(it[dt]>0){rt=Math.ceil(dt/4/d);break}pt.clearRect(0,0,d,d),pt.strokeText("A",0,d),it=pt.getImageData(0,0,d,d).data,$=0;for(let dt=0,At=it.length;dt<At;dt+=4)if(it[dt]>0){$=d-Math.floor(dt/4/d);break}if(pt.canvas.width=pt.canvas.height=0,$){const dt=$/($+rt);return h.set(j,dt),dt}return h.set(j,et),et}function ct(j,b,ft){const pt=document.createElement("span"),nt={angle:0,canvasWidth:0,hasText:b.str!=="",hasEOL:b.hasEOL,fontSize:0};j._textDivs.push(pt);const $=o.Util.transform(j._transform,b.transform);let rt=Math.atan2($[1],$[0]);const it=ft[b.fontName];it.vertical&&(rt+=Math.PI/2);const dt=Math.hypot($[2],$[3]),At=dt*_(it.fontFamily,j._isOffscreenCanvasSupported);let ht,St;rt===0?(ht=$[4],St=$[5]-At):(ht=$[4]+At*Math.sin(rt),St=$[5]-At*Math.cos(rt));const Rt="calc(var(--scale-factor)*",Jt=pt.style;j._container===j._rootContainer?(Jt.left=`${(100*ht/j._pageWidth).toFixed(2)}%`,Jt.top=`${(100*St/j._pageHeight).toFixed(2)}%`):(Jt.left=`${Rt}${ht.toFixed(2)}px)`,Jt.top=`${Rt}${St.toFixed(2)}px)`),Jt.fontSize=`${Rt}${dt.toFixed(2)}px)`,Jt.fontFamily=it.fontFamily,nt.fontSize=dt,pt.setAttribute("role","presentation"),pt.textContent=b.str,pt.dir=b.dir,j._fontInspectorEnabled&&(pt.dataset.fontName=b.fontName),rt!==0&&(nt.angle=rt*(180/Math.PI));let Ut=!1;if(b.str.length>1)Ut=!0;else if(b.str!==" "&&b.transform[0]!==b.transform[3]){const Yt=Math.abs(b.transform[0]),Nt=Math.abs(b.transform[3]);Yt!==Nt&&Math.max(Yt,Nt)/Math.min(Yt,Nt)>1.5&&(Ut=!0)}Ut&&(nt.canvasWidth=it.vertical?b.height:b.width),j._textDivProperties.set(pt,nt),j._isReadableStream&&j._layoutText(pt)}function ut(j){const{div:b,scale:ft,properties:pt,ctx:nt,prevFontSize:$,prevFontFamily:rt}=j,{style:it}=b;let dt="";if(pt.canvasWidth!==0&&pt.hasText){const{fontFamily:At}=it,{canvasWidth:ht,fontSize:St}=pt;($!==St||rt!==At)&&(nt.font=`${St*ft}px ${At}`,j.prevFontSize=St,j.prevFontFamily=At);const{width:Rt}=nt.measureText(b.textContent);Rt>0&&(dt=`scaleX(${ht*ft/Rt})`)}pt.angle!==0&&(dt=`rotate(${pt.angle}deg) ${dt}`),dt.length>0&&(it.transform=dt)}function ot(j){if(j._canceled)return;const b=j._textDivs,ft=j._capability;if(b.length>s){ft.resolve();return}if(!j._isReadableStream)for(const nt of b)j._layoutText(nt);ft.resolve()}class lt{constructor({textContentSource:b,container:ft,viewport:pt,textDivs:nt,textDivProperties:$,textContentItemsStr:rt,isOffscreenCanvasSupported:it}){var Rt;this._textContentSource=b,this._isReadableStream=b instanceof ReadableStream,this._container=this._rootContainer=ft,this._textDivs=nt||[],this._textContentItemsStr=rt||[],this._isOffscreenCanvasSupported=it,this._fontInspectorEnabled=!!((Rt=globalThis.FontInspector)!=null&&Rt.enabled),this._reader=null,this._textDivProperties=$||new WeakMap,this._canceled=!1,this._capability=new o.PromiseCapability,this._layoutTextParams={prevFontSize:null,prevFontFamily:null,div:null,scale:pt.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:_e(0,it)};const{pageWidth:dt,pageHeight:At,pageX:ht,pageY:St}=pt.rawDims;this._transform=[1,0,0,-1,-ht,St+At],this._pageWidth=dt,this._pageHeight=At,(0,c.setLayerDimensions)(ft,pt),this._capability.promise.finally(()=>{this._layoutTextParams=null}).catch(()=>{})}get promise(){return this._capability.promise}cancel(){this._canceled=!0,this._reader&&(this._reader.cancel(new o.AbortException("TextLayer task cancelled.")).catch(()=>{}),this._reader=null),this._capability.reject(new o.AbortException("TextLayer task cancelled."))}_processItems(b,ft){for(const pt of b){if(pt.str===void 0){if(pt.type==="beginMarkedContentProps"||pt.type==="beginMarkedContent"){const nt=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),pt.id!==null&&this._container.setAttribute("id",`${pt.id}`),nt.append(this._container)}else pt.type==="endMarkedContent"&&(this._container=this._container.parentNode);continue}this._textContentItemsStr.push(pt.str),ct(this,pt,ft)}}_layoutText(b){const ft=this._layoutTextParams.properties=this._textDivProperties.get(b);if(this._layoutTextParams.div=b,ut(this._layoutTextParams),ft.hasText&&this._container.append(b),ft.hasEOL){const pt=document.createElement("br");pt.setAttribute("role","presentation"),this._container.append(pt)}}_render(){const b=new o.PromiseCapability;let ft=Object.create(null);if(this._isReadableStream){const pt=()=>{this._reader.read().then(({value:nt,done:$})=>{if($){b.resolve();return}Object.assign(ft,nt.styles),this._processItems(nt.items,ft),pt()},b.reject)};this._reader=this._textContentSource.getReader(),pt()}else if(this._textContentSource){const{items:pt,styles:nt}=this._textContentSource;this._processItems(pt,nt),b.resolve()}else throw new Error('No "textContentSource" parameter specified.');b.promise.then(()=>{ft=null,ot(this)},this._capability.reject)}}i.TextLayerRenderTask=lt;function gt(j){!j.textContentSource&&(j.textContent||j.textContentStream)&&((0,c.deprecated)("The TextLayerRender `textContent`/`textContentStream` parameters will be removed in the future, please use `textContentSource` instead."),j.textContentSource=j.textContent||j.textContentStream);const{container:b,viewport:ft}=j,pt=getComputedStyle(b),nt=pt.getPropertyValue("visibility"),$=parseFloat(pt.getPropertyValue("--scale-factor"));nt==="visible"&&(!$||Math.abs($-ft.scale)>1e-5)&&console.error("The `--scale-factor` CSS-variable must be set, to the same value as `viewport.scale`, either on the `container`-element itself or higher up in the DOM.");const rt=new lt(j);return rt._render(),rt}function mt({container:j,viewport:b,textDivs:ft,textDivProperties:pt,isOffscreenCanvasSupported:nt,mustRotate:$=!0,mustRescale:rt=!0}){if($&&(0,c.setLayerDimensions)(j,{rotation:b.rotation}),rt){const it=_e(0,nt),At={prevFontSize:null,prevFontFamily:null,div:null,scale:b.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:it};for(const ht of ft)At.properties=pt.get(ht),At.div=ht,ut(At)}}},(e,i,a)=>{var _,ct,ut,ot,lt,gt,mt,j,b,ft,pt,js,es,zs,Bs;Object.defineProperty(i,"__esModule",{value:!0}),i.AnnotationEditorLayer=void 0;var o=a(1),c=a(4),s=a(28),d=a(33),et=a(6),h=a(34);const dt=class dt{constructor({uiManager:ht,pageIndex:St,div:Rt,accessibilityManager:Jt,annotationLayer:Ut,viewport:Yt,l10n:Nt}){cn(this,pt);cn(this,_);cn(this,ct,!1);cn(this,ut,null);cn(this,ot,this.pointerup.bind(this));cn(this,lt,this.pointerdown.bind(this));cn(this,gt,new Map);cn(this,mt,!1);cn(this,j,!1);cn(this,b,!1);cn(this,ft);const Bt=[s.FreeTextEditor,d.InkEditor,h.StampEditor];if(!dt._initialized){dt._initialized=!0;for(const wt of Bt)wt.initialize(Nt)}ht.registerEditorTypes(Bt),dn(this,ft,ht),this.pageIndex=St,this.div=Rt,dn(this,_,Jt),dn(this,ut,Ut),this.viewport=Yt,g(this,ft).addLayer(this)}get isEmpty(){return g(this,gt).size===0}updateToolbar(ht){g(this,ft).updateToolbar(ht)}updateMode(ht=g(this,ft).getMode()){qt(this,pt,Bs).call(this),ht===o.AnnotationEditorType.INK?(this.addInkEditorIfNeeded(!1),this.disableClick()):this.enableClick(),ht!==o.AnnotationEditorType.NONE&&(this.div.classList.toggle("freeTextEditing",ht===o.AnnotationEditorType.FREETEXT),this.div.classList.toggle("inkEditing",ht===o.AnnotationEditorType.INK),this.div.classList.toggle("stampEditing",ht===o.AnnotationEditorType.STAMP),this.div.hidden=!1)}addInkEditorIfNeeded(ht){if(!ht&&g(this,ft).getMode()!==o.AnnotationEditorType.INK)return;if(!ht){for(const Rt of g(this,gt).values())if(Rt.isEmpty()){Rt.setInBackground();return}}qt(this,pt,es).call(this,{offsetX:0,offsetY:0},!1).setInBackground()}setEditingState(ht){g(this,ft).setEditingState(ht)}addCommands(ht){g(this,ft).addCommands(ht)}enable(){this.div.style.pointerEvents="auto";const ht=new Set;for(const Rt of g(this,gt).values())Rt.enableEditing(),Rt.annotationElementId&&ht.add(Rt.annotationElementId);if(!g(this,ut))return;const St=g(this,ut).getEditableAnnotations();for(const Rt of St){if(Rt.hide(),g(this,ft).isDeletedAnnotationElement(Rt.data.id)||ht.has(Rt.data.id))continue;const Jt=this.deserialize(Rt);Jt&&(this.addOrRebuild(Jt),Jt.enableEditing())}}disable(){var St;dn(this,b,!0),this.div.style.pointerEvents="none";const ht=new Set;for(const Rt of g(this,gt).values()){if(Rt.disableEditing(),!Rt.annotationElementId||Rt.serialize()!==null){ht.add(Rt.annotationElementId);continue}(St=this.getEditableAnnotation(Rt.annotationElementId))==null||St.show(),Rt.remove()}if(g(this,ut)){const Rt=g(this,ut).getEditableAnnotations();for(const Jt of Rt){const{id:Ut}=Jt.data;ht.has(Ut)||g(this,ft).isDeletedAnnotationElement(Ut)||Jt.show()}}qt(this,pt,Bs).call(this),this.isEmpty&&(this.div.hidden=!0),dn(this,b,!1)}getEditableAnnotation(ht){var St;return((St=g(this,ut))==null?void 0:St.getEditableAnnotation(ht))||null}setActiveEditor(ht){g(this,ft).getActive()!==ht&&g(this,ft).setActiveEditor(ht)}enableClick(){this.div.addEventListener("pointerdown",g(this,lt)),this.div.addEventListener("pointerup",g(this,ot))}disableClick(){this.div.removeEventListener("pointerdown",g(this,lt)),this.div.removeEventListener("pointerup",g(this,ot))}attach(ht){g(this,gt).set(ht.id,ht);const{annotationElementId:St}=ht;St&&g(this,ft).isDeletedAnnotationElement(St)&&g(this,ft).removeDeletedAnnotationElement(ht)}detach(ht){var St;g(this,gt).delete(ht.id),(St=g(this,_))==null||St.removePointerInTextLayer(ht.contentDiv),!g(this,b)&&ht.annotationElementId&&g(this,ft).addDeletedAnnotationElement(ht)}remove(ht){this.detach(ht),g(this,ft).removeEditor(ht),ht.div.contains(document.activeElement)&&setTimeout(()=>{g(this,ft).focusMainContainer()},0),ht.div.remove(),ht.isAttachedToDOM=!1,g(this,j)||this.addInkEditorIfNeeded(!1)}changeParent(ht){var St;ht.parent!==this&&(ht.annotationElementId&&(g(this,ft).addDeletedAnnotationElement(ht.annotationElementId),c.AnnotationEditor.deleteAnnotationElement(ht),ht.annotationElementId=null),this.attach(ht),(St=ht.parent)==null||St.detach(ht),ht.setParent(this),ht.div&&ht.isAttachedToDOM&&(ht.div.remove(),this.div.append(ht.div)))}add(ht){if(this.changeParent(ht),g(this,ft).addEditor(ht),this.attach(ht),!ht.isAttachedToDOM){const St=ht.render();this.div.append(St),ht.isAttachedToDOM=!0}ht.fixAndSetPosition(),ht.onceAdded(),g(this,ft).addToAnnotationStorage(ht)}moveEditorInDOM(ht){var Rt;if(!ht.isAttachedToDOM)return;const{activeElement:St}=document;ht.div.contains(St)&&(ht._focusEventsAllowed=!1,setTimeout(()=>{ht.div.contains(document.activeElement)?ht._focusEventsAllowed=!0:(ht.div.addEventListener("focusin",()=>{ht._focusEventsAllowed=!0},{once:!0}),St.focus())},0)),ht._structTreeParentId=(Rt=g(this,_))==null?void 0:Rt.moveElementInDOM(this.div,ht.div,ht.contentDiv,!0)}addOrRebuild(ht){ht.needsToBeRebuilt()?ht.rebuild():this.add(ht)}addUndoableEditor(ht){const St=()=>ht._uiManager.rebuild(ht),Rt=()=>{ht.remove()};this.addCommands({cmd:St,undo:Rt,mustExec:!1})}getNextId(){return g(this,ft).getId()}pasteEditor(ht,St){g(this,ft).updateToolbar(ht),g(this,ft).updateMode(ht);const{offsetX:Rt,offsetY:Jt}=qt(this,pt,zs).call(this),Ut=this.getNextId(),Yt=qt(this,pt,js).call(this,{parent:this,id:Ut,x:Rt,y:Jt,uiManager:g(this,ft),isCentered:!0,...St});Yt&&this.add(Yt)}deserialize(ht){switch(ht.annotationType??ht.annotationEditorType){case o.AnnotationEditorType.FREETEXT:return s.FreeTextEditor.deserialize(ht,this,g(this,ft));case o.AnnotationEditorType.INK:return d.InkEditor.deserialize(ht,this,g(this,ft));case o.AnnotationEditorType.STAMP:return h.StampEditor.deserialize(ht,this,g(this,ft))}return null}addNewEditor(){qt(this,pt,es).call(this,qt(this,pt,zs).call(this),!0)}setSelected(ht){g(this,ft).setSelected(ht)}toggleSelected(ht){g(this,ft).toggleSelected(ht)}isSelected(ht){return g(this,ft).isSelected(ht)}unselect(ht){g(this,ft).unselect(ht)}pointerup(ht){const{isMac:St}=o.FeatureTest.platform;if(!(ht.button!==0||ht.ctrlKey&&St)&&ht.target===this.div&&g(this,mt)){if(dn(this,mt,!1),!g(this,ct)){dn(this,ct,!0);return}if(g(this,ft).getMode()===o.AnnotationEditorType.STAMP){g(this,ft).unselectAll();return}qt(this,pt,es).call(this,ht,!1)}}pointerdown(ht){if(g(this,mt)){dn(this,mt,!1);return}const{isMac:St}=o.FeatureTest.platform;if(ht.button!==0||ht.ctrlKey&&St||ht.target!==this.div)return;dn(this,mt,!0);const Rt=g(this,ft).getActive();dn(this,ct,!Rt||Rt.isEmpty())}findNewParent(ht,St,Rt){const Jt=g(this,ft).findParent(St,Rt);return Jt===null||Jt===this?!1:(Jt.changeParent(ht),!0)}destroy(){var ht,St;((ht=g(this,ft).getActive())==null?void 0:ht.parent)===this&&(g(this,ft).commitOrRemove(),g(this,ft).setActiveEditor(null));for(const Rt of g(this,gt).values())(St=g(this,_))==null||St.removePointerInTextLayer(Rt.contentDiv),Rt.setParent(null),Rt.isAttachedToDOM=!1,Rt.div.remove();this.div=null,g(this,gt).clear(),g(this,ft).removeLayer(this)}render({viewport:ht}){this.viewport=ht,(0,et.setLayerDimensions)(this.div,ht);for(const St of g(this,ft).getEditors(this.pageIndex))this.add(St);this.updateMode()}update({viewport:ht}){g(this,ft).commitOrRemove(),this.viewport=ht,(0,et.setLayerDimensions)(this.div,{rotation:ht.rotation}),this.updateMode()}get pageDimensions(){const{pageWidth:ht,pageHeight:St}=this.viewport.rawDims;return[ht,St]}};_=new WeakMap,ct=new WeakMap,ut=new WeakMap,ot=new WeakMap,lt=new WeakMap,gt=new WeakMap,mt=new WeakMap,j=new WeakMap,b=new WeakMap,ft=new WeakMap,pt=new WeakSet,js=function(ht){switch(g(this,ft).getMode()){case o.AnnotationEditorType.FREETEXT:return new s.FreeTextEditor(ht);case o.AnnotationEditorType.INK:return new d.InkEditor(ht);case o.AnnotationEditorType.STAMP:return new h.StampEditor(ht)}return null},es=function(ht,St){const Rt=this.getNextId(),Jt=qt(this,pt,js).call(this,{parent:this,id:Rt,x:ht.offsetX,y:ht.offsetY,uiManager:g(this,ft),isCentered:St});return Jt&&this.add(Jt),Jt},zs=function(){const{x:ht,y:St,width:Rt,height:Jt}=this.div.getBoundingClientRect(),Ut=Math.max(0,ht),Yt=Math.max(0,St),Nt=Math.min(window.innerWidth,ht+Rt),Bt=Math.min(window.innerHeight,St+Jt),wt=(Ut+Nt)/2-ht,Lt=(Yt+Bt)/2-St,[$t,bt]=this.viewport.rotation%180===0?[wt,Lt]:[Lt,wt];return{offsetX:$t,offsetY:bt}},Bs=function(){dn(this,j,!0);for(const ht of g(this,gt).values())ht.isEmpty()&&ht.remove();dn(this,j,!1)},Nr(dt,"_initialized",!1);let _e=dt;i.AnnotationEditorLayer=_e},(e,i,a)=>{var h,_e,_,ct,ut,ot,lt,gt,mt,j,Ql,Zl,Jl,zo,Us,_c,Hs;Object.defineProperty(i,"__esModule",{value:!0}),i.FreeTextEditor=void 0;var o=a(1),c=a(5),s=a(4),d=a(29);const dt=class dt extends s.AnnotationEditor{constructor(St){super({...St,name:"freeTextEditor"});cn(this,j);cn(this,h,this.editorDivBlur.bind(this));cn(this,_e,this.editorDivFocus.bind(this));cn(this,_,this.editorDivInput.bind(this));cn(this,ct,this.editorDivKeydown.bind(this));cn(this,ut);cn(this,ot,"");cn(this,lt,`${this.id}-editor`);cn(this,gt);cn(this,mt,null);dn(this,ut,St.color||dt._defaultColor||s.AnnotationEditor._defaultLineColor),dn(this,gt,St.fontSize||dt._defaultFontSize)}static get _keyboardManager(){const St=dt.prototype,Rt=Yt=>Yt.isEmpty(),Jt=c.AnnotationEditorUIManager.TRANSLATE_SMALL,Ut=c.AnnotationEditorUIManager.TRANSLATE_BIG;return(0,o.shadow)(this,"_keyboardManager",new c.KeyboardManager([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],St.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],St.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],St._translateEmpty,{args:[-Jt,0],checker:Rt}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],St._translateEmpty,{args:[-Ut,0],checker:Rt}],[["ArrowRight","mac+ArrowRight"],St._translateEmpty,{args:[Jt,0],checker:Rt}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],St._translateEmpty,{args:[Ut,0],checker:Rt}],[["ArrowUp","mac+ArrowUp"],St._translateEmpty,{args:[0,-Jt],checker:Rt}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],St._translateEmpty,{args:[0,-Ut],checker:Rt}],[["ArrowDown","mac+ArrowDown"],St._translateEmpty,{args:[0,Jt],checker:Rt}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],St._translateEmpty,{args:[0,Ut],checker:Rt}]]))}static initialize(St){s.AnnotationEditor.initialize(St,{strings:["free_text2_default_content","editor_free_text2_aria_label"]});const Rt=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(Rt.getPropertyValue("--freetext-padding"))}static updateDefaultParams(St,Rt){switch(St){case o.AnnotationEditorParamsType.FREETEXT_SIZE:dt._defaultFontSize=Rt;break;case o.AnnotationEditorParamsType.FREETEXT_COLOR:dt._defaultColor=Rt;break}}updateParams(St,Rt){switch(St){case o.AnnotationEditorParamsType.FREETEXT_SIZE:qt(this,j,Ql).call(this,Rt);break;case o.AnnotationEditorParamsType.FREETEXT_COLOR:qt(this,j,Zl).call(this,Rt);break}}static get defaultPropertiesToUpdate(){return[[o.AnnotationEditorParamsType.FREETEXT_SIZE,dt._defaultFontSize],[o.AnnotationEditorParamsType.FREETEXT_COLOR,dt._defaultColor||s.AnnotationEditor._defaultLineColor]]}get propertiesToUpdate(){return[[o.AnnotationEditorParamsType.FREETEXT_SIZE,g(this,gt)],[o.AnnotationEditorParamsType.FREETEXT_COLOR,g(this,ut)]]}_translateEmpty(St,Rt){this._uiManager.translateSelectedEditors(St,Rt,!0)}getInitialTranslation(){const St=this.parentScale;return[-dt._internalPadding*St,-(dt._internalPadding+g(this,gt))*St]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){this.isInEditMode()||(this.parent.setEditingState(!1),this.parent.updateToolbar(o.AnnotationEditorType.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),this.editorDiv.addEventListener("keydown",g(this,ct)),this.editorDiv.addEventListener("focus",g(this,_e)),this.editorDiv.addEventListener("blur",g(this,h)),this.editorDiv.addEventListener("input",g(this,_)))}disableEditMode(){this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",g(this,lt)),this._isDraggable=!0,this.editorDiv.removeEventListener("keydown",g(this,ct)),this.editorDiv.removeEventListener("focus",g(this,_e)),this.editorDiv.removeEventListener("blur",g(this,h)),this.editorDiv.removeEventListener("input",g(this,_)),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freeTextEditing"))}focusin(St){this._focusEventsAllowed&&(super.focusin(St),St.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){var St;if(this.width){qt(this,j,Hs).call(this);return}this.enableEditMode(),this.editorDiv.focus(),(St=this._initialOptions)!=null&&St.isCentered&&this.center(),this._initialOptions=null}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freeTextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const St=g(this,ot),Rt=dn(this,ot,qt(this,j,Jl).call(this).trimEnd());if(St===Rt)return;const Jt=Ut=>{if(dn(this,ot,Ut),!Ut){this.remove();return}qt(this,j,Us).call(this),this._uiManager.rebuild(this),qt(this,j,zo).call(this)};this.addCommands({cmd:()=>{Jt(Rt)},undo:()=>{Jt(St)},mustExec:!1}),qt(this,j,zo).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(St){this.enterInEditMode()}keydown(St){St.target===this.div&&St.key==="Enter"&&(this.enterInEditMode(),St.preventDefault())}editorDivKeydown(St){dt._keyboardManager.exec(this,St)}editorDivFocus(St){this.isEditing=!0}editorDivBlur(St){this.isEditing=!1}editorDivInput(St){this.parent.div.classList.toggle("freeTextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let St,Rt;this.width&&(St=this.x,Rt=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",g(this,lt)),this.enableEditing(),s.AnnotationEditor._l10nPromise.get("editor_free_text2_aria_label").then(Ut=>{var Yt;return(Yt=this.editorDiv)==null?void 0:Yt.setAttribute("aria-label",Ut)}),s.AnnotationEditor._l10nPromise.get("free_text2_default_content").then(Ut=>{var Yt;return(Yt=this.editorDiv)==null?void 0:Yt.setAttribute("default-content",Ut)}),this.editorDiv.contentEditable=!0;const{style:Jt}=this.editorDiv;if(Jt.fontSize=`calc(${g(this,gt)}px * var(--scale-factor))`,Jt.color=g(this,ut),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),(0,c.bindEvents)(this,this.div,["dblclick","keydown"]),this.width){const[Ut,Yt]=this.parentDimensions;if(this.annotationElementId){const{position:Nt}=g(this,mt);let[Bt,wt]=this.getInitialTranslation();[Bt,wt]=this.pageTranslationToScreen(Bt,wt);const[Lt,$t]=this.pageDimensions,[bt,at]=this.pageTranslation;let st,yt;switch(this.rotation){case 0:st=St+(Nt[0]-bt)/Lt,yt=Rt+this.height-(Nt[1]-at)/$t;break;case 90:st=St+(Nt[0]-bt)/Lt,yt=Rt-(Nt[1]-at)/$t,[Bt,wt]=[wt,-Bt];break;case 180:st=St-this.width+(Nt[0]-bt)/Lt,yt=Rt-(Nt[1]-at)/$t,[Bt,wt]=[-Bt,-wt];break;case 270:st=St+(Nt[0]-bt-this.height*$t)/Lt,yt=Rt+(Nt[1]-at-this.width*Lt)/$t,[Bt,wt]=[-wt,Bt];break}this.setAt(st*Ut,yt*Yt,Bt,wt)}else this.setAt(St*Ut,Rt*Yt,this.width*Ut,this.height*Yt);qt(this,j,Us).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}get contentDiv(){return this.editorDiv}static deserialize(St,Rt,Jt){let Ut=null;if(St instanceof d.FreeTextAnnotationElement){const{data:{defaultAppearanceData:{fontSize:Nt,fontColor:Bt},rect:wt,rotation:Lt,id:$t},textContent:bt,textPosition:at,parent:{page:{pageNumber:st}}}=St;if(!bt||bt.length===0)return null;Ut=St={annotationType:o.AnnotationEditorType.FREETEXT,color:Array.from(Bt),fontSize:Nt,value:bt.join(`
`),position:at,pageIndex:st-1,rect:wt,rotation:Lt,id:$t,deleted:!1}}const Yt=super.deserialize(St,Rt,Jt);return dn(Yt,gt,St.fontSize),dn(Yt,ut,o.Util.makeHexColor(...St.color)),dn(Yt,ot,St.value),Yt.annotationElementId=St.id||null,dn(Yt,mt,Ut),Yt}serialize(St=!1){if(this.isEmpty())return null;if(this.deleted)return{pageIndex:this.pageIndex,id:this.annotationElementId,deleted:!0};const Rt=dt._internalPadding*this.parentScale,Jt=this.getRect(Rt,Rt),Ut=s.AnnotationEditor._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:g(this,ut)),Yt={annotationType:o.AnnotationEditorType.FREETEXT,color:Ut,fontSize:g(this,gt),value:g(this,ot),pageIndex:this.pageIndex,rect:Jt,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return St?Yt:this.annotationElementId&&!qt(this,j,_c).call(this,Yt)?null:(Yt.id=this.annotationElementId,Yt)}};h=new WeakMap,_e=new WeakMap,_=new WeakMap,ct=new WeakMap,ut=new WeakMap,ot=new WeakMap,lt=new WeakMap,gt=new WeakMap,mt=new WeakMap,j=new WeakSet,Ql=function(St){const Rt=Ut=>{this.editorDiv.style.fontSize=`calc(${Ut}px * var(--scale-factor))`,this.translate(0,-(Ut-g(this,gt))*this.parentScale),dn(this,gt,Ut),qt(this,j,zo).call(this)},Jt=g(this,gt);this.addCommands({cmd:()=>{Rt(St)},undo:()=>{Rt(Jt)},mustExec:!0,type:o.AnnotationEditorParamsType.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},Zl=function(St){const Rt=g(this,ut);this.addCommands({cmd:()=>{dn(this,ut,this.editorDiv.style.color=St)},undo:()=>{dn(this,ut,this.editorDiv.style.color=Rt)},mustExec:!0,type:o.AnnotationEditorParamsType.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},Jl=function(){const St=this.editorDiv.getElementsByTagName("div");if(St.length===0)return this.editorDiv.innerText;const Rt=[];for(const Jt of St)Rt.push(Jt.innerText.replace(/\r\n?|\n/,""));return Rt.join(`
`)},zo=function(){const[St,Rt]=this.parentDimensions;let Jt;if(this.isAttachedToDOM)Jt=this.div.getBoundingClientRect();else{const{currentLayer:Ut,div:Yt}=this,Nt=Yt.style.display;Yt.style.display="hidden",Ut.div.append(this.div),Jt=Yt.getBoundingClientRect(),Yt.remove(),Yt.style.display=Nt}this.rotation%180===this.parentRotation%180?(this.width=Jt.width/St,this.height=Jt.height/Rt):(this.width=Jt.height/St,this.height=Jt.width/Rt),this.fixAndSetPosition()},Us=function(){if(this.editorDiv.replaceChildren(),!!g(this,ot))for(const St of g(this,ot).split(`
`)){const Rt=document.createElement("div");Rt.append(St?document.createTextNode(St):document.createElement("br")),this.editorDiv.append(Rt)}},_c=function(St){const{value:Rt,fontSize:Jt,color:Ut,rect:Yt,pageIndex:Nt}=g(this,mt);return St.value!==Rt||St.fontSize!==Jt||St.rect.some((Bt,wt)=>Math.abs(Bt-Yt[wt])>=1)||St.color.some((Bt,wt)=>Bt!==Ut[wt])||St.pageIndex!==Nt},Hs=function(St=!1){if(!this.annotationElementId)return;if(qt(this,j,zo).call(this),!St&&(this.width===0||this.height===0)){setTimeout(()=>qt(this,j,Hs).call(this,!0),0);return}const Rt=dt._internalPadding*this.parentScale;g(this,mt).rect=this.getRect(Rt,Rt)},Nr(dt,"_freeTextDefaultContent",""),Nr(dt,"_internalPadding",0),Nr(dt,"_defaultColor",null),Nr(dt,"_defaultFontSize",10),Nr(dt,"_type","freetext");let et=dt;i.FreeTextEditor=et},(e,i,a)=>{var yt,Tt,Eo,eu,un,hn,fn,mn,Cn,bn,rn,on,Et,Ft,Qt,sn,pn,An,vn,Kt,Ln,Tn,tu,ts,Vs,Ws,Vn,or,wr,_n,Zt,en,Bn,$s,Yn,Dt,gn,Dn,nu,Gs;Object.defineProperty(i,"__esModule",{value:!0}),i.StampAnnotationElement=i.InkAnnotationElement=i.FreeTextAnnotationElement=i.AnnotationLayer=void 0;var o=a(1),c=a(6),s=a(3),d=a(30),et=a(31),h=a(32);const _e=1e3,_=9,ct=new WeakSet;function ut(zn){return{width:zn[2]-zn[0],height:zn[3]-zn[1]}}class ot{static create(xt){switch(xt.data.annotationType){case o.AnnotationType.LINK:return new gt(xt);case o.AnnotationType.TEXT:return new mt(xt);case o.AnnotationType.WIDGET:switch(xt.data.fieldType){case"Tx":return new b(xt);case"Btn":return xt.data.radioButton?new nt(xt):xt.data.checkBox?new pt(xt):new $(xt);case"Ch":return new rt(xt);case"Sig":return new ft(xt)}return new j(xt);case o.AnnotationType.POPUP:return new it(xt);case o.AnnotationType.FREETEXT:return new At(xt);case o.AnnotationType.LINE:return new ht(xt);case o.AnnotationType.SQUARE:return new St(xt);case o.AnnotationType.CIRCLE:return new Rt(xt);case o.AnnotationType.POLYLINE:return new Jt(xt);case o.AnnotationType.CARET:return new Yt(xt);case o.AnnotationType.INK:return new Nt(xt);case o.AnnotationType.POLYGON:return new Ut(xt);case o.AnnotationType.HIGHLIGHT:return new Bt(xt);case o.AnnotationType.UNDERLINE:return new wt(xt);case o.AnnotationType.SQUIGGLY:return new Lt(xt);case o.AnnotationType.STRIKEOUT:return new $t(xt);case o.AnnotationType.STAMP:return new bt(xt);case o.AnnotationType.FILEATTACHMENT:return new at(xt);default:return new lt(xt)}}}const Pt=class Pt{constructor(xt,{isRenderable:Ct=!1,ignoreBorder:Ht=!1,createQuadrilaterals:_t=!1}={}){cn(this,yt,!1);this.isRenderable=Ct,this.data=xt.data,this.layer=xt.layer,this.linkService=xt.linkService,this.downloadManager=xt.downloadManager,this.imageResourcesPath=xt.imageResourcesPath,this.renderForms=xt.renderForms,this.svgFactory=xt.svgFactory,this.annotationStorage=xt.annotationStorage,this.enableScripting=xt.enableScripting,this.hasJSActions=xt.hasJSActions,this._fieldObjects=xt.fieldObjects,this.parent=xt.parent,Ct&&(this.container=this._createContainer(Ht)),_t&&this._createQuadrilaterals()}static _hasPopupData({titleObj:xt,contentsObj:Ct,richText:Ht}){return!!(xt!=null&&xt.str||Ct!=null&&Ct.str||Ht!=null&&Ht.str)}get hasPopupData(){return Pt._hasPopupData(this.data)}_createContainer(xt){const{data:Ct,parent:{page:Ht,viewport:_t}}=this,kt=document.createElement("section");kt.setAttribute("data-annotation-id",Ct.id),this instanceof j||(kt.tabIndex=_e),kt.style.zIndex=this.parent.zIndex++,this.data.popupRef&&kt.setAttribute("aria-haspopup","dialog"),Ct.noRotate&&kt.classList.add("norotate");const{pageWidth:It,pageHeight:Wt,pageX:yn,pageY:kn}=_t.rawDims;if(!Ct.rect||this instanceof it){const{rotation:Fn}=Ct;return!Ct.hasOwnCanvas&&Fn!==0&&this.setRotation(Fn,kt),kt}const{width:En,height:Mn}=ut(Ct.rect),Sn=o.Util.normalizeRect([Ct.rect[0],Ht.view[3]-Ct.rect[1]+Ht.view[1],Ct.rect[2],Ht.view[3]-Ct.rect[3]+Ht.view[1]]);if(!xt&&Ct.borderStyle.width>0){kt.style.borderWidth=`${Ct.borderStyle.width}px`;const Fn=Ct.borderStyle.horizontalCornerRadius,Un=Ct.borderStyle.verticalCornerRadius;if(Fn>0||Un>0){const pr=`calc(${Fn}px * var(--scale-factor)) / calc(${Un}px * var(--scale-factor))`;kt.style.borderRadius=pr}else if(this instanceof nt){const pr=`calc(${En}px * var(--scale-factor)) / calc(${Mn}px * var(--scale-factor))`;kt.style.borderRadius=pr}switch(Ct.borderStyle.style){case o.AnnotationBorderStyleType.SOLID:kt.style.borderStyle="solid";break;case o.AnnotationBorderStyleType.DASHED:kt.style.borderStyle="dashed";break;case o.AnnotationBorderStyleType.BEVELED:(0,o.warn)("Unimplemented border style: beveled");break;case o.AnnotationBorderStyleType.INSET:(0,o.warn)("Unimplemented border style: inset");break;case o.AnnotationBorderStyleType.UNDERLINE:kt.style.borderBottomStyle="solid";break}const qn=Ct.borderColor||null;qn?(dn(this,yt,!0),kt.style.borderColor=o.Util.makeHexColor(qn[0]|0,qn[1]|0,qn[2]|0)):kt.style.borderWidth=0}kt.style.left=`${100*(Sn[0]-yn)/It}%`,kt.style.top=`${100*(Sn[1]-kn)/Wt}%`;const{rotation:wn}=Ct;return Ct.hasOwnCanvas||wn===0?(kt.style.width=`${100*En/It}%`,kt.style.height=`${100*Mn/Wt}%`):this.setRotation(wn,kt),kt}setRotation(xt,Ct=this.container){if(!this.data.rect)return;const{pageWidth:Ht,pageHeight:_t}=this.parent.viewport.rawDims,{width:kt,height:It}=ut(this.data.rect);let Wt,yn;xt%180===0?(Wt=100*kt/Ht,yn=100*It/_t):(Wt=100*It/Ht,yn=100*kt/_t),Ct.style.width=`${Wt}%`,Ct.style.height=`${yn}%`,Ct.setAttribute("data-main-rotation",(360-xt)%360)}get _commonActions(){const xt=(Ct,Ht,_t)=>{const kt=_t.detail[Ct],It=kt[0],Wt=kt.slice(1);_t.target.style[Ht]=d.ColorConverters[`${It}_HTML`](Wt),this.annotationStorage.setValue(this.data.id,{[Ht]:d.ColorConverters[`${It}_rgb`](Wt)})};return(0,o.shadow)(this,"_commonActions",{display:Ct=>{const{display:Ht}=Ct.detail,_t=Ht%2===1;this.container.style.visibility=_t?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:_t,noPrint:Ht===1||Ht===2})},print:Ct=>{this.annotationStorage.setValue(this.data.id,{noPrint:!Ct.detail.print})},hidden:Ct=>{const{hidden:Ht}=Ct.detail;this.container.style.visibility=Ht?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:Ht,noView:Ht})},focus:Ct=>{setTimeout(()=>Ct.target.focus({preventScroll:!1}),0)},userName:Ct=>{Ct.target.title=Ct.detail.userName},readonly:Ct=>{Ct.target.disabled=Ct.detail.readonly},required:Ct=>{this._setRequired(Ct.target,Ct.detail.required)},bgColor:Ct=>{xt("bgColor","backgroundColor",Ct)},fillColor:Ct=>{xt("fillColor","backgroundColor",Ct)},fgColor:Ct=>{xt("fgColor","color",Ct)},textColor:Ct=>{xt("textColor","color",Ct)},borderColor:Ct=>{xt("borderColor","borderColor",Ct)},strokeColor:Ct=>{xt("strokeColor","borderColor",Ct)},rotation:Ct=>{const Ht=Ct.detail.rotation;this.setRotation(Ht),this.annotationStorage.setValue(this.data.id,{rotation:Ht})}})}_dispatchEventFromSandbox(xt,Ct){const Ht=this._commonActions;for(const _t of Object.keys(Ct.detail)){const kt=xt[_t]||Ht[_t];kt==null||kt(Ct)}}_setDefaultPropertiesFromJS(xt){if(!this.enableScripting)return;const Ct=this.annotationStorage.getRawValue(this.data.id);if(!Ct)return;const Ht=this._commonActions;for(const[_t,kt]of Object.entries(Ct)){const It=Ht[_t];if(It){const Wt={detail:{[_t]:kt},target:xt};It(Wt),delete Ct[_t]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:xt}=this.data;if(!xt)return;const[Ct,Ht,_t,kt]=this.data.rect;if(xt.length===1){const[,{x:Un,y:qn},{x:pr,y:_r}]=xt[0];if(_t===Un&&kt===qn&&Ct===pr&&Ht===_r)return}const{style:It}=this.container;let Wt;if(g(this,yt)){const{borderColor:Un,borderWidth:qn}=It;It.borderWidth=0,Wt=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${Un}" stroke-width="${qn}">`],this.container.classList.add("hasBorder")}const yn=_t-Ct,kn=kt-Ht,{svgFactory:En}=this,Mn=En.createElement("svg");Mn.classList.add("quadrilateralsContainer"),Mn.setAttribute("width",0),Mn.setAttribute("height",0);const Sn=En.createElement("defs");Mn.append(Sn);const wn=En.createElement("clipPath"),Fn=`clippath_${this.data.id}`;wn.setAttribute("id",Fn),wn.setAttribute("clipPathUnits","objectBoundingBox"),Sn.append(wn);for(const[,{x:Un,y:qn},{x:pr,y:_r}]of xt){const sr=En.createElement("rect"),Rr=(pr-Ct)/yn,na=(kt-qn)/kn,_a=(Un-pr)/yn,ba=(qn-_r)/kn;sr.setAttribute("x",Rr),sr.setAttribute("y",na),sr.setAttribute("width",_a),sr.setAttribute("height",ba),wn.append(sr),Wt==null||Wt.push(`<rect vector-effect="non-scaling-stroke" x="${Rr}" y="${na}" width="${_a}" height="${ba}"/>`)}g(this,yt)&&(Wt.push("</g></svg>')"),It.backgroundImage=Wt.join("")),this.container.append(Mn),this.container.style.clipPath=`url(#${Fn})`}_createPopup(){const{container:xt,data:Ct}=this;xt.setAttribute("aria-haspopup","dialog");const Ht=new it({data:{color:Ct.color,titleObj:Ct.titleObj,modificationDate:Ct.modificationDate,contentsObj:Ct.contentsObj,richText:Ct.richText,parentRect:Ct.rect,borderStyle:0,id:`popup_${Ct.id}`,rotation:Ct.rotation},parent:this.parent,elements:[this]});this.parent.div.append(Ht.render())}render(){(0,o.unreachable)("Abstract method `AnnotationElement.render` called")}_getElementsByName(xt,Ct=null){const Ht=[];if(this._fieldObjects){const _t=this._fieldObjects[xt];if(_t)for(const{page:kt,id:It,exportValues:Wt}of _t){if(kt===-1||It===Ct)continue;const yn=typeof Wt=="string"?Wt:null,kn=document.querySelector(`[data-element-id="${It}"]`);if(kn&&!ct.has(kn)){(0,o.warn)(`_getElementsByName - element not allowed: ${It}`);continue}Ht.push({id:It,exportValue:yn,domElement:kn})}return Ht}for(const _t of document.getElementsByName(xt)){const{exportValue:kt}=_t,It=_t.getAttribute("data-element-id");It!==Ct&&ct.has(_t)&&Ht.push({id:It,exportValue:kt,domElement:_t})}return Ht}show(){var xt;this.container&&(this.container.hidden=!1),(xt=this.popup)==null||xt.maybeShow()}hide(){var xt;this.container&&(this.container.hidden=!0),(xt=this.popup)==null||xt.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const xt=this.getElementsToTriggerPopup();if(Array.isArray(xt))for(const Ct of xt)Ct.classList.add("highlightArea");else xt.classList.add("highlightArea")}_editOnDoubleClick(){const{annotationEditorType:xt,data:{id:Ct}}=this;this.container.addEventListener("dblclick",()=>{var Ht;(Ht=this.linkService.eventBus)==null||Ht.dispatch("switchannotationeditormode",{source:this,mode:xt,editId:Ct})})}};yt=new WeakMap;let lt=Pt;class gt extends lt{constructor(Ct,Ht=null){super(Ct,{isRenderable:!0,ignoreBorder:!!(Ht!=null&&Ht.ignoreBorder),createQuadrilaterals:!0});cn(this,Tt);this.isTooltipOnly=Ct.data.isTooltipOnly}render(){const{data:Ct,linkService:Ht}=this,_t=document.createElement("a");_t.setAttribute("data-element-id",Ct.id);let kt=!1;return Ct.url?(Ht.addLinkAttributes(_t,Ct.url,Ct.newWindow),kt=!0):Ct.action?(this._bindNamedAction(_t,Ct.action),kt=!0):Ct.attachment?(this._bindAttachment(_t,Ct.attachment),kt=!0):Ct.setOCGState?(qt(this,Tt,eu).call(this,_t,Ct.setOCGState),kt=!0):Ct.dest?(this._bindLink(_t,Ct.dest),kt=!0):(Ct.actions&&(Ct.actions.Action||Ct.actions["Mouse Up"]||Ct.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(_t,Ct),kt=!0),Ct.resetForm?(this._bindResetFormAction(_t,Ct.resetForm),kt=!0):this.isTooltipOnly&&!kt&&(this._bindLink(_t,""),kt=!0)),this.container.classList.add("linkAnnotation"),kt&&this.container.append(_t),this.container}_bindLink(Ct,Ht){Ct.href=this.linkService.getDestinationHash(Ht),Ct.onclick=()=>(Ht&&this.linkService.goToDestination(Ht),!1),(Ht||Ht==="")&&qt(this,Tt,Eo).call(this)}_bindNamedAction(Ct,Ht){Ct.href=this.linkService.getAnchorUrl(""),Ct.onclick=()=>(this.linkService.executeNamedAction(Ht),!1),qt(this,Tt,Eo).call(this)}_bindAttachment(Ct,Ht){Ct.href=this.linkService.getAnchorUrl(""),Ct.onclick=()=>{var _t;return(_t=this.downloadManager)==null||_t.openOrDownloadData(this.container,Ht.content,Ht.filename),!1},qt(this,Tt,Eo).call(this)}_bindJSAction(Ct,Ht){Ct.href=this.linkService.getAnchorUrl("");const _t=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const kt of Object.keys(Ht.actions)){const It=_t.get(kt);It&&(Ct[It]=()=>{var Wt;return(Wt=this.linkService.eventBus)==null||Wt.dispatch("dispatcheventinsandbox",{source:this,detail:{id:Ht.id,name:kt}}),!1})}Ct.onclick||(Ct.onclick=()=>!1),qt(this,Tt,Eo).call(this)}_bindResetFormAction(Ct,Ht){const _t=Ct.onclick;if(_t||(Ct.href=this.linkService.getAnchorUrl("")),qt(this,Tt,Eo).call(this),!this._fieldObjects){(0,o.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),_t||(Ct.onclick=()=>!1);return}Ct.onclick=()=>{var Mn;_t==null||_t();const{fields:kt,refs:It,include:Wt}=Ht,yn=[];if(kt.length!==0||It.length!==0){const Sn=new Set(It);for(const wn of kt){const Fn=this._fieldObjects[wn]||[];for(const{id:Un}of Fn)Sn.add(Un)}for(const wn of Object.values(this._fieldObjects))for(const Fn of wn)Sn.has(Fn.id)===Wt&&yn.push(Fn)}else for(const Sn of Object.values(this._fieldObjects))yn.push(...Sn);const kn=this.annotationStorage,En=[];for(const Sn of yn){const{id:wn}=Sn;switch(En.push(wn),Sn.type){case"text":{const Un=Sn.defaultValue||"";kn.setValue(wn,{value:Un});break}case"checkbox":case"radiobutton":{const Un=Sn.defaultValue===Sn.exportValues;kn.setValue(wn,{value:Un});break}case"combobox":case"listbox":{const Un=Sn.defaultValue||"";kn.setValue(wn,{value:Un});break}default:continue}const Fn=document.querySelector(`[data-element-id="${wn}"]`);if(Fn){if(!ct.has(Fn)){(0,o.warn)(`_bindResetFormAction - element not allowed: ${wn}`);continue}}else continue;Fn.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((Mn=this.linkService.eventBus)==null||Mn.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:En,name:"ResetForm"}})),!1}}}Tt=new WeakSet,Eo=function(){this.container.setAttribute("data-internal-link","")},eu=function(Ct,Ht){Ct.href=this.linkService.getAnchorUrl(""),Ct.onclick=()=>(this.linkService.executeSetOCGState(Ht),!1),qt(this,Tt,Eo).call(this)};class mt extends lt{constructor(xt){super(xt,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const xt=document.createElement("img");return xt.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",xt.alt="[{{type}} Annotation]",xt.dataset.l10nId="text_annotation_type",xt.dataset.l10nArgs=JSON.stringify({type:this.data.name}),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(xt),this.container}}class j extends lt{render(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}showElementAndHideCanvas(xt){var Ct;this.data.hasOwnCanvas&&(((Ct=xt.previousSibling)==null?void 0:Ct.nodeName)==="CANVAS"&&(xt.previousSibling.hidden=!0),xt.hidden=!1)}_getKeyModifier(xt){const{isWin:Ct,isMac:Ht}=o.FeatureTest.platform;return Ct&&xt.ctrlKey||Ht&&xt.metaKey}_setEventListener(xt,Ct,Ht,_t,kt){Ht.includes("mouse")?xt.addEventListener(Ht,It=>{var Wt;(Wt=this.linkService.eventBus)==null||Wt.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:_t,value:kt(It),shift:It.shiftKey,modifier:this._getKeyModifier(It)}})}):xt.addEventListener(Ht,It=>{var Wt;if(Ht==="blur"){if(!Ct.focused||!It.relatedTarget)return;Ct.focused=!1}else if(Ht==="focus"){if(Ct.focused)return;Ct.focused=!0}kt&&((Wt=this.linkService.eventBus)==null||Wt.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:_t,value:kt(It)}}))})}_setEventListeners(xt,Ct,Ht,_t){var kt,It,Wt;for(const[yn,kn]of Ht)(kn==="Action"||(kt=this.data.actions)!=null&&kt[kn])&&((kn==="Focus"||kn==="Blur")&&(Ct||(Ct={focused:!1})),this._setEventListener(xt,Ct,yn,kn,_t),kn==="Focus"&&!((It=this.data.actions)!=null&&It.Blur)?this._setEventListener(xt,Ct,"blur","Blur",null):kn==="Blur"&&!((Wt=this.data.actions)!=null&&Wt.Focus)&&this._setEventListener(xt,Ct,"focus","Focus",null))}_setBackgroundColor(xt){const Ct=this.data.backgroundColor||null;xt.style.backgroundColor=Ct===null?"transparent":o.Util.makeHexColor(Ct[0],Ct[1],Ct[2])}_setTextStyle(xt){const Ct=["left","center","right"],{fontColor:Ht}=this.data.defaultAppearanceData,_t=this.data.defaultAppearanceData.fontSize||_,kt=xt.style;let It;const Wt=2,yn=kn=>Math.round(10*kn)/10;if(this.data.multiLine){const kn=Math.abs(this.data.rect[3]-this.data.rect[1]-Wt),En=Math.round(kn/(o.LINE_FACTOR*_t))||1,Mn=kn/En;It=Math.min(_t,yn(Mn/o.LINE_FACTOR))}else{const kn=Math.abs(this.data.rect[3]-this.data.rect[1]-Wt);It=Math.min(_t,yn(kn/o.LINE_FACTOR))}kt.fontSize=`calc(${It}px * var(--scale-factor))`,kt.color=o.Util.makeHexColor(Ht[0],Ht[1],Ht[2]),this.data.textAlignment!==null&&(kt.textAlign=Ct[this.data.textAlignment])}_setRequired(xt,Ct){Ct?xt.setAttribute("required",!0):xt.removeAttribute("required"),xt.setAttribute("aria-required",Ct)}}class b extends j{constructor(xt){const Ct=xt.renderForms||!xt.data.hasAppearance&&!!xt.data.fieldValue;super(xt,{isRenderable:Ct})}setPropertyOnSiblings(xt,Ct,Ht,_t){const kt=this.annotationStorage;for(const It of this._getElementsByName(xt.name,xt.id))It.domElement&&(It.domElement[Ct]=Ht),kt.setValue(It.id,{[_t]:Ht})}render(){var _t,kt;const xt=this.annotationStorage,Ct=this.data.id;this.container.classList.add("textWidgetAnnotation");let Ht=null;if(this.renderForms){const It=xt.getValue(Ct,{value:this.data.fieldValue});let Wt=It.value||"";const yn=xt.getValue(Ct,{charLimit:this.data.maxLen}).charLimit;yn&&Wt.length>yn&&(Wt=Wt.slice(0,yn));let kn=It.formattedValue||((_t=this.data.textContent)==null?void 0:_t.join(`
`))||null;kn&&this.data.comb&&(kn=kn.replaceAll(/\s+/g,""));const En={userValue:Wt,formattedValue:kn,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(Ht=document.createElement("textarea"),Ht.textContent=kn??Wt,this.data.doNotScroll&&(Ht.style.overflowY="hidden")):(Ht=document.createElement("input"),Ht.type="text",Ht.setAttribute("value",kn??Wt),this.data.doNotScroll&&(Ht.style.overflowX="hidden")),this.data.hasOwnCanvas&&(Ht.hidden=!0),ct.add(Ht),Ht.setAttribute("data-element-id",Ct),Ht.disabled=this.data.readOnly,Ht.name=this.data.fieldName,Ht.tabIndex=_e,this._setRequired(Ht,this.data.required),yn&&(Ht.maxLength=yn),Ht.addEventListener("input",Sn=>{xt.setValue(Ct,{value:Sn.target.value}),this.setPropertyOnSiblings(Ht,"value",Sn.target.value,"value"),En.formattedValue=null}),Ht.addEventListener("resetform",Sn=>{const wn=this.data.defaultFieldValue??"";Ht.value=En.userValue=wn,En.formattedValue=null});let Mn=Sn=>{const{formattedValue:wn}=En;wn!=null&&(Sn.target.value=wn),Sn.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){Ht.addEventListener("focus",wn=>{if(En.focused)return;const{target:Fn}=wn;En.userValue&&(Fn.value=En.userValue),En.lastCommittedValue=Fn.value,En.commitKey=1,En.focused=!0}),Ht.addEventListener("updatefromsandbox",wn=>{this.showElementAndHideCanvas(wn.target);const Fn={value(Un){En.userValue=Un.detail.value??"",xt.setValue(Ct,{value:En.userValue.toString()}),Un.target.value=En.userValue},formattedValue(Un){const{formattedValue:qn}=Un.detail;En.formattedValue=qn,qn!=null&&Un.target!==document.activeElement&&(Un.target.value=qn),xt.setValue(Ct,{formattedValue:qn})},selRange(Un){Un.target.setSelectionRange(...Un.detail.selRange)},charLimit:Un=>{var sr;const{charLimit:qn}=Un.detail,{target:pr}=Un;if(qn===0){pr.removeAttribute("maxLength");return}pr.setAttribute("maxLength",qn);let _r=En.userValue;!_r||_r.length<=qn||(_r=_r.slice(0,qn),pr.value=En.userValue=_r,xt.setValue(Ct,{value:_r}),(sr=this.linkService.eventBus)==null||sr.dispatch("dispatcheventinsandbox",{source:this,detail:{id:Ct,name:"Keystroke",value:_r,willCommit:!0,commitKey:1,selStart:pr.selectionStart,selEnd:pr.selectionEnd}}))}};this._dispatchEventFromSandbox(Fn,wn)}),Ht.addEventListener("keydown",wn=>{var qn;En.commitKey=1;let Fn=-1;if(wn.key==="Escape"?Fn=0:wn.key==="Enter"&&!this.data.multiLine?Fn=2:wn.key==="Tab"&&(En.commitKey=3),Fn===-1)return;const{value:Un}=wn.target;En.lastCommittedValue!==Un&&(En.lastCommittedValue=Un,En.userValue=Un,(qn=this.linkService.eventBus)==null||qn.dispatch("dispatcheventinsandbox",{source:this,detail:{id:Ct,name:"Keystroke",value:Un,willCommit:!0,commitKey:Fn,selStart:wn.target.selectionStart,selEnd:wn.target.selectionEnd}}))});const Sn=Mn;Mn=null,Ht.addEventListener("blur",wn=>{var Un;if(!En.focused||!wn.relatedTarget)return;En.focused=!1;const{value:Fn}=wn.target;En.userValue=Fn,En.lastCommittedValue!==Fn&&((Un=this.linkService.eventBus)==null||Un.dispatch("dispatcheventinsandbox",{source:this,detail:{id:Ct,name:"Keystroke",value:Fn,willCommit:!0,commitKey:En.commitKey,selStart:wn.target.selectionStart,selEnd:wn.target.selectionEnd}})),Sn(wn)}),(kt=this.data.actions)!=null&&kt.Keystroke&&Ht.addEventListener("beforeinput",wn=>{var na;En.lastCommittedValue=null;const{data:Fn,target:Un}=wn,{value:qn,selectionStart:pr,selectionEnd:_r}=Un;let sr=pr,Rr=_r;switch(wn.inputType){case"deleteWordBackward":{const _a=qn.substring(0,pr).match(/\w*[^\w]*$/);_a&&(sr-=_a[0].length);break}case"deleteWordForward":{const _a=qn.substring(pr).match(/^[^\w]*\w*/);_a&&(Rr+=_a[0].length);break}case"deleteContentBackward":pr===_r&&(sr-=1);break;case"deleteContentForward":pr===_r&&(Rr+=1);break}wn.preventDefault(),(na=this.linkService.eventBus)==null||na.dispatch("dispatcheventinsandbox",{source:this,detail:{id:Ct,name:"Keystroke",value:qn,change:Fn||"",willCommit:!1,selStart:sr,selEnd:Rr}})}),this._setEventListeners(Ht,En,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],wn=>wn.target.value)}if(Mn&&Ht.addEventListener("blur",Mn),this.data.comb){const wn=(this.data.rect[2]-this.data.rect[0])/yn;Ht.classList.add("comb"),Ht.style.letterSpacing=`calc(${wn}px * var(--scale-factor) - 1ch)`}}else Ht=document.createElement("div"),Ht.textContent=this.data.fieldValue,Ht.style.verticalAlign="middle",Ht.style.display="table-cell";return this._setTextStyle(Ht),this._setBackgroundColor(Ht),this._setDefaultPropertiesFromJS(Ht),this.container.append(Ht),this.container}}class ft extends j{constructor(xt){super(xt,{isRenderable:!!xt.data.hasOwnCanvas})}}class pt extends j{constructor(xt){super(xt,{isRenderable:xt.renderForms})}render(){const xt=this.annotationStorage,Ct=this.data,Ht=Ct.id;let _t=xt.getValue(Ht,{value:Ct.exportValue===Ct.fieldValue}).value;typeof _t=="string"&&(_t=_t!=="Off",xt.setValue(Ht,{value:_t})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const kt=document.createElement("input");return ct.add(kt),kt.setAttribute("data-element-id",Ht),kt.disabled=Ct.readOnly,this._setRequired(kt,this.data.required),kt.type="checkbox",kt.name=Ct.fieldName,_t&&kt.setAttribute("checked",!0),kt.setAttribute("exportValue",Ct.exportValue),kt.tabIndex=_e,kt.addEventListener("change",It=>{const{name:Wt,checked:yn}=It.target;for(const kn of this._getElementsByName(Wt,Ht)){const En=yn&&kn.exportValue===Ct.exportValue;kn.domElement&&(kn.domElement.checked=En),xt.setValue(kn.id,{value:En})}xt.setValue(Ht,{value:yn})}),kt.addEventListener("resetform",It=>{const Wt=Ct.defaultFieldValue||"Off";It.target.checked=Wt===Ct.exportValue}),this.enableScripting&&this.hasJSActions&&(kt.addEventListener("updatefromsandbox",It=>{const Wt={value(yn){yn.target.checked=yn.detail.value!=="Off",xt.setValue(Ht,{value:yn.target.checked})}};this._dispatchEventFromSandbox(Wt,It)}),this._setEventListeners(kt,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],It=>It.target.checked)),this._setBackgroundColor(kt),this._setDefaultPropertiesFromJS(kt),this.container.append(kt),this.container}}class nt extends j{constructor(xt){super(xt,{isRenderable:xt.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const xt=this.annotationStorage,Ct=this.data,Ht=Ct.id;let _t=xt.getValue(Ht,{value:Ct.fieldValue===Ct.buttonValue}).value;typeof _t=="string"&&(_t=_t!==Ct.buttonValue,xt.setValue(Ht,{value:_t}));const kt=document.createElement("input");if(ct.add(kt),kt.setAttribute("data-element-id",Ht),kt.disabled=Ct.readOnly,this._setRequired(kt,this.data.required),kt.type="radio",kt.name=Ct.fieldName,_t&&kt.setAttribute("checked",!0),kt.tabIndex=_e,kt.addEventListener("change",It=>{const{name:Wt,checked:yn}=It.target;for(const kn of this._getElementsByName(Wt,Ht))xt.setValue(kn.id,{value:!1});xt.setValue(Ht,{value:yn})}),kt.addEventListener("resetform",It=>{const Wt=Ct.defaultFieldValue;It.target.checked=Wt!=null&&Wt===Ct.buttonValue}),this.enableScripting&&this.hasJSActions){const It=Ct.buttonValue;kt.addEventListener("updatefromsandbox",Wt=>{const yn={value:kn=>{const En=It===kn.detail.value;for(const Mn of this._getElementsByName(kn.target.name)){const Sn=En&&Mn.id===Ht;Mn.domElement&&(Mn.domElement.checked=Sn),xt.setValue(Mn.id,{value:Sn})}}};this._dispatchEventFromSandbox(yn,Wt)}),this._setEventListeners(kt,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],Wt=>Wt.target.checked)}return this._setBackgroundColor(kt),this._setDefaultPropertiesFromJS(kt),this.container.append(kt),this.container}}class $ extends gt{constructor(xt){super(xt,{ignoreBorder:xt.data.hasAppearance})}render(){const xt=super.render();xt.classList.add("buttonWidgetAnnotation","pushButton"),this.data.alternativeText&&(xt.title=this.data.alternativeText);const Ct=xt.lastChild;return this.enableScripting&&this.hasJSActions&&Ct&&(this._setDefaultPropertiesFromJS(Ct),Ct.addEventListener("updatefromsandbox",Ht=>{this._dispatchEventFromSandbox({},Ht)})),xt}}class rt extends j{constructor(xt){super(xt,{isRenderable:xt.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const xt=this.annotationStorage,Ct=this.data.id,Ht=xt.getValue(Ct,{value:this.data.fieldValue}),_t=document.createElement("select");ct.add(_t),_t.setAttribute("data-element-id",Ct),_t.disabled=this.data.readOnly,this._setRequired(_t,this.data.required),_t.name=this.data.fieldName,_t.tabIndex=_e;let kt=this.data.combo&&this.data.options.length>0;this.data.combo||(_t.size=this.data.options.length,this.data.multiSelect&&(_t.multiple=!0)),_t.addEventListener("resetform",En=>{const Mn=this.data.defaultFieldValue;for(const Sn of _t.options)Sn.selected=Sn.value===Mn});for(const En of this.data.options){const Mn=document.createElement("option");Mn.textContent=En.displayValue,Mn.value=En.exportValue,Ht.value.includes(En.exportValue)&&(Mn.setAttribute("selected",!0),kt=!1),_t.append(Mn)}let It=null;if(kt){const En=document.createElement("option");En.value=" ",En.setAttribute("hidden",!0),En.setAttribute("selected",!0),_t.prepend(En),It=()=>{En.remove(),_t.removeEventListener("input",It),It=null},_t.addEventListener("input",It)}const Wt=En=>{const Mn=En?"value":"textContent",{options:Sn,multiple:wn}=_t;return wn?Array.prototype.filter.call(Sn,Fn=>Fn.selected).map(Fn=>Fn[Mn]):Sn.selectedIndex===-1?null:Sn[Sn.selectedIndex][Mn]};let yn=Wt(!1);const kn=En=>{const Mn=En.target.options;return Array.prototype.map.call(Mn,Sn=>({displayValue:Sn.textContent,exportValue:Sn.value}))};return this.enableScripting&&this.hasJSActions?(_t.addEventListener("updatefromsandbox",En=>{const Mn={value(Sn){It==null||It();const wn=Sn.detail.value,Fn=new Set(Array.isArray(wn)?wn:[wn]);for(const Un of _t.options)Un.selected=Fn.has(Un.value);xt.setValue(Ct,{value:Wt(!0)}),yn=Wt(!1)},multipleSelection(Sn){_t.multiple=!0},remove(Sn){const wn=_t.options,Fn=Sn.detail.remove;wn[Fn].selected=!1,_t.remove(Fn),wn.length>0&&Array.prototype.findIndex.call(wn,qn=>qn.selected)===-1&&(wn[0].selected=!0),xt.setValue(Ct,{value:Wt(!0),items:kn(Sn)}),yn=Wt(!1)},clear(Sn){for(;_t.length!==0;)_t.remove(0);xt.setValue(Ct,{value:null,items:[]}),yn=Wt(!1)},insert(Sn){const{index:wn,displayValue:Fn,exportValue:Un}=Sn.detail.insert,qn=_t.children[wn],pr=document.createElement("option");pr.textContent=Fn,pr.value=Un,qn?qn.before(pr):_t.append(pr),xt.setValue(Ct,{value:Wt(!0),items:kn(Sn)}),yn=Wt(!1)},items(Sn){const{items:wn}=Sn.detail;for(;_t.length!==0;)_t.remove(0);for(const Fn of wn){const{displayValue:Un,exportValue:qn}=Fn,pr=document.createElement("option");pr.textContent=Un,pr.value=qn,_t.append(pr)}_t.options.length>0&&(_t.options[0].selected=!0),xt.setValue(Ct,{value:Wt(!0),items:kn(Sn)}),yn=Wt(!1)},indices(Sn){const wn=new Set(Sn.detail.indices);for(const Fn of Sn.target.options)Fn.selected=wn.has(Fn.index);xt.setValue(Ct,{value:Wt(!0)}),yn=Wt(!1)},editable(Sn){Sn.target.disabled=!Sn.detail.editable}};this._dispatchEventFromSandbox(Mn,En)}),_t.addEventListener("input",En=>{var Sn;const Mn=Wt(!0);xt.setValue(Ct,{value:Mn}),En.preventDefault(),(Sn=this.linkService.eventBus)==null||Sn.dispatch("dispatcheventinsandbox",{source:this,detail:{id:Ct,name:"Keystroke",value:yn,changeEx:Mn,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(_t,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],En=>En.target.value)):_t.addEventListener("input",function(En){xt.setValue(Ct,{value:Wt(!0)})}),this.data.combo&&this._setTextStyle(_t),this._setBackgroundColor(_t),this._setDefaultPropertiesFromJS(_t),this.container.append(_t),this.container}}class it extends lt{constructor(xt){const{data:Ct,elements:Ht}=xt;super(xt,{isRenderable:lt._hasPopupData(Ct)}),this.elements=Ht}render(){this.container.classList.add("popupAnnotation");const xt=new dt({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),Ct=[];for(const Ht of this.elements)Ht.popup=xt,Ct.push(Ht.data.id),Ht.addHighlightArea();return this.container.setAttribute("aria-controls",Ct.map(Ht=>`${o.AnnotationPrefix}${Ht}`).join(",")),this.container}}class dt{constructor({container:xt,color:Ct,elements:Ht,titleObj:_t,modificationDate:kt,contentsObj:It,richText:Wt,parent:yn,rect:kn,parentRect:En,open:Mn}){cn(this,Tn);cn(this,un,null);cn(this,hn,qt(this,Tn,tu).bind(this));cn(this,fn,qt(this,Tn,Ws).bind(this));cn(this,mn,qt(this,Tn,Vs).bind(this));cn(this,Cn,qt(this,Tn,ts).bind(this));cn(this,bn,null);cn(this,rn,null);cn(this,on,null);cn(this,Et,null);cn(this,Ft,null);cn(this,Qt,null);cn(this,sn,!1);cn(this,pn,null);cn(this,An,null);cn(this,vn,null);cn(this,Kt,null);cn(this,Ln,!1);var wn;dn(this,rn,xt),dn(this,Kt,_t),dn(this,on,It),dn(this,vn,Wt),dn(this,Ft,yn),dn(this,bn,Ct),dn(this,An,kn),dn(this,Qt,En),dn(this,Et,Ht);const Sn=c.PDFDateString.toDateObject(kt);Sn&&dn(this,un,yn.l10n.get("annotation_date_string",{date:Sn.toLocaleDateString(),time:Sn.toLocaleTimeString()})),this.trigger=Ht.flatMap(Fn=>Fn.getElementsToTriggerPopup());for(const Fn of this.trigger)Fn.addEventListener("click",g(this,Cn)),Fn.addEventListener("mouseenter",g(this,mn)),Fn.addEventListener("mouseleave",g(this,fn)),Fn.classList.add("popupTriggerArea");for(const Fn of Ht)(wn=Fn.container)==null||wn.addEventListener("keydown",g(this,hn));g(this,rn).hidden=!0,Mn&&qt(this,Tn,ts).call(this)}render(){if(g(this,pn))return;const{page:{view:xt},viewport:{rawDims:{pageWidth:Ct,pageHeight:Ht,pageX:_t,pageY:kt}}}=g(this,Ft),It=dn(this,pn,document.createElement("div"));if(It.className="popup",g(this,bn)){const sr=It.style.outlineColor=o.Util.makeHexColor(...g(this,bn));CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?It.style.backgroundColor=`color-mix(in srgb, ${sr} 30%, white)`:It.style.backgroundColor=o.Util.makeHexColor(...g(this,bn).map(na=>Math.floor(.7*(255-na)+na)))}const Wt=document.createElement("span");Wt.className="header";const yn=document.createElement("h1");if(Wt.append(yn),{dir:yn.dir,str:yn.textContent}=g(this,Kt),It.append(Wt),g(this,un)){const sr=document.createElement("span");sr.classList.add("popupDate"),g(this,un).then(Rr=>{sr.textContent=Rr}),Wt.append(sr)}const kn=g(this,on),En=g(this,vn);if(En!=null&&En.str&&(!(kn!=null&&kn.str)||kn.str===En.str))h.XfaLayer.render({xfaHtml:En.html,intent:"richText",div:It}),It.lastChild.classList.add("richText","popupContent");else{const sr=this._formatContents(kn);It.append(sr)}let Mn=!!g(this,Qt),Sn=Mn?g(this,Qt):g(this,An);for(const sr of g(this,Et))if(!Sn||o.Util.intersect(sr.data.rect,Sn)!==null){Sn=sr.data.rect,Mn=!0;break}const wn=o.Util.normalizeRect([Sn[0],xt[3]-Sn[1]+xt[1],Sn[2],xt[3]-Sn[3]+xt[1]]),Un=Mn?Sn[2]-Sn[0]+5:0,qn=wn[0]+Un,pr=wn[1],{style:_r}=g(this,rn);_r.left=`${100*(qn-_t)/Ct}%`,_r.top=`${100*(pr-kt)/Ht}%`,g(this,rn).append(It)}_formatContents({str:xt,dir:Ct}){const Ht=document.createElement("p");Ht.classList.add("popupContent"),Ht.dir=Ct;const _t=xt.split(/(?:\r\n?|\n)/);for(let kt=0,It=_t.length;kt<It;++kt){const Wt=_t[kt];Ht.append(document.createTextNode(Wt)),kt<It-1&&Ht.append(document.createElement("br"))}return Ht}forceHide(){dn(this,Ln,this.isVisible),g(this,Ln)&&(g(this,rn).hidden=!0)}maybeShow(){g(this,Ln)&&(dn(this,Ln,!1),g(this,rn).hidden=!1)}get isVisible(){return g(this,rn).hidden===!1}}un=new WeakMap,hn=new WeakMap,fn=new WeakMap,mn=new WeakMap,Cn=new WeakMap,bn=new WeakMap,rn=new WeakMap,on=new WeakMap,Et=new WeakMap,Ft=new WeakMap,Qt=new WeakMap,sn=new WeakMap,pn=new WeakMap,An=new WeakMap,vn=new WeakMap,Kt=new WeakMap,Ln=new WeakMap,Tn=new WeakSet,tu=function(xt){xt.altKey||xt.shiftKey||xt.ctrlKey||xt.metaKey||(xt.key==="Enter"||xt.key==="Escape"&&g(this,sn))&&qt(this,Tn,ts).call(this)},ts=function(){dn(this,sn,!g(this,sn)),g(this,sn)?(qt(this,Tn,Vs).call(this),g(this,rn).addEventListener("click",g(this,Cn)),g(this,rn).addEventListener("keydown",g(this,hn))):(qt(this,Tn,Ws).call(this),g(this,rn).removeEventListener("click",g(this,Cn)),g(this,rn).removeEventListener("keydown",g(this,hn)))},Vs=function(){g(this,pn)||this.render(),this.isVisible?g(this,sn)&&g(this,rn).classList.add("focused"):(g(this,rn).hidden=!1,g(this,rn).style.zIndex=parseInt(g(this,rn).style.zIndex)+1e3)},Ws=function(){g(this,rn).classList.remove("focused"),!(g(this,sn)||!this.isVisible)&&(g(this,rn).hidden=!0,g(this,rn).style.zIndex=parseInt(g(this,rn).style.zIndex)-1e3)};class At extends lt{constructor(xt){super(xt,{isRenderable:!0,ignoreBorder:!0}),this.textContent=xt.data.textContent,this.textPosition=xt.data.textPosition,this.annotationEditorType=o.AnnotationEditorType.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const xt=document.createElement("div");xt.classList.add("annotationTextContent"),xt.setAttribute("role","comment");for(const Ct of this.textContent){const Ht=document.createElement("span");Ht.textContent=Ct,xt.append(Ht)}this.container.append(xt)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}i.FreeTextAnnotationElement=At;class ht extends lt{constructor(Ct){super(Ct,{isRenderable:!0,ignoreBorder:!0});cn(this,Vn,null)}render(){this.container.classList.add("lineAnnotation");const Ct=this.data,{width:Ht,height:_t}=ut(Ct.rect),kt=this.svgFactory.create(Ht,_t,!0),It=dn(this,Vn,this.svgFactory.createElement("svg:line"));return It.setAttribute("x1",Ct.rect[2]-Ct.lineCoordinates[0]),It.setAttribute("y1",Ct.rect[3]-Ct.lineCoordinates[1]),It.setAttribute("x2",Ct.rect[2]-Ct.lineCoordinates[2]),It.setAttribute("y2",Ct.rect[3]-Ct.lineCoordinates[3]),It.setAttribute("stroke-width",Ct.borderStyle.width||1),It.setAttribute("stroke","transparent"),It.setAttribute("fill","transparent"),kt.append(It),this.container.append(kt),!Ct.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return g(this,Vn)}addHighlightArea(){this.container.classList.add("highlightArea")}}Vn=new WeakMap;class St extends lt{constructor(Ct){super(Ct,{isRenderable:!0,ignoreBorder:!0});cn(this,or,null)}render(){this.container.classList.add("squareAnnotation");const Ct=this.data,{width:Ht,height:_t}=ut(Ct.rect),kt=this.svgFactory.create(Ht,_t,!0),It=Ct.borderStyle.width,Wt=dn(this,or,this.svgFactory.createElement("svg:rect"));return Wt.setAttribute("x",It/2),Wt.setAttribute("y",It/2),Wt.setAttribute("width",Ht-It),Wt.setAttribute("height",_t-It),Wt.setAttribute("stroke-width",It||1),Wt.setAttribute("stroke","transparent"),Wt.setAttribute("fill","transparent"),kt.append(Wt),this.container.append(kt),!Ct.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return g(this,or)}addHighlightArea(){this.container.classList.add("highlightArea")}}or=new WeakMap;class Rt extends lt{constructor(Ct){super(Ct,{isRenderable:!0,ignoreBorder:!0});cn(this,wr,null)}render(){this.container.classList.add("circleAnnotation");const Ct=this.data,{width:Ht,height:_t}=ut(Ct.rect),kt=this.svgFactory.create(Ht,_t,!0),It=Ct.borderStyle.width,Wt=dn(this,wr,this.svgFactory.createElement("svg:ellipse"));return Wt.setAttribute("cx",Ht/2),Wt.setAttribute("cy",_t/2),Wt.setAttribute("rx",Ht/2-It/2),Wt.setAttribute("ry",_t/2-It/2),Wt.setAttribute("stroke-width",It||1),Wt.setAttribute("stroke","transparent"),Wt.setAttribute("fill","transparent"),kt.append(Wt),this.container.append(kt),!Ct.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return g(this,wr)}addHighlightArea(){this.container.classList.add("highlightArea")}}wr=new WeakMap;class Jt extends lt{constructor(Ct){super(Ct,{isRenderable:!0,ignoreBorder:!0});cn(this,_n,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const Ct=this.data,{width:Ht,height:_t}=ut(Ct.rect),kt=this.svgFactory.create(Ht,_t,!0);let It=[];for(const yn of Ct.vertices){const kn=yn.x-Ct.rect[0],En=Ct.rect[3]-yn.y;It.push(kn+","+En)}It=It.join(" ");const Wt=dn(this,_n,this.svgFactory.createElement(this.svgElementName));return Wt.setAttribute("points",It),Wt.setAttribute("stroke-width",Ct.borderStyle.width||1),Wt.setAttribute("stroke","transparent"),Wt.setAttribute("fill","transparent"),kt.append(Wt),this.container.append(kt),!Ct.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return g(this,_n)}addHighlightArea(){this.container.classList.add("highlightArea")}}_n=new WeakMap;class Ut extends Jt{constructor(xt){super(xt),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class Yt extends lt{constructor(xt){super(xt,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}class Nt extends lt{constructor(Ct){super(Ct,{isRenderable:!0,ignoreBorder:!0});cn(this,Zt,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=o.AnnotationEditorType.INK}render(){this.container.classList.add(this.containerClassName);const Ct=this.data,{width:Ht,height:_t}=ut(Ct.rect),kt=this.svgFactory.create(Ht,_t,!0);for(const It of Ct.inkLists){let Wt=[];for(const kn of It){const En=kn.x-Ct.rect[0],Mn=Ct.rect[3]-kn.y;Wt.push(`${En},${Mn}`)}Wt=Wt.join(" ");const yn=this.svgFactory.createElement(this.svgElementName);g(this,Zt).push(yn),yn.setAttribute("points",Wt),yn.setAttribute("stroke-width",Ct.borderStyle.width||1),yn.setAttribute("stroke","transparent"),yn.setAttribute("fill","transparent"),!Ct.popupRef&&this.hasPopupData&&this._createPopup(),kt.append(yn)}return this.container.append(kt),this.container}getElementsToTriggerPopup(){return g(this,Zt)}addHighlightArea(){this.container.classList.add("highlightArea")}}Zt=new WeakMap,i.InkAnnotationElement=Nt;class Bt extends lt{constructor(xt){super(xt,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this.container}}class wt extends lt{constructor(xt){super(xt,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class Lt extends lt{constructor(xt){super(xt,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class $t extends lt{constructor(xt){super(xt,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class bt extends lt{constructor(xt){super(xt,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("stampAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}i.StampAnnotationElement=bt;class at extends lt{constructor(Ct){var kt;super(Ct,{isRenderable:!0});cn(this,Bn);cn(this,en,null);const{filename:Ht,content:_t}=this.data.file;this.filename=(0,c.getFilenameFromUrl)(Ht,!0),this.content=_t,(kt=this.linkService.eventBus)==null||kt.dispatch("fileattachmentannotation",{source:this,filename:Ht,content:_t})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:Ct,data:Ht}=this;let _t;Ht.hasAppearance||Ht.fillAlpha===0?_t=document.createElement("div"):(_t=document.createElement("img"),_t.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(Ht.name)?"paperclip":"pushpin"}.svg`,Ht.fillAlpha&&Ht.fillAlpha<1&&(_t.style=`filter: opacity(${Math.round(Ht.fillAlpha*100)}%);`)),_t.addEventListener("dblclick",qt(this,Bn,$s).bind(this)),dn(this,en,_t);const{isMac:kt}=o.FeatureTest.platform;return Ct.addEventListener("keydown",It=>{It.key==="Enter"&&(kt?It.metaKey:It.ctrlKey)&&qt(this,Bn,$s).call(this)}),!Ht.popupRef&&this.hasPopupData?this._createPopup():_t.classList.add("popupTriggerArea"),Ct.append(_t),Ct}getElementsToTriggerPopup(){return g(this,en)}addHighlightArea(){this.container.classList.add("highlightArea")}}en=new WeakMap,Bn=new WeakSet,$s=function(){var Ct;(Ct=this.downloadManager)==null||Ct.openOrDownloadData(this.container,this.content,this.filename)};class st{constructor({div:xt,accessibilityManager:Ct,annotationCanvasMap:Ht,l10n:_t,page:kt,viewport:It}){cn(this,Dn);cn(this,Yn,null);cn(this,Dt,null);cn(this,gn,new Map);this.div=xt,dn(this,Yn,Ct),dn(this,Dt,Ht),this.l10n=_t,this.page=kt,this.viewport=It,this.zIndex=0,this.l10n||(this.l10n=et.NullL10n)}async render(xt){const{annotations:Ct}=xt,Ht=this.div;(0,c.setLayerDimensions)(Ht,this.viewport);const _t=new Map,kt={data:null,layer:Ht,linkService:xt.linkService,downloadManager:xt.downloadManager,imageResourcesPath:xt.imageResourcesPath||"",renderForms:xt.renderForms!==!1,svgFactory:new c.DOMSVGFactory,annotationStorage:xt.annotationStorage||new s.AnnotationStorage,enableScripting:xt.enableScripting===!0,hasJSActions:xt.hasJSActions,fieldObjects:xt.fieldObjects,parent:this,elements:null};for(const It of Ct){if(It.noHTML)continue;const Wt=It.annotationType===o.AnnotationType.POPUP;if(Wt){const En=_t.get(It.id);if(!En)continue;kt.elements=En}else{const{width:En,height:Mn}=ut(It.rect);if(En<=0||Mn<=0)continue}kt.data=It;const yn=ot.create(kt);if(!yn.isRenderable)continue;if(!Wt&&It.popupRef){const En=_t.get(It.popupRef);En?En.push(yn):_t.set(It.popupRef,[yn])}yn.annotationEditorType>0&&g(this,gn).set(yn.data.id,yn);const kn=yn.render();It.hidden&&(kn.style.visibility="hidden"),qt(this,Dn,nu).call(this,kn,It.id)}qt(this,Dn,Gs).call(this),await this.l10n.translate(Ht)}update({viewport:xt}){const Ct=this.div;this.viewport=xt,(0,c.setLayerDimensions)(Ct,{rotation:xt.rotation}),qt(this,Dn,Gs).call(this),Ct.hidden=!1}getEditableAnnotations(){return Array.from(g(this,gn).values())}getEditableAnnotation(xt){return g(this,gn).get(xt)}}Yn=new WeakMap,Dt=new WeakMap,gn=new WeakMap,Dn=new WeakSet,nu=function(xt,Ct){var _t;const Ht=xt.firstChild||xt;Ht.id=`${o.AnnotationPrefix}${Ct}`,this.div.append(xt),(_t=g(this,Yn))==null||_t.moveElementInDOM(this.div,xt,Ht,!1)},Gs=function(){if(!g(this,Dt))return;const xt=this.div;for(const[Ct,Ht]of g(this,Dt)){const _t=xt.querySelector(`[data-annotation-id="${Ct}"]`);if(!_t)continue;const{firstChild:kt}=_t;kt?kt.nodeName==="CANVAS"?kt.replaceWith(Ht):kt.before(Ht):_t.append(Ht)}g(this,Dt).clear()},i.AnnotationLayer=st},(e,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.ColorConverters=void 0;function a(s){return Math.floor(Math.max(0,Math.min(1,s))*255).toString(16).padStart(2,"0")}function o(s){return Math.max(0,Math.min(255,255*s))}class c{static CMYK_G([d,et,h,_e]){return["G",1-Math.min(1,.3*d+.59*h+.11*et+_e)]}static G_CMYK([d]){return["CMYK",0,0,0,1-d]}static G_RGB([d]){return["RGB",d,d,d]}static G_rgb([d]){return d=o(d),[d,d,d]}static G_HTML([d]){const et=a(d);return`#${et}${et}${et}`}static RGB_G([d,et,h]){return["G",.3*d+.59*et+.11*h]}static RGB_rgb(d){return d.map(o)}static RGB_HTML(d){return`#${d.map(a).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([d,et,h,_e]){return["RGB",1-Math.min(1,d+_e),1-Math.min(1,h+_e),1-Math.min(1,et+_e)]}static CMYK_rgb([d,et,h,_e]){return[o(1-Math.min(1,d+_e)),o(1-Math.min(1,h+_e)),o(1-Math.min(1,et+_e))]}static CMYK_HTML(d){const et=this.CMYK_RGB(d).slice(1);return this.RGB_HTML(et)}static RGB_CMYK([d,et,h]){const _e=1-d,_=1-et,ct=1-h,ut=Math.min(_e,_,ct);return["CMYK",_e,_,ct,ut]}}i.ColorConverters=c},(e,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.NullL10n=void 0,i.getL10nFallback=o;const a={of_pages:"of {{pagesCount}}",page_of_pages:"({{pageNumber}} of {{pagesCount}})",document_properties_kb:"{{size_kb}} KB ({{size_b}} bytes)",document_properties_mb:"{{size_mb}} MB ({{size_b}} bytes)",document_properties_date_string:"{{date}}, {{time}}",document_properties_page_size_unit_inches:"in",document_properties_page_size_unit_millimeters:"mm",document_properties_page_size_orientation_portrait:"portrait",document_properties_page_size_orientation_landscape:"landscape",document_properties_page_size_name_a3:"A3",document_properties_page_size_name_a4:"A4",document_properties_page_size_name_letter:"Letter",document_properties_page_size_name_legal:"Legal",document_properties_page_size_dimension_string:"{{width}} × {{height}} {{unit}} ({{orientation}})",document_properties_page_size_dimension_name_string:"{{width}} × {{height}} {{unit}} ({{name}}, {{orientation}})",document_properties_linearized_yes:"Yes",document_properties_linearized_no:"No",additional_layers:"Additional Layers",page_landmark:"Page {{page}}",thumb_page_title:"Page {{page}}",thumb_page_canvas:"Thumbnail of Page {{page}}",find_reached_top:"Reached top of document, continued from bottom",find_reached_bottom:"Reached end of document, continued from top","find_match_count[one]":"{{current}} of {{total}} match","find_match_count[other]":"{{current}} of {{total}} matches","find_match_count_limit[one]":"More than {{limit}} match","find_match_count_limit[other]":"More than {{limit}} matches",find_not_found:"Phrase not found",page_scale_width:"Page Width",page_scale_fit:"Page Fit",page_scale_auto:"Automatic Zoom",page_scale_actual:"Actual Size",page_scale_percent:"{{scale}}%",loading_error:"An error occurred while loading the PDF.",invalid_file_error:"Invalid or corrupted PDF file.",missing_file_error:"Missing PDF file.",unexpected_response_error:"Unexpected server response.",rendering_error:"An error occurred while rendering the page.",annotation_date_string:"{{date}}, {{time}}",printing_not_supported:"Warning: Printing is not fully supported by this browser.",printing_not_ready:"Warning: The PDF is not fully loaded for printing.",web_fonts_disabled:"Web fonts are disabled: unable to use embedded PDF fonts.",free_text2_default_content:"Start typing…",editor_free_text2_aria_label:"Text Editor",editor_ink2_aria_label:"Draw Editor",editor_ink_canvas_aria_label:"User-created image",editor_alt_text_button_label:"Alt text",editor_alt_text_edit_button_label:"Edit alt text",editor_alt_text_decorative_tooltip:"Marked as decorative"};a.print_progress_percent="{{progress}}%";function o(d,et){switch(d){case"find_match_count":d=`find_match_count[${et.total===1?"one":"other"}]`;break;case"find_match_count_limit":d=`find_match_count_limit[${et.limit===1?"one":"other"}]`;break}return a[d]||""}function c(d,et){return et?d.replaceAll(/\{\{\s*(\w+)\s*\}\}/g,(h,_e)=>_e in et?et[_e]:"{{"+_e+"}}"):d}const s={async getLanguage(){return"en-us"},async getDirection(){return"ltr"},async get(d,et=null,h=o(d,et)){return c(h,et)},async translate(d){}};i.NullL10n=s},(e,i,a)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.XfaLayer=void 0;var o=a(25);class c{static setupStorage(d,et,h,_e,_){const ct=_e.getValue(et,{value:null});switch(h.name){case"textarea":if(ct.value!==null&&(d.textContent=ct.value),_==="print")break;d.addEventListener("input",ut=>{_e.setValue(et,{value:ut.target.value})});break;case"input":if(h.attributes.type==="radio"||h.attributes.type==="checkbox"){if(ct.value===h.attributes.xfaOn?d.setAttribute("checked",!0):ct.value===h.attributes.xfaOff&&d.removeAttribute("checked"),_==="print")break;d.addEventListener("change",ut=>{_e.setValue(et,{value:ut.target.checked?ut.target.getAttribute("xfaOn"):ut.target.getAttribute("xfaOff")})})}else{if(ct.value!==null&&d.setAttribute("value",ct.value),_==="print")break;d.addEventListener("input",ut=>{_e.setValue(et,{value:ut.target.value})})}break;case"select":if(ct.value!==null){d.setAttribute("value",ct.value);for(const ut of h.children)ut.attributes.value===ct.value?ut.attributes.selected=!0:ut.attributes.hasOwnProperty("selected")&&delete ut.attributes.selected}d.addEventListener("input",ut=>{const ot=ut.target.options,lt=ot.selectedIndex===-1?"":ot[ot.selectedIndex].value;_e.setValue(et,{value:lt})});break}}static setAttributes({html:d,element:et,storage:h=null,intent:_e,linkService:_}){const{attributes:ct}=et,ut=d instanceof HTMLAnchorElement;ct.type==="radio"&&(ct.name=`${ct.name}-${_e}`);for(const[ot,lt]of Object.entries(ct))if(lt!=null)switch(ot){case"class":lt.length&&d.setAttribute(ot,lt.join(" "));break;case"dataId":break;case"id":d.setAttribute("data-element-id",lt);break;case"style":Object.assign(d.style,lt);break;case"textContent":d.textContent=lt;break;default:(!ut||ot!=="href"&&ot!=="newWindow")&&d.setAttribute(ot,lt)}ut&&_.addLinkAttributes(d,ct.href,ct.newWindow),h&&ct.dataId&&this.setupStorage(d,ct.dataId,et,h)}static render(d){var gt;const et=d.annotationStorage,h=d.linkService,_e=d.xfaHtml,_=d.intent||"display",ct=document.createElement(_e.name);_e.attributes&&this.setAttributes({html:ct,element:_e,intent:_,linkService:h});const ut=[[_e,-1,ct]],ot=d.div;if(ot.append(ct),d.viewport){const mt=`matrix(${d.viewport.transform.join(",")})`;ot.style.transform=mt}_!=="richText"&&ot.setAttribute("class","xfaLayer xfaFont");const lt=[];for(;ut.length>0;){const[mt,j,b]=ut.at(-1);if(j+1===mt.children.length){ut.pop();continue}const ft=mt.children[++ut.at(-1)[1]];if(ft===null)continue;const{name:pt}=ft;if(pt==="#text"){const $=document.createTextNode(ft.value);lt.push($),b.append($);continue}const nt=(gt=ft==null?void 0:ft.attributes)!=null&&gt.xmlns?document.createElementNS(ft.attributes.xmlns,pt):document.createElement(pt);if(b.append(nt),ft.attributes&&this.setAttributes({html:nt,element:ft,storage:et,intent:_,linkService:h}),ft.children&&ft.children.length>0)ut.push([ft,-1,nt]);else if(ft.value){const $=document.createTextNode(ft.value);o.XfaText.shouldBuildText(pt)&&lt.push($),nt.append($)}}for(const mt of ot.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))mt.setAttribute("readOnly",!0);return{textDivs:lt}}static update(d){const et=`matrix(${d.viewport.transform.join(",")})`;d.div.style.transform=et,d.div.hidden=!1}}i.XfaLayer=c},(e,i,a)=>{var _e,_,ct,ut,ot,lt,gt,mt,j,b,ft,pt,nt,$,rt,ru,iu,au,ou,Xs,su,qs,lu,cu,uu,du,hu,uo,Ys,ns,rs,To,Ks,is,Tt,fu,Qs,pu,gu,Zs,as,Mo;Object.defineProperty(i,"__esModule",{value:!0}),i.InkEditor=void 0;var o=a(1),c=a(4),s=a(29),d=a(6),et=a(5);const bn=class bn extends c.AnnotationEditor{constructor(Et){super({...Et,name:"inkEditor"});cn(this,rt);cn(this,_e,0);cn(this,_,0);cn(this,ct,this.canvasPointermove.bind(this));cn(this,ut,this.canvasPointerleave.bind(this));cn(this,ot,this.canvasPointerup.bind(this));cn(this,lt,this.canvasPointerdown.bind(this));cn(this,gt,new Path2D);cn(this,mt,!1);cn(this,j,!1);cn(this,b,!1);cn(this,ft,null);cn(this,pt,0);cn(this,nt,0);cn(this,$,null);this.color=Et.color||null,this.thickness=Et.thickness||null,this.opacity=Et.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(Et){c.AnnotationEditor.initialize(Et,{strings:["editor_ink_canvas_aria_label","editor_ink2_aria_label"]})}static updateDefaultParams(Et,Ft){switch(Et){case o.AnnotationEditorParamsType.INK_THICKNESS:bn._defaultThickness=Ft;break;case o.AnnotationEditorParamsType.INK_COLOR:bn._defaultColor=Ft;break;case o.AnnotationEditorParamsType.INK_OPACITY:bn._defaultOpacity=Ft/100;break}}updateParams(Et,Ft){switch(Et){case o.AnnotationEditorParamsType.INK_THICKNESS:qt(this,rt,ru).call(this,Ft);break;case o.AnnotationEditorParamsType.INK_COLOR:qt(this,rt,iu).call(this,Ft);break;case o.AnnotationEditorParamsType.INK_OPACITY:qt(this,rt,au).call(this,Ft);break}}static get defaultPropertiesToUpdate(){return[[o.AnnotationEditorParamsType.INK_THICKNESS,bn._defaultThickness],[o.AnnotationEditorParamsType.INK_COLOR,bn._defaultColor||c.AnnotationEditor._defaultLineColor],[o.AnnotationEditorParamsType.INK_OPACITY,Math.round(bn._defaultOpacity*100)]]}get propertiesToUpdate(){return[[o.AnnotationEditorParamsType.INK_THICKNESS,this.thickness||bn._defaultThickness],[o.AnnotationEditorParamsType.INK_COLOR,this.color||bn._defaultColor||c.AnnotationEditor._defaultLineColor],[o.AnnotationEditorParamsType.INK_OPACITY,Math.round(100*(this.opacity??bn._defaultOpacity))]]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.canvas||(qt(this,rt,ns).call(this),qt(this,rt,rs).call(this)),this.isAttachedToDOM||(this.parent.add(this),qt(this,rt,To).call(this)),qt(this,rt,Mo).call(this)))}remove(){this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,g(this,ft).disconnect(),dn(this,ft,null),super.remove())}setParent(Et){!this.parent&&Et?this._uiManager.removeShouldRescale(this):this.parent&&Et===null&&this._uiManager.addShouldRescale(this),super.setParent(Et)}onScaleChanging(){const[Et,Ft]=this.parentDimensions,Qt=this.width*Et,sn=this.height*Ft;this.setDimensions(Qt,sn)}enableEditMode(){g(this,mt)||this.canvas===null||(super.enableEditMode(),this._isDraggable=!1,this.canvas.addEventListener("pointerdown",g(this,lt)))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),this.canvas.removeEventListener("pointerdown",g(this,lt)))}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}commit(){g(this,mt)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),dn(this,mt,!0),this.div.classList.add("disabled"),qt(this,rt,Mo).call(this,!0),this.makeResizable(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(Et){this._focusEventsAllowed&&(super.focusin(Et),this.enableEditMode())}canvasPointerdown(Et){Et.button!==0||!this.isInEditMode()||g(this,mt)||(this.setInForeground(),Et.preventDefault(),Et.type!=="mouse"&&this.div.focus(),qt(this,rt,su).call(this,Et.offsetX,Et.offsetY))}canvasPointermove(Et){Et.preventDefault(),qt(this,rt,qs).call(this,Et.offsetX,Et.offsetY)}canvasPointerup(Et){Et.preventDefault(),qt(this,rt,Ys).call(this,Et)}canvasPointerleave(Et){qt(this,rt,Ys).call(this,Et)}get isResizable(){return!this.isEmpty()&&g(this,mt)}render(){if(this.div)return this.div;let Et,Ft;this.width&&(Et=this.x,Ft=this.y),super.render(),c.AnnotationEditor._l10nPromise.get("editor_ink2_aria_label").then(vn=>{var Kt;return(Kt=this.div)==null?void 0:Kt.setAttribute("aria-label",vn)});const[Qt,sn,pn,An]=qt(this,rt,ou).call(this);if(this.setAt(Qt,sn,0,0),this.setDims(pn,An),qt(this,rt,ns).call(this),this.width){const[vn,Kt]=this.parentDimensions;this.setAspectRatio(this.width*vn,this.height*Kt),this.setAt(Et*vn,Ft*Kt,this.width*vn,this.height*Kt),dn(this,b,!0),qt(this,rt,To).call(this),this.setDims(this.width*vn,this.height*Kt),qt(this,rt,uo).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return qt(this,rt,rs).call(this),this.div}setDimensions(Et,Ft){const Qt=Math.round(Et),sn=Math.round(Ft);if(g(this,pt)===Qt&&g(this,nt)===sn)return;dn(this,pt,Qt),dn(this,nt,sn),this.canvas.style.visibility="hidden";const[pn,An]=this.parentDimensions;this.width=Et/pn,this.height=Ft/An,this.fixAndSetPosition(),g(this,mt)&&qt(this,rt,Ks).call(this,Et,Ft),qt(this,rt,To).call(this),qt(this,rt,uo).call(this),this.canvas.style.visibility="visible",this.fixDims()}static deserialize(Et,Ft,Qt){var Vn,or,wr;if(Et instanceof s.InkAnnotationElement)return null;const sn=super.deserialize(Et,Ft,Qt);sn.thickness=Et.thickness,sn.color=o.Util.makeHexColor(...Et.color),sn.opacity=Et.opacity;const[pn,An]=sn.pageDimensions,vn=sn.width*pn,Kt=sn.height*An,Ln=sn.parentScale,Tn=Et.thickness/2;dn(sn,mt,!0),dn(sn,pt,Math.round(vn)),dn(sn,nt,Math.round(Kt));const{paths:Jn,rect:er,rotation:dr}=Et;for(let{bezier:_n}of Jn){_n=qt(Vn=bn,Tt,pu).call(Vn,_n,er,dr);const Zt=[];sn.paths.push(Zt);let en=Ln*(_n[0]-Tn),Bn=Ln*(_n[1]-Tn);for(let Yn=2,Dt=_n.length;Yn<Dt;Yn+=6){const gn=Ln*(_n[Yn]-Tn),Dn=Ln*(_n[Yn+1]-Tn),$n=Ln*(_n[Yn+2]-Tn),Gn=Ln*(_n[Yn+3]-Tn),zn=Ln*(_n[Yn+4]-Tn),xt=Ln*(_n[Yn+5]-Tn);Zt.push([[en,Bn],[gn,Dn],[$n,Gn],[zn,xt]]),en=zn,Bn=xt}const Wn=qt(this,Tt,fu).call(this,Zt);sn.bezierPath2D.push(Wn)}const Hn=qt(or=sn,rt,Zs).call(or);return dn(sn,_,Math.max(c.AnnotationEditor.MIN_SIZE,Hn[2]-Hn[0])),dn(sn,_e,Math.max(c.AnnotationEditor.MIN_SIZE,Hn[3]-Hn[1])),qt(wr=sn,rt,Ks).call(wr,vn,Kt),sn}serialize(){if(this.isEmpty())return null;const Et=this.getRect(0,0),Ft=c.AnnotationEditor._colorManager.convert(this.ctx.strokeStyle);return{annotationType:o.AnnotationEditorType.INK,color:Ft,thickness:this.thickness,opacity:this.opacity,paths:qt(this,rt,gu).call(this,this.scaleFactor/this.parentScale,this.translationX,this.translationY,Et),pageIndex:this.pageIndex,rect:Et,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}};_e=new WeakMap,_=new WeakMap,ct=new WeakMap,ut=new WeakMap,ot=new WeakMap,lt=new WeakMap,gt=new WeakMap,mt=new WeakMap,j=new WeakMap,b=new WeakMap,ft=new WeakMap,pt=new WeakMap,nt=new WeakMap,$=new WeakMap,rt=new WeakSet,ru=function(Et){const Ft=this.thickness;this.addCommands({cmd:()=>{this.thickness=Et,qt(this,rt,Mo).call(this)},undo:()=>{this.thickness=Ft,qt(this,rt,Mo).call(this)},mustExec:!0,type:o.AnnotationEditorParamsType.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})},iu=function(Et){const Ft=this.color;this.addCommands({cmd:()=>{this.color=Et,qt(this,rt,uo).call(this)},undo:()=>{this.color=Ft,qt(this,rt,uo).call(this)},mustExec:!0,type:o.AnnotationEditorParamsType.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})},au=function(Et){Et/=100;const Ft=this.opacity;this.addCommands({cmd:()=>{this.opacity=Et,qt(this,rt,uo).call(this)},undo:()=>{this.opacity=Ft,qt(this,rt,uo).call(this)},mustExec:!0,type:o.AnnotationEditorParamsType.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})},ou=function(){const{parentRotation:Et,parentDimensions:[Ft,Qt]}=this;switch(Et){case 90:return[0,Qt,Qt,Ft];case 180:return[Ft,Qt,Ft,Qt];case 270:return[Ft,0,Qt,Ft];default:return[0,0,Ft,Qt]}},Xs=function(){const{ctx:Et,color:Ft,opacity:Qt,thickness:sn,parentScale:pn,scaleFactor:An}=this;Et.lineWidth=sn*pn/An,Et.lineCap="round",Et.lineJoin="round",Et.miterLimit=10,Et.strokeStyle=`${Ft}${(0,et.opacityToHex)(Qt)}`},su=function(Et,Ft){this.canvas.addEventListener("contextmenu",d.noContextMenu),this.canvas.addEventListener("pointerleave",g(this,ut)),this.canvas.addEventListener("pointermove",g(this,ct)),this.canvas.addEventListener("pointerup",g(this,ot)),this.canvas.removeEventListener("pointerdown",g(this,lt)),this.isEditing=!0,g(this,b)||(dn(this,b,!0),qt(this,rt,To).call(this),this.thickness||(this.thickness=bn._defaultThickness),this.color||(this.color=bn._defaultColor||c.AnnotationEditor._defaultLineColor),this.opacity??(this.opacity=bn._defaultOpacity)),this.currentPath.push([Et,Ft]),dn(this,j,!1),qt(this,rt,Xs).call(this),dn(this,$,()=>{qt(this,rt,uu).call(this),g(this,$)&&window.requestAnimationFrame(g(this,$))}),window.requestAnimationFrame(g(this,$))},qs=function(Et,Ft){const[Qt,sn]=this.currentPath.at(-1);if(this.currentPath.length>1&&Et===Qt&&Ft===sn)return;const pn=this.currentPath;let An=g(this,gt);if(pn.push([Et,Ft]),dn(this,j,!0),pn.length<=2){An.moveTo(...pn[0]),An.lineTo(Et,Ft);return}pn.length===3&&(dn(this,gt,An=new Path2D),An.moveTo(...pn[0])),qt(this,rt,du).call(this,An,...pn.at(-3),...pn.at(-2),Et,Ft)},lu=function(){if(this.currentPath.length===0)return;const Et=this.currentPath.at(-1);g(this,gt).lineTo(...Et)},cu=function(Et,Ft){dn(this,$,null),Et=Math.min(Math.max(Et,0),this.canvas.width),Ft=Math.min(Math.max(Ft,0),this.canvas.height),qt(this,rt,qs).call(this,Et,Ft),qt(this,rt,lu).call(this);let Qt;if(this.currentPath.length!==1)Qt=qt(this,rt,hu).call(this);else{const Kt=[Et,Ft];Qt=[[Kt,Kt.slice(),Kt.slice(),Kt]]}const sn=g(this,gt),pn=this.currentPath;this.currentPath=[],dn(this,gt,new Path2D);const An=()=>{this.allRawPaths.push(pn),this.paths.push(Qt),this.bezierPath2D.push(sn),this.rebuild()},vn=()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(qt(this,rt,ns).call(this),qt(this,rt,rs).call(this)),qt(this,rt,Mo).call(this))};this.addCommands({cmd:An,undo:vn,mustExec:!0})},uu=function(){if(!g(this,j))return;dn(this,j,!1);const Et=Math.ceil(this.thickness*this.parentScale),Ft=this.currentPath.slice(-3),Qt=Ft.map(An=>An[0]),sn=Ft.map(An=>An[1]);Math.min(...Qt)-Et,Math.max(...Qt)+Et,Math.min(...sn)-Et,Math.max(...sn)+Et;const{ctx:pn}=this;pn.save(),pn.clearRect(0,0,this.canvas.width,this.canvas.height);for(const An of this.bezierPath2D)pn.stroke(An);pn.stroke(g(this,gt)),pn.restore()},du=function(Et,Ft,Qt,sn,pn,An,vn){const Kt=(Ft+sn)/2,Ln=(Qt+pn)/2,Tn=(sn+An)/2,Jn=(pn+vn)/2;Et.bezierCurveTo(Kt+2*(sn-Kt)/3,Ln+2*(pn-Ln)/3,Tn+2*(sn-Tn)/3,Jn+2*(pn-Jn)/3,Tn,Jn)},hu=function(){const Et=this.currentPath;if(Et.length<=2)return[[Et[0],Et[0],Et.at(-1),Et.at(-1)]];const Ft=[];let Qt,[sn,pn]=Et[0];for(Qt=1;Qt<Et.length-2;Qt++){const[er,dr]=Et[Qt],[Hn,Vn]=Et[Qt+1],or=(er+Hn)/2,wr=(dr+Vn)/2,_n=[sn+2*(er-sn)/3,pn+2*(dr-pn)/3],Zt=[or+2*(er-or)/3,wr+2*(dr-wr)/3];Ft.push([[sn,pn],_n,Zt,[or,wr]]),[sn,pn]=[or,wr]}const[An,vn]=Et[Qt],[Kt,Ln]=Et[Qt+1],Tn=[sn+2*(An-sn)/3,pn+2*(vn-pn)/3],Jn=[Kt+2*(An-Kt)/3,Ln+2*(vn-Ln)/3];return Ft.push([[sn,pn],Tn,Jn,[Kt,Ln]]),Ft},uo=function(){if(this.isEmpty()){qt(this,rt,is).call(this);return}qt(this,rt,Xs).call(this);const{canvas:Et,ctx:Ft}=this;Ft.setTransform(1,0,0,1,0,0),Ft.clearRect(0,0,Et.width,Et.height),qt(this,rt,is).call(this);for(const Qt of this.bezierPath2D)Ft.stroke(Qt)},Ys=function(Et){this.canvas.removeEventListener("pointerleave",g(this,ut)),this.canvas.removeEventListener("pointermove",g(this,ct)),this.canvas.removeEventListener("pointerup",g(this,ot)),this.canvas.addEventListener("pointerdown",g(this,lt)),setTimeout(()=>{this.canvas.removeEventListener("contextmenu",d.noContextMenu)},10),qt(this,rt,cu).call(this,Et.offsetX,Et.offsetY),this.addToAnnotationStorage(),this.setInBackground()},ns=function(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",c.AnnotationEditor._l10nPromise.get("editor_ink_canvas_aria_label").then(Et=>{var Ft;return(Ft=this.canvas)==null?void 0:Ft.setAttribute("aria-label",Et)}),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")},rs=function(){dn(this,ft,new ResizeObserver(Et=>{const Ft=Et[0].contentRect;Ft.width&&Ft.height&&this.setDimensions(Ft.width,Ft.height)})),g(this,ft).observe(this.div)},To=function(){if(!g(this,b))return;const[Et,Ft]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*Et),this.canvas.height=Math.ceil(this.height*Ft),qt(this,rt,is).call(this)},Ks=function(Et,Ft){const Qt=qt(this,rt,as).call(this),sn=(Et-Qt)/g(this,_),pn=(Ft-Qt)/g(this,_e);this.scaleFactor=Math.min(sn,pn)},is=function(){const Et=qt(this,rt,as).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+Et,this.translationY*this.scaleFactor+Et)},Tt=new WeakSet,fu=function(Et){const Ft=new Path2D;for(let Qt=0,sn=Et.length;Qt<sn;Qt++){const[pn,An,vn,Kt]=Et[Qt];Qt===0&&Ft.moveTo(...pn),Ft.bezierCurveTo(An[0],An[1],vn[0],vn[1],Kt[0],Kt[1])}return Ft},Qs=function(Et,Ft,Qt){const[sn,pn,An,vn]=Ft;switch(Qt){case 0:for(let Kt=0,Ln=Et.length;Kt<Ln;Kt+=2)Et[Kt]+=sn,Et[Kt+1]=vn-Et[Kt+1];break;case 90:for(let Kt=0,Ln=Et.length;Kt<Ln;Kt+=2){const Tn=Et[Kt];Et[Kt]=Et[Kt+1]+sn,Et[Kt+1]=Tn+pn}break;case 180:for(let Kt=0,Ln=Et.length;Kt<Ln;Kt+=2)Et[Kt]=An-Et[Kt],Et[Kt+1]+=pn;break;case 270:for(let Kt=0,Ln=Et.length;Kt<Ln;Kt+=2){const Tn=Et[Kt];Et[Kt]=An-Et[Kt+1],Et[Kt+1]=vn-Tn}break;default:throw new Error("Invalid rotation")}return Et},pu=function(Et,Ft,Qt){const[sn,pn,An,vn]=Ft;switch(Qt){case 0:for(let Kt=0,Ln=Et.length;Kt<Ln;Kt+=2)Et[Kt]-=sn,Et[Kt+1]=vn-Et[Kt+1];break;case 90:for(let Kt=0,Ln=Et.length;Kt<Ln;Kt+=2){const Tn=Et[Kt];Et[Kt]=Et[Kt+1]-pn,Et[Kt+1]=Tn-sn}break;case 180:for(let Kt=0,Ln=Et.length;Kt<Ln;Kt+=2)Et[Kt]=An-Et[Kt],Et[Kt+1]-=pn;break;case 270:for(let Kt=0,Ln=Et.length;Kt<Ln;Kt+=2){const Tn=Et[Kt];Et[Kt]=vn-Et[Kt+1],Et[Kt+1]=An-Tn}break;default:throw new Error("Invalid rotation")}return Et},gu=function(Et,Ft,Qt,sn){var Ln,Tn;const pn=[],An=this.thickness/2,vn=Et*Ft+An,Kt=Et*Qt+An;for(const Jn of this.paths){const er=[],dr=[];for(let Hn=0,Vn=Jn.length;Hn<Vn;Hn++){const[or,wr,_n,Zt]=Jn[Hn],en=Et*or[0]+vn,Bn=Et*or[1]+Kt,Wn=Et*wr[0]+vn,Yn=Et*wr[1]+Kt,Dt=Et*_n[0]+vn,gn=Et*_n[1]+Kt,Dn=Et*Zt[0]+vn,$n=Et*Zt[1]+Kt;Hn===0&&(er.push(en,Bn),dr.push(en,Bn)),er.push(Wn,Yn,Dt,gn,Dn,$n),dr.push(Wn,Yn),Hn===Vn-1&&dr.push(Dn,$n)}pn.push({bezier:qt(Ln=bn,Tt,Qs).call(Ln,er,sn,this.rotation),points:qt(Tn=bn,Tt,Qs).call(Tn,dr,sn,this.rotation)})}return pn},Zs=function(){let Et=1/0,Ft=-1/0,Qt=1/0,sn=-1/0;for(const pn of this.paths)for(const[An,vn,Kt,Ln]of pn){const Tn=o.Util.bezierBoundingBox(...An,...vn,...Kt,...Ln);Et=Math.min(Et,Tn[0]),Qt=Math.min(Qt,Tn[1]),Ft=Math.max(Ft,Tn[2]),sn=Math.max(sn,Tn[3])}return[Et,Qt,Ft,sn]},as=function(){return g(this,mt)?Math.ceil(this.thickness*this.parentScale):0},Mo=function(Et=!1){if(this.isEmpty())return;if(!g(this,mt)){qt(this,rt,uo).call(this);return}const Ft=qt(this,rt,Zs).call(this),Qt=qt(this,rt,as).call(this);dn(this,_,Math.max(c.AnnotationEditor.MIN_SIZE,Ft[2]-Ft[0])),dn(this,_e,Math.max(c.AnnotationEditor.MIN_SIZE,Ft[3]-Ft[1]));const sn=Math.ceil(Qt+g(this,_)*this.scaleFactor),pn=Math.ceil(Qt+g(this,_e)*this.scaleFactor),[An,vn]=this.parentDimensions;this.width=sn/An,this.height=pn/vn,this.setAspectRatio(sn,pn);const Kt=this.translationX,Ln=this.translationY;this.translationX=-Ft[0],this.translationY=-Ft[1],qt(this,rt,To).call(this),qt(this,rt,uo).call(this),dn(this,pt,sn),dn(this,nt,pn),this.setDims(sn,pn);const Tn=Et?Qt/this.scaleFactor/2:0;this.translate(Kt-this.translationX-Tn,Ln-this.translationY-Tn)},cn(bn,Tt),Nr(bn,"_defaultColor",null),Nr(bn,"_defaultOpacity",1),Nr(bn,"_defaultThickness",1),Nr(bn,"_type","ink");let h=bn;i.InkEditor=h},(e,i,a)=>{var h,_e,_,ct,ut,ot,lt,gt,mt,j,b,Bo,Uo,os,Js,mu,vu,yl,ss,yu;Object.defineProperty(i,"__esModule",{value:!0}),i.StampEditor=void 0;var o=a(1),c=a(4),s=a(6),d=a(29);const St=class St extends c.AnnotationEditor{constructor(Ut){super({...Ut,name:"stampEditor"});cn(this,b);cn(this,h,null);cn(this,_e,null);cn(this,_,null);cn(this,ct,null);cn(this,ut,null);cn(this,ot,null);cn(this,lt,null);cn(this,gt,null);cn(this,mt,!1);cn(this,j,!1);dn(this,ct,Ut.bitmapUrl),dn(this,ut,Ut.bitmapFile)}static initialize(Ut){c.AnnotationEditor.initialize(Ut)}static get supportedTypes(){const Ut=["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"];return(0,o.shadow)(this,"supportedTypes",Ut.map(Yt=>`image/${Yt}`))}static get supportedTypesStr(){return(0,o.shadow)(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(Ut){return this.supportedTypes.includes(Ut)}static paste(Ut,Yt){Yt.pasteEditor(o.AnnotationEditorType.STAMP,{bitmapFile:Ut.getAsFile()})}remove(){var Ut,Yt;g(this,_e)&&(dn(this,h,null),this._uiManager.imageManager.deleteId(g(this,_e)),(Ut=g(this,ot))==null||Ut.remove(),dn(this,ot,null),(Yt=g(this,lt))==null||Yt.disconnect(),dn(this,lt,null)),super.remove()}rebuild(){if(!this.parent){g(this,_e)&&qt(this,b,os).call(this);return}super.rebuild(),this.div!==null&&(g(this,_e)&&qt(this,b,os).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(g(this,_)||g(this,h)||g(this,ct)||g(this,ut))}get isResizable(){return!0}render(){if(this.div)return this.div;let Ut,Yt;if(this.width&&(Ut=this.x,Yt=this.y),super.render(),this.div.hidden=!0,g(this,h)?qt(this,b,Js).call(this):qt(this,b,os).call(this),this.width){const[Nt,Bt]=this.parentDimensions;this.setAt(Ut*Nt,Yt*Bt,this.width*Nt,this.height*Bt)}return this.div}static deserialize(Ut,Yt,Nt){if(Ut instanceof d.StampAnnotationElement)return null;const Bt=super.deserialize(Ut,Yt,Nt),{rect:wt,bitmapUrl:Lt,bitmapId:$t,isSvg:bt,accessibilityData:at}=Ut;$t&&Nt.imageManager.isValidId($t)?dn(Bt,_e,$t):dn(Bt,ct,Lt),dn(Bt,mt,bt);const[st,yt]=Bt.pageDimensions;return Bt.width=(wt[2]-wt[0])/st,Bt.height=(wt[3]-wt[1])/yt,at&&(Bt.altTextData=at),Bt}serialize(Ut=!1,Yt=null){if(this.isEmpty())return null;const Nt={annotationType:o.AnnotationEditorType.STAMP,bitmapId:g(this,_e),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:g(this,mt),structTreeParentId:this._structTreeParentId};if(Ut)return Nt.bitmapUrl=qt(this,b,ss).call(this,!0),Nt.accessibilityData=this.altTextData,Nt;const{decorative:Bt,altText:wt}=this.altTextData;if(!Bt&&wt&&(Nt.accessibilityData={type:"Figure",alt:wt}),Yt===null)return Nt;Yt.stamps||(Yt.stamps=new Map);const Lt=g(this,mt)?(Nt.rect[2]-Nt.rect[0])*(Nt.rect[3]-Nt.rect[1]):null;if(!Yt.stamps.has(g(this,_e)))Yt.stamps.set(g(this,_e),{area:Lt,serialized:Nt}),Nt.bitmap=qt(this,b,ss).call(this,!1);else if(g(this,mt)){const $t=Yt.stamps.get(g(this,_e));Lt>$t.area&&($t.area=Lt,$t.serialized.bitmap.close(),$t.serialized.bitmap=qt(this,b,ss).call(this,!1))}return Nt}};h=new WeakMap,_e=new WeakMap,_=new WeakMap,ct=new WeakMap,ut=new WeakMap,ot=new WeakMap,lt=new WeakMap,gt=new WeakMap,mt=new WeakMap,j=new WeakMap,b=new WeakSet,Bo=function(Ut,Yt=!1){if(!Ut){this.remove();return}dn(this,h,Ut.bitmap),Yt||(dn(this,_e,Ut.id),dn(this,mt,Ut.isSvg)),qt(this,b,Js).call(this)},Uo=function(){dn(this,_,null),this._uiManager.enableWaiting(!1),g(this,ot)&&this.div.focus()},os=function(){if(g(this,_e)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(g(this,_e)).then(Yt=>qt(this,b,Bo).call(this,Yt,!0)).finally(()=>qt(this,b,Uo).call(this));return}if(g(this,ct)){const Yt=g(this,ct);dn(this,ct,null),this._uiManager.enableWaiting(!0),dn(this,_,this._uiManager.imageManager.getFromUrl(Yt).then(Nt=>qt(this,b,Bo).call(this,Nt)).finally(()=>qt(this,b,Uo).call(this)));return}if(g(this,ut)){const Yt=g(this,ut);dn(this,ut,null),this._uiManager.enableWaiting(!0),dn(this,_,this._uiManager.imageManager.getFromFile(Yt).then(Nt=>qt(this,b,Bo).call(this,Nt)).finally(()=>qt(this,b,Uo).call(this)));return}const Ut=document.createElement("input");Ut.type="file",Ut.accept=St.supportedTypesStr,dn(this,_,new Promise(Yt=>{Ut.addEventListener("change",async()=>{if(!Ut.files||Ut.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const Nt=await this._uiManager.imageManager.getFromFile(Ut.files[0]);qt(this,b,Bo).call(this,Nt)}Yt()}),Ut.addEventListener("cancel",()=>{this.remove(),Yt()})}).finally(()=>qt(this,b,Uo).call(this))),Ut.click()},Js=function(){const{div:Ut}=this;let{width:Yt,height:Nt}=g(this,h);const[Bt,wt]=this.pageDimensions,Lt=.75;if(this.width)Yt=this.width*Bt,Nt=this.height*wt;else if(Yt>Lt*Bt||Nt>Lt*wt){const st=Math.min(Lt*Bt/Yt,Lt*wt/Nt);Yt*=st,Nt*=st}const[$t,bt]=this.parentDimensions;this.setDims(Yt*$t/Bt,Nt*bt/wt),this._uiManager.enableWaiting(!1);const at=dn(this,ot,document.createElement("canvas"));Ut.append(at),Ut.hidden=!1,qt(this,b,yl).call(this,Yt,Nt),qt(this,b,yu).call(this),g(this,j)||(this.parent.addUndoableEditor(this),dn(this,j,!0)),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",subtype:this.editorType,data:{action:"inserted_image"}}}),this.addAltTextButton()},mu=function(Ut,Yt){var Lt;const[Nt,Bt]=this.parentDimensions;this.width=Ut/Nt,this.height=Yt/Bt,this.setDims(Ut,Yt),(Lt=this._initialOptions)!=null&&Lt.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,g(this,gt)!==null&&clearTimeout(g(this,gt)),dn(this,gt,setTimeout(()=>{dn(this,gt,null),qt(this,b,yl).call(this,Ut,Yt)},200))},vu=function(Ut,Yt){const{width:Nt,height:Bt}=g(this,h);let wt=Nt,Lt=Bt,$t=g(this,h);for(;wt>2*Ut||Lt>2*Yt;){const bt=wt,at=Lt;wt>2*Ut&&(wt=wt>=16384?Math.floor(wt/2)-1:Math.ceil(wt/2)),Lt>2*Yt&&(Lt=Lt>=16384?Math.floor(Lt/2)-1:Math.ceil(Lt/2));const st=new OffscreenCanvas(wt,Lt);st.getContext("2d").drawImage($t,0,0,bt,at,0,0,wt,Lt),$t=st.transferToImageBitmap()}return $t},yl=function(Ut,Yt){Ut=Math.ceil(Ut),Yt=Math.ceil(Yt);const Nt=g(this,ot);if(!Nt||Nt.width===Ut&&Nt.height===Yt)return;Nt.width=Ut,Nt.height=Yt;const Bt=g(this,mt)?g(this,h):qt(this,b,vu).call(this,Ut,Yt),wt=Nt.getContext("2d");wt.filter=this._uiManager.hcmFilter,wt.drawImage(Bt,0,0,Bt.width,Bt.height,0,0,Ut,Yt)},ss=function(Ut){if(Ut){if(g(this,mt)){const Bt=this._uiManager.imageManager.getSvgUrl(g(this,_e));if(Bt)return Bt}const Yt=document.createElement("canvas");return{width:Yt.width,height:Yt.height}=g(this,h),Yt.getContext("2d").drawImage(g(this,h),0,0),Yt.toDataURL()}if(g(this,mt)){const[Yt,Nt]=this.pageDimensions,Bt=Math.round(this.width*Yt*s.PixelsPerInch.PDF_TO_CSS_UNITS),wt=Math.round(this.height*Nt*s.PixelsPerInch.PDF_TO_CSS_UNITS),Lt=new OffscreenCanvas(Bt,wt);return Lt.getContext("2d").drawImage(g(this,h),0,0,g(this,h).width,g(this,h).height,0,0,Bt,wt),Lt.transferToImageBitmap()}return structuredClone(g(this,h))},yu=function(){dn(this,lt,new ResizeObserver(Ut=>{const Yt=Ut[0].contentRect;Yt.width&&Yt.height&&qt(this,b,mu).call(this,Yt.width,Yt.height)})),g(this,lt).observe(this.div)},Nr(St,"_type","stamp");let et=St;i.StampEditor=et}],__webpack_module_cache__={};function __w_pdfjs_require__(e){var i=__webpack_module_cache__[e];if(i!==void 0)return i.exports;var a=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e](a,a.exports,__w_pdfjs_require__),a.exports}var __webpack_exports__={};return(()=>{var e=__webpack_exports__;Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"AbortException",{enumerable:!0,get:function(){return i.AbortException}}),Object.defineProperty(e,"AnnotationEditorLayer",{enumerable:!0,get:function(){return s.AnnotationEditorLayer}}),Object.defineProperty(e,"AnnotationEditorParamsType",{enumerable:!0,get:function(){return i.AnnotationEditorParamsType}}),Object.defineProperty(e,"AnnotationEditorType",{enumerable:!0,get:function(){return i.AnnotationEditorType}}),Object.defineProperty(e,"AnnotationEditorUIManager",{enumerable:!0,get:function(){return d.AnnotationEditorUIManager}}),Object.defineProperty(e,"AnnotationLayer",{enumerable:!0,get:function(){return et.AnnotationLayer}}),Object.defineProperty(e,"AnnotationMode",{enumerable:!0,get:function(){return i.AnnotationMode}}),Object.defineProperty(e,"CMapCompressionType",{enumerable:!0,get:function(){return i.CMapCompressionType}}),Object.defineProperty(e,"DOMSVGFactory",{enumerable:!0,get:function(){return o.DOMSVGFactory}}),Object.defineProperty(e,"FeatureTest",{enumerable:!0,get:function(){return i.FeatureTest}}),Object.defineProperty(e,"GlobalWorkerOptions",{enumerable:!0,get:function(){return h.GlobalWorkerOptions}}),Object.defineProperty(e,"ImageKind",{enumerable:!0,get:function(){return i.ImageKind}}),Object.defineProperty(e,"InvalidPDFException",{enumerable:!0,get:function(){return i.InvalidPDFException}}),Object.defineProperty(e,"MissingPDFException",{enumerable:!0,get:function(){return i.MissingPDFException}}),Object.defineProperty(e,"OPS",{enumerable:!0,get:function(){return i.OPS}}),Object.defineProperty(e,"PDFDataRangeTransport",{enumerable:!0,get:function(){return a.PDFDataRangeTransport}}),Object.defineProperty(e,"PDFDateString",{enumerable:!0,get:function(){return o.PDFDateString}}),Object.defineProperty(e,"PDFWorker",{enumerable:!0,get:function(){return a.PDFWorker}}),Object.defineProperty(e,"PasswordResponses",{enumerable:!0,get:function(){return i.PasswordResponses}}),Object.defineProperty(e,"PermissionFlag",{enumerable:!0,get:function(){return i.PermissionFlag}}),Object.defineProperty(e,"PixelsPerInch",{enumerable:!0,get:function(){return o.PixelsPerInch}}),Object.defineProperty(e,"PromiseCapability",{enumerable:!0,get:function(){return i.PromiseCapability}}),Object.defineProperty(e,"RenderingCancelledException",{enumerable:!0,get:function(){return o.RenderingCancelledException}}),Object.defineProperty(e,"SVGGraphics",{enumerable:!0,get:function(){return a.SVGGraphics}}),Object.defineProperty(e,"UnexpectedResponseException",{enumerable:!0,get:function(){return i.UnexpectedResponseException}}),Object.defineProperty(e,"Util",{enumerable:!0,get:function(){return i.Util}}),Object.defineProperty(e,"VerbosityLevel",{enumerable:!0,get:function(){return i.VerbosityLevel}}),Object.defineProperty(e,"XfaLayer",{enumerable:!0,get:function(){return _e.XfaLayer}}),Object.defineProperty(e,"build",{enumerable:!0,get:function(){return a.build}}),Object.defineProperty(e,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return i.createValidAbsoluteUrl}}),Object.defineProperty(e,"getDocument",{enumerable:!0,get:function(){return a.getDocument}}),Object.defineProperty(e,"getFilenameFromUrl",{enumerable:!0,get:function(){return o.getFilenameFromUrl}}),Object.defineProperty(e,"getPdfFilenameFromUrl",{enumerable:!0,get:function(){return o.getPdfFilenameFromUrl}}),Object.defineProperty(e,"getXfaPageViewport",{enumerable:!0,get:function(){return o.getXfaPageViewport}}),Object.defineProperty(e,"isDataScheme",{enumerable:!0,get:function(){return o.isDataScheme}}),Object.defineProperty(e,"isPdfFile",{enumerable:!0,get:function(){return o.isPdfFile}}),Object.defineProperty(e,"loadScript",{enumerable:!0,get:function(){return o.loadScript}}),Object.defineProperty(e,"noContextMenu",{enumerable:!0,get:function(){return o.noContextMenu}}),Object.defineProperty(e,"normalizeUnicode",{enumerable:!0,get:function(){return i.normalizeUnicode}}),Object.defineProperty(e,"renderTextLayer",{enumerable:!0,get:function(){return c.renderTextLayer}}),Object.defineProperty(e,"setLayerDimensions",{enumerable:!0,get:function(){return o.setLayerDimensions}}),Object.defineProperty(e,"shadow",{enumerable:!0,get:function(){return i.shadow}}),Object.defineProperty(e,"updateTextLayer",{enumerable:!0,get:function(){return c.updateTextLayer}}),Object.defineProperty(e,"version",{enumerable:!0,get:function(){return a.version}});var i=__w_pdfjs_require__(1),a=__w_pdfjs_require__(2),o=__w_pdfjs_require__(6),c=__w_pdfjs_require__(26),s=__w_pdfjs_require__(27),d=__w_pdfjs_require__(5),et=__w_pdfjs_require__(29),h=__w_pdfjs_require__(14),_e=__w_pdfjs_require__(32)})(),__webpack_exports__})())})(pdf);var pdfExports=pdf.exports;(function(e){var i=reactExports,a=pdfExports;function o(tt){var vt=Object.create(null);return tt&&Object.keys(tt).forEach(function(Ot){if(Ot!=="default"){var jt=Object.getOwnPropertyDescriptor(tt,Ot);Object.defineProperty(vt,Ot,jt.get?jt:{enumerable:!0,get:function(){return tt[Ot]}})}}),vt.default=tt,Object.freeze(vt)}var c,s=o(i),d=o(a);e.AnnotationType=void 0,(c=e.AnnotationType||(e.AnnotationType={}))[c.Text=1]="Text",c[c.Link=2]="Link",c[c.FreeText=3]="FreeText",c[c.Line=4]="Line",c[c.Square=5]="Square",c[c.Circle=6]="Circle",c[c.Polygon=7]="Polygon",c[c.Polyline=8]="Polyline",c[c.Highlight=9]="Highlight",c[c.Underline=10]="Underline",c[c.Squiggly=11]="Squiggly",c[c.StrikeOut=12]="StrikeOut",c[c.Stamp=13]="Stamp",c[c.Caret=14]="Caret",c[c.Ink=15]="Ink",c[c.Popup=16]="Popup",c[c.FileAttachment=17]="FileAttachment";var et=function(tt,vt){return et=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Ot,jt){Ot.__proto__=jt}||function(Ot,jt){for(var Vt in jt)Object.prototype.hasOwnProperty.call(jt,Vt)&&(Ot[Vt]=jt[Vt])},et(tt,vt)};function h(tt,vt){if(typeof vt!="function"&&vt!==null)throw new TypeError("Class extends value "+String(vt)+" is not a constructor or null");function Ot(){this.constructor=tt}et(tt,vt),tt.prototype=vt===null?Object.create(vt):(Ot.prototype=vt.prototype,new Ot)}var _e,_=function(){return _=Object.assign||function(tt){for(var vt,Ot=1,jt=arguments.length;Ot<jt;Ot++)for(var Vt in vt=arguments[Ot])Object.prototype.hasOwnProperty.call(vt,Vt)&&(tt[Vt]=vt[Vt]);return tt},_.apply(this,arguments)};e.TextDirection=void 0,(_e=e.TextDirection||(e.TextDirection={})).RightToLeft="RTL",_e.LeftToRight="LTR";var ct,ut=s.createContext({currentTheme:"light",direction:e.TextDirection.LeftToRight,setCurrentTheme:function(){}}),ot=function(tt){var vt=[];return Object.keys(tt).forEach(function(Ot){Ot&&tt[Ot]&&vt.push(Ot)}),vt.join(" ")},lt=typeof window<"u"?s.useLayoutEffect:s.useEffect,gt=function(tt){var vt=s.useRef(null),Ot=tt.once,jt=tt.threshold,Vt=tt.onVisibilityChanged;return lt(function(){var Xt=vt.current;if(Xt){var ln=new IntersectionObserver(function(tn){tn.forEach(function(zt){var an=zt.isIntersecting,nn=zt.intersectionRatio;Vt({isVisible:an,ratio:nn}),an&&Ot&&(ln.unobserve(Xt),ln.disconnect())})},{threshold:jt||0});return ln.observe(Xt),function(){ln.unobserve(Xt),ln.disconnect()}}},[]),vt},mt=function(tt){var vt=tt.children,Ot=tt.ignoreDirection,jt=Ot!==void 0&&Ot,Vt=tt.size,Xt=Vt===void 0?24:Vt,ln=s.useContext(ut).direction,tn=!jt&&ln===e.TextDirection.RightToLeft,zt="".concat(Xt||24,"px");return s.createElement("svg",{"aria-hidden":"true",className:ot({"rpv-core__icon":!0,"rpv-core__icon--rtl":tn}),focusable:"false",height:zt,viewBox:"0 0 24 24",width:zt},vt)},j=function(){return s.createElement(mt,{size:16},s.createElement("path",{d:"M23.5,0.499l-16.5,23l-6.5-6.5"}))},b=function(tt){var vt=tt.children,Ot=tt.testId,jt=tt.onClick,Vt=s.useContext(ut).direction===e.TextDirection.RightToLeft,Xt=Ot?{"data-testid":Ot}:{};return s.createElement("button",_({className:ot({"rpv-core__primary-button":!0,"rpv-core__primary-button--rtl":Vt}),type:"button",onClick:jt},Xt),vt)},ft=function(tt){var vt=tt.size,Ot=vt===void 0?"4rem":vt,jt=tt.testId,Vt=s.useState(!1),Xt=Vt[0],ln=Vt[1],tn=jt?{"data-testid":jt}:{},zt=gt({onVisibilityChanged:function(an){ln(an.isVisible)}});return s.createElement("div",_({},tn,{className:ot({"rpv-core__spinner":!0,"rpv-core__spinner--animating":Xt}),ref:zt,style:{height:Ot,width:Ot}}))},pt=function(tt){var vt=tt.ariaLabel,Ot=vt===void 0?"":vt,jt=tt.autoFocus,Vt=jt!==void 0&&jt,Xt=tt.placeholder,ln=Xt===void 0?"":Xt,tn=tt.testId,zt=tt.type,an=zt===void 0?"text":zt,nn=tt.value,xn=nn===void 0?"":nn,Rn=tt.onChange,Pn=tt.onKeyDown,jn=Pn===void 0?function(){}:Pn,Nn=s.useContext(ut).direction,On=s.useRef(),Sr=Nn===e.TextDirection.RightToLeft,rr={ref:On,"data-testid":"","aria-label":Ot,className:ot({"rpv-core__textbox":!0,"rpv-core__textbox--rtl":Sr}),placeholder:ln,value:xn,onChange:function(ir){return Rn(ir.target.value)},onKeyDown:jn};return tn&&(rr["data-testid"]=tn),lt(function(){if(Vt){var ir=On.current;if(ir){var ur=window.scrollX,Kn=window.scrollY;ir.focus(),window.scrollTo(ur,Kn)}}},[]),an==="text"?s.createElement("input",_({type:"text"},rr)):s.createElement("input",_({type:"password"},rr))};(function(tt){tt[tt.ExitFullScreen=0]="ExitFullScreen",tt[tt.FullScreenChange=1]="FullScreenChange",tt[tt.FullScreenElement=2]="FullScreenElement",tt[tt.FullScreenEnabled=3]="FullScreenEnabled",tt[tt.RequestFullScreen=4]="RequestFullScreen"})(ct||(ct={}));var nt,$={ExitFullScreen:"exitFullscreen",FullScreenChange:"fullscreenchange",FullScreenElement:"fullscreenElement",FullScreenEnabled:"fullscreenEnabled",RequestFullScreen:"requestFullscreen"},rt={ExitFullScreen:"webkitExitFullscreen",FullScreenChange:"webkitfullscreenchange",FullScreenElement:"webkitFullscreenElement",FullScreenEnabled:"webkitFullscreenEnabled",RequestFullScreen:"webkitRequestFullscreen"},it={ExitFullScreen:"msExitFullscreen",FullScreenChange:"msFullscreenChange",FullScreenElement:"msFullscreenElement",FullScreenEnabled:"msFullscreenEnabled",RequestFullScreen:"msRequestFullscreen"},dt=typeof window<"u",At=dt&&(ct.FullScreenEnabled in document&&$||rt.FullScreenEnabled in document&&rt||it.FullScreenEnabled in document&&it)||$,ht=function(){return dt&&At.FullScreenEnabled in document&&document[At.FullScreenEnabled]===!0},St=function(tt){return dt?tt[At.ExitFullScreen]():Promise.resolve({})},Rt=function(){return dt?document[At.FullScreenElement]:null},Jt=function(tt,vt){var Ot=s.useRef(),jt=function(){Ot.current&&clearTimeout(Ot.current)};return s.useEffect(function(){return function(){return jt()}},[]),s.useCallback(function(){for(var Vt=[],Xt=0;Xt<arguments.length;Xt++)Vt[Xt]=arguments[Xt];jt(),Ot.current=setTimeout(function(){tt.apply(void 0,Vt)},vt)},[tt,vt])},Ut=function(){var tt=s.useRef(!1);return s.useEffect(function(){return tt.current=!0,function(){tt.current=!1}},[]),tt},Yt=function(tt){var vt=s.useRef(tt);return s.useEffect(function(){vt.current=tt},[tt]),vt.current};(function(tt){tt.NotRenderedYet="NotRenderedYet",tt.Rendering="Rendering",tt.Rendered="Rendered"})(nt||(nt={}));var Nt,Bt=-9999,wt=function(tt){var vt=tt.doc,Ot=vt.numPages,jt=vt.loadingTask.docId,Vt=s.useMemo(function(){return Array(Ot).fill(null).map(function(tn,zt){return{pageIndex:zt,renderStatus:nt.NotRenderedYet,visibility:Bt}})},[jt]),Xt=s.useRef({currentRenderingPage:-1,startRange:0,endRange:Ot-1,visibilities:Vt}),ln=function(tn,zt){Xt.current.visibilities[tn].visibility=zt};return{getHighestPriorityPage:function(){var tn=Xt.current.visibilities.slice(Xt.current.startRange,Xt.current.endRange+1).filter(function(Rn){return Rn.visibility>Bt});if(!tn.length)return-1;for(var zt=tn[0].pageIndex,an=tn[tn.length-1].pageIndex,nn=tn.length,xn=0;xn<nn;xn++){if(tn[xn].renderStatus===nt.Rendering)return-1;if(tn[xn].renderStatus===nt.NotRenderedYet)return tn[xn].pageIndex}return an+1<Ot&&Xt.current.visibilities[an+1].renderStatus!==nt.Rendered?an+1:zt-1>=0&&Xt.current.visibilities[zt-1].renderStatus!==nt.Rendered?zt-1:-1},isInRange:function(tn){return tn>=Xt.current.startRange&&tn<=Xt.current.endRange},markNotRendered:function(){for(var tn=0;tn<Ot;tn++)Xt.current.visibilities[tn].renderStatus=nt.NotRenderedYet},markRendered:function(tn){Xt.current.visibilities[tn].renderStatus=nt.Rendered},markRendering:function(tn){Xt.current.currentRenderingPage!==-1&&Xt.current.currentRenderingPage!==tn&&Xt.current.visibilities[Xt.current.currentRenderingPage].renderStatus===nt.Rendering&&(Xt.current.visibilities[Xt.current.currentRenderingPage].renderStatus=nt.NotRenderedYet),Xt.current.visibilities[tn].renderStatus=nt.Rendering,Xt.current.currentRenderingPage=tn},setOutOfRange:function(tn){ln(tn,Bt)},setRange:function(tn,zt){Xt.current.startRange=tn,Xt.current.endRange=zt;for(var an=0;an<Ot;an++)(an<tn||an>zt)&&(Xt.current.visibilities[an].visibility=Bt,Xt.current.visibilities[an].renderStatus=nt.NotRenderedYet)},setVisibility:ln}},Lt={core:{askingPassword:{requirePasswordToOpen:"This document requires a password to open",submit:"Submit"},wrongPassword:{tryAgain:"The password is wrong. Please try again"},pageLabel:"Page {{pageIndex}}"}},$t=s.createContext({l10n:Lt,setL10n:function(){}}),bt=0,at=function(){return bt++},st=function(tt,vt,Ot){var jt=function(Vt){var Xt=vt.current;if(Xt){var ln=Vt.target;if(ln instanceof Element&&ln.shadowRoot){var tn=Vt.composedPath();tn.length>0&&!Xt.contains(tn[0])&&Ot()}else Xt.contains(ln)||Ot()}};s.useEffect(function(){if(tt){var Vt={capture:!0};return document.addEventListener("click",jt,Vt),function(){document.removeEventListener("click",jt,Vt)}}},[])},yt=function(tt){var vt=function(Ot){Ot.key==="Escape"&&tt()};s.useEffect(function(){return document.addEventListener("keyup",vt),function(){document.removeEventListener("keyup",vt)}},[])},Pt=function(tt){var vt=tt.ariaControlsSuffix,Ot=tt.children,jt=tt.closeOnClickOutside,Vt=tt.closeOnEscape,Xt=tt.onToggle,ln=s.useRef(),tn=s.useContext(ut).direction===e.TextDirection.RightToLeft;return s.useEffect(function(){var zt=window.getComputedStyle(document.body).overflow;return document.body.style.overflow="hidden",function(){document.body.style.overflow=zt}},[]),yt(function(){ln.current&&Vt&&Xt()}),st(jt,ln,Xt),lt(function(){var zt=ln.current;if(zt){var an=.75*document.body.clientHeight;zt.getBoundingClientRect().height>=an&&(zt.style.overflow="auto",zt.style.maxHeight="".concat(an,"px"))}},[]),s.createElement("div",{"aria-modal":"true",className:ot({"rpv-core__modal-body":!0,"rpv-core__modal-body--rtl":tn}),id:"rpv-core__modal-body-".concat(vt),ref:ln,role:"dialog",tabIndex:-1},Ot)},Tt=function(tt){var vt=tt.children;return s.createElement("div",{className:"rpv-core__modal-overlay"},vt)};e.ToggleStatus=void 0,(Nt=e.ToggleStatus||(e.ToggleStatus={})).Close="Close",Nt.Open="Open",Nt.Toggle="Toggle";var Mt,Gt=function(tt){var vt=s.useState(tt),Ot=vt[0],jt=vt[1];return{opened:Ot,toggle:function(Vt){switch(Vt){case e.ToggleStatus.Close:jt(!1);break;case e.ToggleStatus.Open:jt(!0);break;case e.ToggleStatus.Toggle:default:jt(function(Xt){return!Xt})}}}},un=function(tt){var vt=tt.content,Ot=tt.isOpened,jt=Ot!==void 0&&Ot,Vt=tt.target,Xt=Gt(jt),ln=Xt.opened,tn=Xt.toggle;return s.createElement(s.Fragment,null,Vt&&Vt(tn,ln),ln&&vt(tn))};e.Position=void 0,(Mt=e.Position||(e.Position={})).TopLeft="TOP_LEFT",Mt.TopCenter="TOP_CENTER",Mt.TopRight="TOP_RIGHT",Mt.RightTop="RIGHT_TOP",Mt.RightCenter="RIGHT_CENTER",Mt.RightBottom="RIGHT_BOTTOM",Mt.BottomLeft="BOTTOM_LEFT",Mt.BottomCenter="BOTTOM_CENTER",Mt.BottomRight="BOTTOM_RIGHT",Mt.LeftTop="LEFT_TOP",Mt.LeftCenter="LEFT_CENTER",Mt.LeftBottom="LEFT_BOTTOM";var hn,fn,mn,Cn,bn,rn,on,Et,Ft=function(tt,vt,Ot,jt,Vt){lt(function(){var Xt=vt.current,ln=tt.current,tn=Ot.current;if(ln&&Xt&&tn){var zt=tn.getBoundingClientRect(),an=function(Rn,Pn,jn,Nn){var On=Pn.getBoundingClientRect(),Sr=Rn.getBoundingClientRect(),rr=Sr.height,ir=Sr.width,ur=0,Kn=0;switch(jn){case e.Position.TopLeft:ur=On.top-rr,Kn=On.left;break;case e.Position.TopCenter:ur=On.top-rr,Kn=On.left+On.width/2-ir/2;break;case e.Position.TopRight:ur=On.top-rr,Kn=On.left+On.width-ir;break;case e.Position.RightTop:ur=On.top,Kn=On.left+On.width;break;case e.Position.RightCenter:ur=On.top+On.height/2-rr/2,Kn=On.left+On.width;break;case e.Position.RightBottom:ur=On.top+On.height-rr,Kn=On.left+On.width;break;case e.Position.BottomLeft:ur=On.top+On.height,Kn=On.left;break;case e.Position.BottomCenter:ur=On.top+On.height,Kn=On.left+On.width/2-ir/2;break;case e.Position.BottomRight:ur=On.top+On.height,Kn=On.left+On.width-ir;break;case e.Position.LeftTop:ur=On.top,Kn=On.left-ir;break;case e.Position.LeftCenter:ur=On.top+On.height/2-rr/2,Kn=On.left-ir;break;case e.Position.LeftBottom:ur=On.top+On.height-rr,Kn=On.left-ir}return{left:Kn+(Nn.left||0),top:ur+(Nn.top||0)}}(ln,Xt,jt,Vt),nn=an.top,xn=an.left;ln.style.top="".concat(nn-zt.top,"px"),ln.style.left="".concat(xn-zt.left,"px")}},[])},Qt=function(tt){var vt,Ot=tt.customClassName,jt=tt.position;return s.createElement("div",{className:ot((vt={"rpv-core__arrow":!0,"rpv-core__arrow--tl":jt===e.Position.TopLeft,"rpv-core__arrow--tc":jt===e.Position.TopCenter,"rpv-core__arrow--tr":jt===e.Position.TopRight,"rpv-core__arrow--rt":jt===e.Position.RightTop,"rpv-core__arrow--rc":jt===e.Position.RightCenter,"rpv-core__arrow--rb":jt===e.Position.RightBottom,"rpv-core__arrow--bl":jt===e.Position.BottomLeft,"rpv-core__arrow--bc":jt===e.Position.BottomCenter,"rpv-core__arrow--br":jt===e.Position.BottomRight,"rpv-core__arrow--lt":jt===e.Position.LeftTop,"rpv-core__arrow--lc":jt===e.Position.LeftCenter,"rpv-core__arrow--lb":jt===e.Position.LeftBottom},vt["".concat(Ot)]=Ot!=="",vt))})},sn=function(tt){var vt=tt.ariaControlsSuffix,Ot=tt.children,jt=tt.closeOnClickOutside,Vt=tt.offset,Xt=tt.position,ln=tt.targetRef,tn=tt.onClose,zt=s.useRef(),an=s.useRef(),nn=s.useRef(),xn=s.useContext(ut).direction===e.TextDirection.RightToLeft;st(jt,zt,tn),Ft(zt,ln,nn,Xt,Vt),lt(function(){var Pn=an.current;if(Pn){var jn=.75*document.body.clientHeight;Pn.getBoundingClientRect().height>=jn&&(Pn.style.overflow="auto",Pn.style.maxHeight="".concat(jn,"px"))}},[]);var Rn="rpv-core__popover-body-inner-".concat(vt);return s.createElement(s.Fragment,null,s.createElement("div",{ref:nn,style:{left:0,position:"absolute",top:0}}),s.createElement("div",{"aria-describedby":Rn,className:ot({"rpv-core__popover-body":!0,"rpv-core__popover-body--rtl":xn}),id:"rpv-core__popover-body-".concat(vt),ref:zt,role:"dialog",tabIndex:-1},s.createElement(Qt,{customClassName:"rpv-core__popover-body-arrow",position:Xt}),s.createElement("div",{id:Rn,ref:an},Ot)))},pn=function(tt){var vt=tt.closeOnEscape,Ot=tt.onClose,jt=s.useRef();return yt(function(){jt.current&&vt&&Ot()}),s.createElement("div",{className:"rpv-core__popover-overlay",ref:jt})},An=function(tt){var vt=tt.ariaControlsSuffix,Ot=tt.children,jt=tt.contentRef,Vt=tt.offset,Xt=tt.position,ln=tt.targetRef,tn=s.useRef(),zt=s.useContext(ut).direction===e.TextDirection.RightToLeft;return Ft(jt,ln,tn,Xt,Vt),s.createElement(s.Fragment,null,s.createElement("div",{ref:tn,style:{left:0,position:"absolute",top:0}}),s.createElement("div",{className:ot({"rpv-core__tooltip-body":!0,"rpv-core__tooltip-body--rtl":zt}),id:"rpv-core__tooltip-body-".concat(vt),ref:jt,role:"tooltip"},s.createElement(Qt,{customClassName:"rpv-core__tooltip-body-arrow",position:Xt}),s.createElement("div",{className:"rpv-core__tooltip-body-content"},Ot)))};e.FullScreenMode=void 0,(hn=e.FullScreenMode||(e.FullScreenMode={})).Normal="Normal",hn.Entering="Entering",hn.Entered="Entered",hn.EnteredCompletely="EnteredCompletely",hn.Exitting="Exitting",hn.Exited="Exited",e.LayerRenderStatus=void 0,(fn=e.LayerRenderStatus||(e.LayerRenderStatus={}))[fn.PreRender=0]="PreRender",fn[fn.DidRender=1]="DidRender",e.PageMode=void 0,(mn=e.PageMode||(e.PageMode={})).Attachments="UseAttachments",mn.Bookmarks="UseOutlines",mn.ContentGroup="UseOC",mn.Default="UserNone",mn.FullScreen="FullScreen",mn.Thumbnails="UseThumbs",e.PasswordStatus=void 0,(Cn=e.PasswordStatus||(e.PasswordStatus={})).RequiredPassword="RequiredPassword",Cn.WrongPassword="WrongPassword",e.RotateDirection=void 0,(bn=e.RotateDirection||(e.RotateDirection={})).Backward="Backward",bn.Forward="Forward",e.ScrollMode=void 0,(rn=e.ScrollMode||(e.ScrollMode={})).Page="Page",rn.Horizontal="Horizontal",rn.Vertical="Vertical",rn.Wrapped="Wrapped",e.SpecialZoomLevel=void 0,(on=e.SpecialZoomLevel||(e.SpecialZoomLevel={})).ActualSize="ActualSize",on.PageFit="PageFit",on.PageWidth="PageWidth",e.ViewMode=void 0,(Et=e.ViewMode||(e.ViewMode={})).DualPage="DualPage",Et.DualPageWithCover="DualPageWithCover",Et.SinglePage="SinglePage";var vn,Kt=function(tt,vt){return tt.reduce(function(Ot,jt,Vt){return Vt%vt?Ot[Ot.length-1].push(jt):Ot.push([jt]),Ot},[])},Ln=function(tt,vt){switch(vt[1].name){case"XYZ":return{bottomOffset:function(Ot,jt){return vt[3]===null?jt:vt[3]},leftOffset:function(Ot,jt){return vt[2]===null?0:vt[2]},pageIndex:tt,scaleTo:vt[4]};case"Fit":case"FitB":return{bottomOffset:0,leftOffset:0,pageIndex:tt,scaleTo:e.SpecialZoomLevel.PageFit};case"FitH":case"FitBH":return{bottomOffset:vt[2],leftOffset:0,pageIndex:tt,scaleTo:e.SpecialZoomLevel.PageWidth};default:return{bottomOffset:0,leftOffset:0,pageIndex:tt,scaleTo:1}}},Tn=new Map,Jn=new Map,er=function(tt,vt){return"".concat(tt.loadingTask.docId,"___").concat(vt.num,"R").concat(vt.gen===0?"":vt.gen)},dr=function(tt,vt,Ot){Tn.set(er(tt,vt),Ot)},Hn=function(tt,vt){if(!tt)return Promise.reject("The document is not loaded yet");var Ot="".concat(tt.loadingTask.docId,"___").concat(vt),jt=Jn.get(Ot);return jt?Promise.resolve(jt):new Promise(function(Vt,Xt){tt.getPage(vt+1).then(function(ln){Jn.set(Ot,ln),ln.ref&&dr(tt,ln.ref,vt),Vt(ln)})})},Vn=function(tt,vt){return new Promise(function(Ot){new Promise(function(jt){typeof vt=="string"?tt.getDestination(vt).then(function(Vt){jt(Vt)}):jt(vt)}).then(function(jt){if(typeof jt[0]=="object"&&jt[0]!==null){var Vt=jt[0],Xt=function(tn,zt){var an=er(tn,zt);return Tn.has(an)?Tn.get(an):null}(tt,Vt);Xt===null?tt.getPageIndex(Vt).then(function(tn){dr(tt,Vt,tn),Vn(tt,vt).then(function(zt){return Ot(zt)})}):Ot(Ln(Xt,jt))}else{var ln=Ln(jt[0],jt);Ot(ln)}})})};(function(tt){tt[tt.Solid=1]="Solid",tt[tt.Dashed=2]="Dashed",tt[tt.Beveled=3]="Beveled",tt[tt.Inset=4]="Inset",tt[tt.Underline=5]="Underline"})(vn||(vn={}));var or,wr=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"),_n=function(tt,vt,Ot,jt){var Vt=parseInt(tt,10);return Vt>=vt&&Vt<=Ot?Vt:jt},Zt=function(tt){return tt.contentsObj?tt.contentsObj.str:tt.contents||""},en=function(tt){return tt.titleObj?tt.titleObj.str:tt.title||""},Bn=function(tt){var vt=tt.annotation,Ot=s.useContext(ut).direction,jt=en(vt),Vt=Zt(vt),Xt=Ot===e.TextDirection.RightToLeft,ln=s.useRef(),tn="";if(vt.modificationDate){var zt=function(an){var nn=wr.exec(an);if(!nn)return null;var xn=parseInt(nn[1],10),Rn=_n(nn[2],1,12,1)-1,Pn=_n(nn[3],1,31,1),jn=_n(nn[4],0,23,0),Nn=_n(nn[5],0,59,0),On=_n(nn[6],0,59,0),Sr=nn[7]||"Z",rr=_n(nn[8],0,23,0),ir=_n(nn[9],0,59,0);switch(Sr){case"-":jn+=rr,Nn+=ir;break;case"+":jn-=rr,Nn-=ir}return new Date(Date.UTC(xn,Rn,Pn,jn,Nn,On))}(vt.modificationDate);tn=zt?"".concat(zt.toLocaleDateString(),", ").concat(zt.toLocaleTimeString()):""}return s.useLayoutEffect(function(){if(ln.current){var an=document.querySelector('[data-annotation-id="'.concat(vt.id,'"]'));if(an){var nn=an;return nn.style.zIndex+=1,function(){nn.style.zIndex="".concat(parseInt(nn.style.zIndex,10)-1)}}}},[]),s.createElement("div",{ref:ln,className:ot({"rpv-core__annotation-popup-wrapper":!0,"rpv-core__annotation-popup-wrapper--rtl":Xt}),style:{top:vt.annotationType===e.AnnotationType.Popup?"":"100%"}},jt&&s.createElement(s.Fragment,null,s.createElement("div",{className:ot({"rpv-core__annotation-popup-title":!0,"rpv-core__annotation-popup-title--ltr":!Xt,"rpv-core__annotation-popup-title--rtl":Xt})},jt),s.createElement("div",{className:"rpv-core__annotation-popup-date"},tn)),Vt&&s.createElement("div",{className:"rpv-core__annotation-popup-content"},Vt.split(`
`).map(function(an,nn){return s.createElement(s.Fragment,{key:nn},an,s.createElement("br",null))})))};(function(tt){tt.Click="Click",tt.Hover="Hover"})(or||(or={}));var Wn,Yn=function(tt){var vt,Ot=tt.annotation,jt=tt.children,Vt=tt.ignoreBorder,Xt=tt.hasPopup,ln=tt.isRenderable,tn=tt.page,zt=tt.viewport,an=Ot.rect,nn=function(){var lr=Gt(!1),Cr=lr.opened,kr=lr.toggle,Pr=s.useState(or.Hover),Tr=Pr[0],Fr=Pr[1];return{opened:Cr,closeOnHover:function(){Tr===or.Hover&&kr(e.ToggleStatus.Close)},openOnHover:function(){Tr===or.Hover&&kr(e.ToggleStatus.Open)},toggleOnClick:function(){switch(Tr){case or.Click:Cr&&Fr(or.Hover),kr(e.ToggleStatus.Toggle);break;case or.Hover:Fr(or.Click),kr(e.ToggleStatus.Open)}}}}(),xn=nn.closeOnHover,Rn=nn.opened,Pn=nn.openOnHover,jn=nn.toggleOnClick,Nn=(vt=[an[0],tn.view[3]+tn.view[1]-an[1],an[2],tn.view[3]+tn.view[1]-an[3]],[Math.min(vt[0],vt[2]),Math.min(vt[1],vt[3]),Math.max(vt[0],vt[2]),Math.max(vt[1],vt[3])]),On=an[2]-an[0],Sr=an[3]-an[1],rr={borderColor:"",borderRadius:"",borderStyle:"",borderWidth:""};if(!Vt&&Ot.borderStyle.width>0){switch(Ot.borderStyle.style){case vn.Dashed:rr.borderStyle="dashed";break;case vn.Solid:rr.borderStyle="solid";break;case vn.Underline:rr=Object.assign({borderBottomStyle:"solid"},rr);case vn.Beveled:case vn.Inset:}var ir=Ot.borderStyle.width;rr.borderWidth="".concat(ir,"px"),Ot.borderStyle.style!==vn.Underline&&(On-=2*ir,Sr-=2*ir);var ur=Ot.borderStyle,Kn=ur.horizontalCornerRadius,hr=ur.verticalCornerRadius;(Kn>0||hr>0)&&(rr.borderRadius="".concat(Kn,"px / ").concat(hr,"px")),Ot.color?rr.borderColor="rgb(".concat(0|Ot.color[0],", ").concat(0|Ot.color[1],", ").concat(0|Ot.color[2],")"):rr.borderWidth="0"}return s.createElement(s.Fragment,null,ln&&jt({popup:{opened:Rn,closeOnHover:xn,openOnHover:Pn,toggleOnClick:jn},slot:{attrs:{style:Object.assign({height:"".concat(Sr,"px"),left:"".concat(Nn[0],"px"),top:"".concat(Nn[1],"px"),transform:"matrix(".concat(zt.transform.join(","),")"),transformOrigin:"-".concat(Nn[0],"px -").concat(Nn[1],"px"),width:"".concat(On,"px")},rr)},children:s.createElement(s.Fragment,null,Xt&&Rn&&s.createElement(Bn,{annotation:Ot}))}}))},Dt=function(tt){var vt=tt.annotation,Ot=tt.page,jt=tt.viewport,Vt=vt.hasPopup===!1,Xt=en(vt),ln=Zt(vt),tn=!!(vt.hasPopup||Xt||ln);return s.createElement(Yn,{annotation:vt,hasPopup:Vt,ignoreBorder:!0,isRenderable:tn,page:Ot,viewport:jt},function(zt){return s.createElement("div",_({},zt.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--caret","data-annotation-id":vt.id,onClick:zt.popup.toggleOnClick,onMouseEnter:zt.popup.openOnHover,onMouseLeave:zt.popup.closeOnHover}),zt.slot.children)})},gn=function(tt){var vt=tt.annotation,Ot=tt.page,jt=tt.viewport,Vt=vt.hasPopup===!1,Xt=en(vt),ln=Zt(vt),tn=!!(vt.hasPopup||Xt||ln),zt=vt.rect,an=zt[2]-zt[0],nn=zt[3]-zt[1],xn=vt.borderStyle.width;return s.createElement(Yn,{annotation:vt,hasPopup:Vt,ignoreBorder:!0,isRenderable:tn,page:Ot,viewport:jt},function(Rn){return s.createElement("div",_({},Rn.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--circle","data-annotation-id":vt.id,onClick:Rn.popup.toggleOnClick,onMouseEnter:Rn.popup.openOnHover,onMouseLeave:Rn.popup.closeOnHover}),s.createElement("svg",{height:"".concat(nn,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(an," ").concat(nn),width:"".concat(an,"px")},s.createElement("circle",{cy:nn/2,fill:"none",rx:an/2-xn/2,ry:nn/2-xn/2,stroke:"transparent",strokeWidth:xn||1})),Rn.slot.children)})},Dn=function(tt){var vt=tt.annotation,Ot=tt.page,jt=tt.viewport,Vt=en(vt),Xt=Zt(vt),ln=!(vt.hasPopup!==!1||!Vt&&!Xt),tn=function(){var zt,an,nn,xn,Rn=vt.file;Rn&&(zt=Rn.filename,an=Rn.content,nn=typeof an=="string"?"":URL.createObjectURL(new Blob([an],{type:""})),(xn=document.createElement("a")).style.display="none",xn.href=nn||zt,xn.setAttribute("download",function(Pn){var jn=Pn.split("/").pop();return jn?jn.split("#")[0].split("?")[0]:Pn}(zt)),document.body.appendChild(xn),xn.click(),document.body.removeChild(xn),nn&&URL.revokeObjectURL(nn))};return s.createElement(Yn,{annotation:vt,hasPopup:ln,ignoreBorder:!0,isRenderable:!0,page:Ot,viewport:jt},function(zt){return s.createElement("div",_({},zt.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--file-attachment","data-annotation-id":vt.id,onClick:zt.popup.toggleOnClick,onDoubleClick:tn,onMouseEnter:zt.popup.openOnHover,onMouseLeave:zt.popup.closeOnHover}),zt.slot.children)})},$n=function(tt){var vt=tt.annotation,Ot=tt.page,jt=tt.viewport,Vt=vt.hasPopup===!1,Xt=en(vt),ln=Zt(vt),tn=!!(vt.hasPopup||Xt||ln);return s.createElement(Yn,{annotation:vt,hasPopup:Vt,ignoreBorder:!0,isRenderable:tn,page:Ot,viewport:jt},function(zt){return s.createElement("div",_({},zt.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--free-text","data-annotation-id":vt.id,onClick:zt.popup.toggleOnClick,onMouseEnter:zt.popup.openOnHover,onMouseLeave:zt.popup.closeOnHover}),zt.slot.children)})},Gn=function(tt){var vt=tt.annotation,Ot=tt.page,jt=tt.viewport,Vt=en(vt),Xt=Zt(vt),ln=!(!Vt&&!Xt),tn=!vt.parentType||["Circle","Ink","Line","Polygon","PolyLine","Square"].indexOf(vt.parentType)!==-1;return lt(function(){if(vt.parentId){var zt=document.querySelector('[data-annotation-id="'.concat(vt.parentId,'"]')),an=document.querySelector('[data-annotation-id="'.concat(vt.id,'"]'));if(zt&&an){var nn=parseFloat(zt.style.left),xn=parseFloat(zt.style.top)+parseFloat(zt.style.height);an.style.left="".concat(nn,"px"),an.style.top="".concat(xn,"px"),an.style.transformOrigin="-".concat(nn,"px -").concat(xn,"px")}}},[]),s.createElement(Yn,{annotation:vt,hasPopup:tn,ignoreBorder:!1,isRenderable:ln,page:Ot,viewport:jt},function(zt){return s.createElement("div",_({},zt.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--popup","data-annotation-id":vt.id}),s.createElement(Bn,{annotation:vt}))})},zn=function(tt){var vt=tt.annotation,Ot=tt.childAnnotation,jt=tt.page,Vt=tt.viewport,Xt=vt.hasPopup===!1,ln=en(vt),tn=Zt(vt),zt=!!(vt.hasPopup||ln||tn);if(vt.quadPoints&&vt.quadPoints.length>0){var an=vt.quadPoints.map(function(nn){return Object.assign({},vt,{rect:[nn[2].x,nn[2].y,nn[1].x,nn[1].y],quadPoints:[]})});return s.createElement(s.Fragment,null,an.map(function(nn,xn){return s.createElement(zn,{key:xn,annotation:nn,childAnnotation:Ot,page:jt,viewport:Vt})}))}return s.createElement(Yn,{annotation:vt,hasPopup:Xt,ignoreBorder:!0,isRenderable:zt,page:jt,viewport:Vt},function(nn){return s.createElement(s.Fragment,null,s.createElement("div",_({},nn.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--highlight","data-annotation-id":vt.id,onClick:nn.popup.toggleOnClick,onMouseEnter:nn.popup.openOnHover,onMouseLeave:nn.popup.closeOnHover}),nn.slot.children),Ot&&Ot.annotationType===e.AnnotationType.Popup&&nn.popup.opened&&s.createElement(Gn,{annotation:Ot,page:jt,viewport:Vt}))})},xt=function(tt){var vt=tt.annotation,Ot=tt.page,jt=tt.viewport,Vt=vt.hasPopup===!1,Xt=en(vt),ln=Zt(vt),tn=!!(vt.hasPopup||Xt||ln),zt=vt.rect,an=zt[2]-zt[0],nn=zt[3]-zt[1],xn=vt.borderStyle.width;return s.createElement(Yn,{annotation:vt,hasPopup:Vt,ignoreBorder:!0,isRenderable:tn,page:Ot,viewport:jt},function(Rn){return s.createElement("div",_({},Rn.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--ink","data-annotation-id":vt.id,onClick:Rn.popup.toggleOnClick,onMouseEnter:Rn.popup.openOnHover,onMouseLeave:Rn.popup.closeOnHover}),vt.inkLists&&vt.inkLists.length&&s.createElement("svg",{height:"".concat(nn,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(an," ").concat(nn),width:"".concat(an,"px")},vt.inkLists.map(function(Pn,jn){return s.createElement("polyline",{key:jn,fill:"none",stroke:"transparent",strokeWidth:xn||1,points:Pn.map(function(Nn){return"".concat(Nn.x-zt[0],",").concat(zt[3]-Nn.y)}).join(" ")})})),Rn.slot.children)})},Ct=function(tt){var vt=tt.annotation,Ot=tt.page,jt=tt.viewport,Vt=vt.hasPopup===!1,Xt=en(vt),ln=Zt(vt),tn=!!(vt.hasPopup||Xt||ln),zt=vt.rect,an=zt[2]-zt[0],nn=zt[3]-zt[1],xn=vt.borderStyle.width;return s.createElement(Yn,{annotation:vt,hasPopup:Vt,ignoreBorder:!0,isRenderable:tn,page:Ot,viewport:jt},function(Rn){return s.createElement("div",_({},Rn.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--line","data-annotation-id":vt.id,onClick:Rn.popup.toggleOnClick,onMouseEnter:Rn.popup.openOnHover,onMouseLeave:Rn.popup.closeOnHover}),s.createElement("svg",{height:"".concat(nn,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(an," ").concat(nn),width:"".concat(an,"px")},s.createElement("line",{stroke:"transparent",strokeWidth:xn||1,x1:zt[2]-vt.lineCoordinates[0],x2:zt[2]-vt.lineCoordinates[2],y1:zt[3]-vt.lineCoordinates[1],y2:zt[3]-vt.lineCoordinates[3]})),Rn.slot.children)})},Ht=/^([^\w]*)(javascript|data|vbscript)/im,_t=/&#(\w+)(^\w|;)?/g,kt=/[\u0000-\u001F\u007F-\u009F\u2000-\u200D\uFEFF]/gim,It=/^([^:]+):/gm,Wt=function(tt,vt){var Ot,jt=(Ot=tt||"",Ot.replace(_t,function(tn,zt){return String.fromCharCode(zt)})).replace(kt,"").trim();if(!jt)return vt;var Vt=jt[0];if(Vt==="."||Vt==="/")return jt;var Xt=jt.match(It);if(!Xt)return jt;var ln=Xt[0];return Ht.test(ln)?vt:jt},yn=function(tt){var vt,Ot=tt.annotation,jt=tt.annotationContainerRef,Vt=tt.doc,Xt=tt.outlines,ln=tt.page,tn=tt.pageIndex,zt=tt.scale,an=tt.viewport,nn=tt.onExecuteNamedAction,xn=tt.onJumpFromLinkAnnotation,Rn=tt.onJumpToDest,Pn=s.useRef(),jn=Xt&&Xt.length&&Ot.dest&&typeof Ot.dest=="string"?(vt=Xt.find(function(rr){return rr.dest===Ot.dest}))===null||vt===void 0?void 0:vt.title:"",Nn=!!(Ot.url||Ot.dest||Ot.action||Ot.unsafeUrl),On={};if(Ot.url||Ot.unsafeUrl){var Sr=Wt(Ot.url||Ot.unsafeUrl,"");Sr?On={"data-target":"external",href:Sr,rel:"noopener noreferrer nofollow",target:Ot.newWindow?"_blank":"",title:Sr}:Nn=!1}else On={href:"","data-annotation-link":Ot.id,onClick:function(rr){rr.preventDefault(),Ot.action?nn(Ot.action):Vn(Vt,Ot.dest).then(function(ir){var ur=Pn.current,Kn=jt.current;if(ur&&Kn){var hr=ur.getBoundingClientRect();Kn.style.setProperty("height","100%"),Kn.style.setProperty("width","100%");var lr=Kn.getBoundingClientRect();Kn.style.removeProperty("height"),Kn.style.removeProperty("width");var Cr=(hr.left-lr.left)/zt,kr=(lr.bottom-hr.bottom+hr.height)/zt;xn({bottomOffset:kr,label:jn,leftOffset:Cr,pageIndex:tn})}Rn(ir)})}};return jn&&(On=Object.assign({},On,{title:jn,"aria-label":jn})),s.createElement(Yn,{annotation:Ot,hasPopup:!1,ignoreBorder:!1,isRenderable:Nn,page:ln,viewport:an},function(rr){return s.createElement("div",_({},rr.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--link","data-annotation-id":Ot.id,"data-testid":"core__annotation--link-".concat(Ot.id)}),s.createElement("a",_({ref:Pn},On)))})},kn=function(tt){var vt=tt.annotation,Ot=tt.page,jt=tt.viewport,Vt=vt.hasPopup===!1,Xt=en(vt),ln=Zt(vt),tn=!!(vt.hasPopup||Xt||ln),zt=vt.rect,an=zt[2]-zt[0],nn=zt[3]-zt[1],xn=vt.borderStyle.width;return s.createElement(Yn,{annotation:vt,hasPopup:Vt,ignoreBorder:!0,isRenderable:tn,page:Ot,viewport:jt},function(Rn){return s.createElement("div",_({},Rn.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--polygon","data-annotation-id":vt.id,onClick:Rn.popup.toggleOnClick,onMouseEnter:Rn.popup.openOnHover,onMouseLeave:Rn.popup.closeOnHover}),vt.vertices&&vt.vertices.length&&s.createElement("svg",{height:"".concat(nn,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(an," ").concat(nn),width:"".concat(an,"px")},s.createElement("polygon",{fill:"none",stroke:"transparent",strokeWidth:xn||1,points:vt.vertices.map(function(Pn){return"".concat(Pn.x-zt[0],",").concat(zt[3]-Pn.y)}).join(" ")})),Rn.slot.children)})},En=function(tt){var vt=tt.annotation,Ot=tt.page,jt=tt.viewport,Vt=vt.hasPopup===!1,Xt=en(vt),ln=Zt(vt),tn=!!(vt.hasPopup||Xt||ln),zt=vt.rect,an=zt[2]-zt[0],nn=zt[3]-zt[1],xn=vt.borderStyle.width;return s.createElement(Yn,{annotation:vt,hasPopup:Vt,ignoreBorder:!0,isRenderable:tn,page:Ot,viewport:jt},function(Rn){return s.createElement("div",_({},Rn.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--polyline","data-annotation-id":vt.id,onClick:Rn.popup.toggleOnClick,onMouseEnter:Rn.popup.openOnHover,onMouseLeave:Rn.popup.closeOnHover}),vt.vertices&&vt.vertices.length&&s.createElement("svg",{height:"".concat(nn,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(an," ").concat(nn),width:"".concat(an,"px")},s.createElement("polyline",{fill:"none",stroke:"transparent",strokeWidth:xn||1,points:vt.vertices.map(function(Pn){return"".concat(Pn.x-zt[0],",").concat(zt[3]-Pn.y)}).join(" ")})),Rn.slot.children)})},Mn=function(tt){var vt=tt.annotation,Ot=tt.page,jt=tt.viewport,Vt=vt.hasPopup===!1,Xt=en(vt),ln=Zt(vt),tn=!!(vt.hasPopup||Xt||ln),zt=vt.rect,an=zt[2]-zt[0],nn=zt[3]-zt[1],xn=vt.borderStyle.width;return s.createElement(Yn,{annotation:vt,hasPopup:Vt,ignoreBorder:!0,isRenderable:tn,page:Ot,viewport:jt},function(Rn){return s.createElement("div",_({},Rn.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--square","data-annotation-id":vt.id,onClick:Rn.popup.toggleOnClick,onMouseEnter:Rn.popup.openOnHover,onMouseLeave:Rn.popup.closeOnHover}),s.createElement("svg",{height:"".concat(nn,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(an," ").concat(nn),width:"".concat(an,"px")},s.createElement("rect",{height:nn-xn,fill:"none",stroke:"transparent",strokeWidth:xn||1,x:xn/2,y:xn/2,width:an-xn})),Rn.slot.children)})},Sn=function(tt){var vt=tt.annotation,Ot=tt.page,jt=tt.viewport,Vt=vt.hasPopup===!1,Xt=en(vt),ln=Zt(vt),tn=!!(vt.hasPopup||Xt||ln);return s.createElement(Yn,{annotation:vt,hasPopup:Vt,ignoreBorder:!0,isRenderable:tn,page:Ot,viewport:jt},function(zt){return s.createElement("div",_({},zt.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--squiggly","data-annotation-id":vt.id,onClick:zt.popup.toggleOnClick,onMouseEnter:zt.popup.openOnHover,onMouseLeave:zt.popup.closeOnHover}),zt.slot.children)})},wn=function(tt){var vt=tt.annotation,Ot=tt.page,jt=tt.viewport,Vt=vt.hasPopup===!1,Xt=en(vt),ln=Zt(vt),tn=!!(vt.hasPopup||Xt||ln);return s.createElement(Yn,{annotation:vt,hasPopup:Vt,ignoreBorder:!0,isRenderable:tn,page:Ot,viewport:jt},function(zt){return s.createElement("div",_({},zt.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--stamp","data-annotation-id":vt.id,onClick:zt.popup.toggleOnClick,onMouseEnter:zt.popup.openOnHover,onMouseLeave:zt.popup.closeOnHover}),zt.slot.children)})},Fn=function(tt){var vt=tt.annotation,Ot=tt.page,jt=tt.viewport,Vt=vt.hasPopup===!1,Xt=en(vt),ln=Zt(vt),tn=!!(vt.hasPopup||Xt||ln);return s.createElement(Yn,{annotation:vt,hasPopup:Vt,ignoreBorder:!0,isRenderable:tn,page:Ot,viewport:jt},function(zt){return s.createElement("div",_({},zt.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--strike-out","data-annotation-id":vt.id,onClick:zt.popup.toggleOnClick,onMouseEnter:zt.popup.openOnHover,onMouseLeave:zt.popup.closeOnHover}),zt.slot.children)})},Un=function(){return s.createElement(mt,{size:16},s.createElement("path",{d:"M.5,16.5a1,1,0,0,0,1,1h2v4l4-4h15a1,1,0,0,0,1-1V3.5a1,1,0,0,0-1-1H1.5a1,1,0,0,0-1,1Z"}),s.createElement("path",{d:"M7.25,9.75A.25.25,0,1,1,7,10a.25.25,0,0,1,.25-.25"}),s.createElement("path",{d:"M12,9.75a.25.25,0,1,1-.25.25A.25.25,0,0,1,12,9.75"}),s.createElement("path",{d:"M16.75,9.75a.25.25,0,1,1-.25.25.25.25,0,0,1,.25-.25"}))},qn=function(){return s.createElement(mt,{size:16},s.createElement("path",{d:"M0.500 12.001 A11.500 11.500 0 1 0 23.500 12.001 A11.500 11.500 0 1 0 0.500 12.001 Z"}),s.createElement("path",{d:"M6.000 12.001 A6.000 6.000 0 1 0 18.000 12.001 A6.000 6.000 0 1 0 6.000 12.001 Z"}),s.createElement("path",{d:"M21.423 5.406L17.415 9.414"}),s.createElement("path",{d:"M14.587 6.585L18.607 2.565"}),s.createElement("path",{d:"M5.405 21.424L9.413 17.416"}),s.createElement("path",{d:"M6.585 14.588L2.577 18.596"}),s.createElement("path",{d:"M18.602 21.419L14.595 17.412"}),s.createElement("path",{d:"M17.419 14.58L21.428 18.589"}),s.createElement("path",{d:"M2.582 5.399L6.588 9.406"}),s.createElement("path",{d:"M9.421 6.581L5.412 2.572"}))},pr=function(){return s.createElement(mt,{size:16},s.createElement("path",{d:"M4.000 18.500 A1.500 1.500 0 1 0 7.000 18.500 A1.500 1.500 0 1 0 4.000 18.500 Z"}),s.createElement("path",{d:"M20.5.5l-9.782,9.783a7,7,0,1,0,3,3L17,10h1.5V8.5L19,8h1.5V6.5L21,6h1.5V4.5l1-1V.5Z"}))},_r=function(){return s.createElement(mt,{size:16},s.createElement("path",{d:"M2.000 2.500 L22.000 2.500 L22.000 23.500 L2.000 23.500 Z"}),s.createElement("path",{d:"M6 4.5L6 0.5"}),s.createElement("path",{d:"M18 4.5L18 0.5"}),s.createElement("path",{d:"M10 4.5L10 0.5"}),s.createElement("path",{d:"M14 4.5L14 0.5"}))},sr=function(){return s.createElement(mt,{size:16},s.createElement("path",{d:"M17.5 0.498L17.5 23.498"}),s.createElement("path",{d:"M10.5 0.498L10.5 23.498"}),s.createElement("path",{d:"M23.5.5H6.5a6,6,0,0,0,0,12h4"}))},Rr=function(){return s.createElement(mt,{size:16},s.createElement("path",{d:"M2.5 22.995L12 6.005 21.5 22.995 2.5 22.995z"}))},na=function(tt){var vt=tt.annotation,Ot=tt.childAnnotation,jt=tt.page,Vt=tt.viewport,Xt=vt.hasPopup===!1,ln=en(vt),tn=Zt(vt),zt=!!(vt.hasPopup||ln||tn),an=vt.name?vt.name.toLowerCase():"";return s.createElement(Yn,{annotation:vt,hasPopup:Xt,ignoreBorder:!1,isRenderable:zt,page:jt,viewport:Vt},function(nn){return s.createElement(s.Fragment,null,s.createElement("div",_({},nn.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--text","data-annotation-id":vt.id,onClick:nn.popup.toggleOnClick,onMouseEnter:nn.popup.openOnHover,onMouseLeave:nn.popup.closeOnHover}),an&&s.createElement("div",{className:"rpv-core__annotation-text-icon"},an==="check"&&s.createElement(j,null),an==="comment"&&s.createElement(Un,null),an==="help"&&s.createElement(qn,null),an==="insert"&&s.createElement(Rr,null),an==="key"&&s.createElement(pr,null),an==="note"&&s.createElement(_r,null),(an==="newparagraph"||an==="paragraph")&&s.createElement(sr,null)),nn.slot.children),Ot&&Ot.annotationType===e.AnnotationType.Popup&&nn.popup.opened&&s.createElement(Gn,{annotation:Ot,page:jt,viewport:Vt}))})},_a=function(tt){var vt=tt.annotation,Ot=tt.page,jt=tt.viewport,Vt=vt.hasPopup===!1,Xt=en(vt),ln=Zt(vt),tn=!!(vt.hasPopup||Xt||ln);return s.createElement(Yn,{annotation:vt,hasPopup:Vt,ignoreBorder:!0,isRenderable:tn,page:Ot,viewport:jt},function(zt){return s.createElement("div",_({},zt.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--underline","data-annotation-id":vt.id,onClick:zt.popup.toggleOnClick,onMouseEnter:zt.popup.openOnHover,onMouseLeave:zt.popup.closeOnHover}),zt.slot.children)})},ba=function(tt){var vt=tt.annotations,Ot=tt.doc,jt=tt.outlines,Vt=tt.page,Xt=tt.pageIndex,ln=tt.plugins,tn=tt.rotation,zt=tt.scale,an=tt.onExecuteNamedAction,nn=tt.onJumpFromLinkAnnotation,xn=tt.onJumpToDest,Rn=s.useRef(),Pn=Vt.getViewport({rotation:tn,scale:zt}).clone({dontFlip:!0}),jn=vt.filter(function(Nn){return!Nn.parentId});return lt(function(){var Nn=Rn.current;Nn&&ln.forEach(function(On){On.onAnnotationLayerRender&&On.onAnnotationLayerRender({annotations:jn,container:Nn,pageIndex:Xt,rotation:tn,scale:zt})})},[]),s.createElement("div",{ref:Rn,className:"rpv-core__annotation-layer","data-testid":"core__annotation-layer-".concat(Xt)},jn.map(function(Nn){var On=vt.find(function(Sr){return Sr.parentId===Nn.id});switch(Nn.annotationType){case e.AnnotationType.Caret:return s.createElement(Dt,{key:Nn.id,annotation:Nn,page:Vt,viewport:Pn});case e.AnnotationType.Circle:return s.createElement(gn,{key:Nn.id,annotation:Nn,page:Vt,viewport:Pn});case e.AnnotationType.FileAttachment:return s.createElement(Dn,{key:Nn.id,annotation:Nn,page:Vt,viewport:Pn});case e.AnnotationType.FreeText:return s.createElement($n,{key:Nn.id,annotation:Nn,page:Vt,viewport:Pn});case e.AnnotationType.Highlight:return s.createElement(zn,{key:Nn.id,annotation:Nn,childAnnotation:On,page:Vt,viewport:Pn});case e.AnnotationType.Ink:return s.createElement(xt,{key:Nn.id,annotation:Nn,page:Vt,viewport:Pn});case e.AnnotationType.Line:return s.createElement(Ct,{key:Nn.id,annotation:Nn,page:Vt,viewport:Pn});case e.AnnotationType.Link:return s.createElement(yn,{key:Nn.id,annotation:Nn,annotationContainerRef:Rn,doc:Ot,outlines:jt,page:Vt,pageIndex:Xt,scale:zt,viewport:Pn,onExecuteNamedAction:an,onJumpFromLinkAnnotation:nn,onJumpToDest:xn});case e.AnnotationType.Polygon:return s.createElement(kn,{key:Nn.id,annotation:Nn,page:Vt,viewport:Pn});case e.AnnotationType.Polyline:return s.createElement(En,{key:Nn.id,annotation:Nn,page:Vt,viewport:Pn});case e.AnnotationType.Popup:return s.createElement(Gn,{key:Nn.id,annotation:Nn,page:Vt,viewport:Pn});case e.AnnotationType.Square:return s.createElement(Mn,{key:Nn.id,annotation:Nn,page:Vt,viewport:Pn});case e.AnnotationType.Squiggly:return s.createElement(Sn,{key:Nn.id,annotation:Nn,page:Vt,viewport:Pn});case e.AnnotationType.Stamp:return s.createElement(wn,{key:Nn.id,annotation:Nn,page:Vt,viewport:Pn});case e.AnnotationType.StrikeOut:return s.createElement(Fn,{key:Nn.id,annotation:Nn,page:Vt,viewport:Pn});case e.AnnotationType.Text:return s.createElement(na,{key:Nn.id,annotation:Nn,childAnnotation:On,page:Vt,viewport:Pn});case e.AnnotationType.Underline:return s.createElement(_a,{key:Nn.id,annotation:Nn,page:Vt,viewport:Pn});default:return s.createElement(s.Fragment,{key:Nn.id})}}))},to=function(tt){var vt=tt.page,Ot=tt.renderAnnotations,jt=Ut(),Vt=s.useState({loading:!0,annotations:[]}),Xt=Vt[0],ln=Vt[1];return s.useEffect(function(){vt.getAnnotations({intent:"display"}).then(function(tn){jt.current&&ln({loading:!1,annotations:tn})})},[]),Xt.loading?s.createElement(s.Fragment,null):Ot(Xt.annotations)},Fo=function(tt){var vt=tt.doc,Ot=tt.outlines,jt=tt.page,Vt=tt.pageIndex,Xt=tt.plugins,ln=tt.rotation,tn=tt.scale,zt=tt.onExecuteNamedAction,an=tt.onJumpFromLinkAnnotation,nn=tt.onJumpToDest;return s.createElement(to,{page:jt,renderAnnotations:function(xn){return s.createElement(ba,{annotations:xn,doc:vt,outlines:Ot,page:jt,pageIndex:Vt,plugins:Xt,rotation:ln,scale:tn,onExecuteNamedAction:zt,onJumpFromLinkAnnotation:an,onJumpToDest:nn})}})},io=function(tt,vt){var Ot=tt%vt;return Ot===0?tt:Math.floor(tt-Ot)},so=function(tt){var vt=tt.canvasLayerRef,Ot=tt.height,jt=tt.page,Vt=tt.pageIndex,Xt=tt.plugins,ln=tt.rotation,tn=tt.scale,zt=tt.width,an=tt.onRenderCanvasCompleted,nn=s.useRef();return lt(function(){var xn=nn.current;xn&&xn.cancel();var Rn=vt.current;Rn.removeAttribute("data-testid"),Xt.forEach(function(lr){lr.onCanvasLayerRender&&lr.onCanvasLayerRender({ele:Rn,pageIndex:Vt,rotation:ln,scale:tn,status:e.LayerRenderStatus.PreRender})});var Pn=jt.getViewport({rotation:ln,scale:tn}),jn=window.devicePixelRatio||1,Nn=Math.sqrt(16777216/(Pn.width*Pn.height)),On=jn>Nn;On?Rn.style.transform="scale(1, 1)":Rn.style.removeProperty("transform");var Sr=Math.min(Nn,jn),rr=function(lr,Cr){var kr,Pr;if(Math.floor(lr)===lr)return[lr,1];var Tr=1/lr;if(Tr>Cr)return[1,Cr];if(Math.floor(Tr)===Tr)return[1,Tr];for(var Fr=lr>1?Tr:lr,qr=0,Br=1,Yr=1,Vr=1;;){var Gr=qr+Yr,Xr=Br+Vr;if(Xr>Cr)break;Fr<=Gr/Xr?(Yr=(kr=[Gr,Xr])[0],Vr=kr[1]):(qr=(Pr=[Gr,Xr])[0],Br=Pr[1])}return Fr<(qr/Br+Yr/Vr)/2?Fr===lr?[qr,Br]:[Br,qr]:Fr===lr?[Yr,Vr]:[Vr,Yr]}(Sr,8),ir=rr[0],ur=rr[1];Rn.width=io(Pn.width*Sr,ir),Rn.height=io(Pn.height*Sr,ir),Rn.style.width="".concat(io(Pn.width,ur),"px"),Rn.style.height="".concat(io(Pn.height,ur),"px"),Rn.hidden=!0;var Kn=Rn.getContext("2d",{alpha:!1}),hr=On||jn!==1?[Sr,0,0,Sr,0,0]:null;return nn.current=jt.render({canvasContext:Kn,transform:hr,viewport:Pn}),nn.current.promise.then(function(){Rn.hidden=!1,Rn.setAttribute("data-testid","core__canvas-layer-".concat(Vt)),Xt.forEach(function(lr){lr.onCanvasLayerRender&&lr.onCanvasLayerRender({ele:Rn,pageIndex:Vt,rotation:ln,scale:tn,status:e.LayerRenderStatus.DidRender})}),an()},function(){an()}),function(){Rn&&(Rn.width=0,Rn.height=0)}},[]),s.createElement("div",{className:"rpv-core__canvas-layer",style:{height:"".concat(Ot,"px"),width:"".concat(zt,"px")}},s.createElement("canvas",{ref:vt}))},wo=function(tt){var vt=tt.height,Ot=tt.page,jt=tt.rotation,Vt=tt.scale,Xt=tt.width,ln=s.useRef();return lt(function(){var tn=ln.current,zt=Ot.getViewport({rotation:jt,scale:Vt});Ot.getOperatorList().then(function(an){(function(){var nn=ln.current;nn&&(nn.innerHTML="")})(),new d.SVGGraphics(Ot.commonObjs,Ot.objs).getSVG(an,zt).then(function(nn){nn.style.height="".concat(vt,"px"),nn.style.width="".concat(Xt,"px"),tn.appendChild(nn)})})},[]),s.createElement("div",{className:"rpv-core__svg-layer",ref:ln})},bo=function(tt){var vt=tt.containerRef,Ot=tt.page,jt=tt.pageIndex,Vt=tt.plugins,Xt=tt.rotation,ln=tt.scale,tn=tt.onRenderTextCompleted,zt=s.useRef(),an=function(){var nn=vt.current;nn&&([].slice.call(nn.querySelectorAll(".rpv-core__text-layer-text")).forEach(function(xn){return nn.removeChild(xn)}),[].slice.call(nn.querySelectorAll('br[role="presentation"]')).forEach(function(xn){return nn.removeChild(xn)}))};return lt(function(){var nn=zt.current;nn&&nn.cancel();var xn=vt.current;if(xn){xn.removeAttribute("data-testid");var Rn=Ot.getViewport({rotation:Xt,scale:ln});return Vt.forEach(function(Pn){Pn.onTextLayerRender&&Pn.onTextLayerRender({ele:xn,pageIndex:jt,scale:ln,status:e.LayerRenderStatus.PreRender})}),Ot.getTextContent().then(function(Pn){an(),zt.current=d.renderTextLayer({container:xn,textContent:Pn,textContentSource:Pn,viewport:Rn}),zt.current.promise.then(function(){xn.setAttribute("data-testid","core__text-layer-".concat(jt)),[].slice.call(xn.children).forEach(function(jn){jn.classList.contains("rpv-core__text-layer-text--not")||jn.classList.add("rpv-core__text-layer-text")}),Vt.forEach(function(jn){jn.onTextLayerRender&&jn.onTextLayerRender({ele:xn,pageIndex:jt,scale:ln,status:e.LayerRenderStatus.DidRender})}),tn()},function(){xn.removeAttribute("data-testid"),tn()})}),function(){var Pn;an(),(Pn=zt.current)===null||Pn===void 0||Pn.cancel()}}},[]),s.createElement("div",{className:"rpv-core__text-layer",ref:vt})},xr=function(tt){var vt=tt.doc,Ot=tt.measureRef,jt=tt.outlines,Vt=tt.pageIndex,Xt=tt.pageRotation,ln=tt.pageSize,tn=tt.plugins,zt=tt.renderPage,an=tt.renderQueueKey,nn=tt.rotation,xn=tt.scale,Rn=tt.shouldRender,Pn=tt.viewMode,jn=tt.onExecuteNamedAction,Nn=tt.onJumpFromLinkAnnotation,On=tt.onJumpToDest,Sr=tt.onRenderCompleted,rr=tt.onRotatePage,ir=Ut(),ur=s.useState(null),Kn=ur[0],hr=ur[1],lr=s.useState(!1),Cr=lr[0],kr=lr[1],Pr=s.useState(!1),Tr=Pr[0],Fr=Pr[1],qr=s.useRef(),Br=s.useRef(),Yr=Math.abs(nn+Xt)%180==0,Vr=ln.pageWidth*xn,Gr=ln.pageHeight*xn,Xr=Yr?Vr:Gr,Wr=Yr?Gr:Vr,ga=(ln.rotation+nn+Xt)%360,oo=s.useRef(0),ro=zt||function(Zr){return s.createElement(s.Fragment,null,Zr.canvasLayer.children,Zr.textLayer.children,Zr.annotationLayer.children)};return s.useEffect(function(){hr(null),kr(!1),Fr(!1)},[Xt,nn,xn]),s.useEffect(function(){Rn&&ir.current&&!Kn&&Hn(vt,Vt).then(function(Zr){ir.current&&(oo.current=an,hr(Zr))})},[Rn,Kn]),s.useEffect(function(){Cr&&Tr&&(an!==oo.current?(hr(null),kr(!1),Fr(!1)):Sr(Vt))},[Cr,Tr]),s.createElement("div",{className:ot({"rpv-core__page-layer":!0,"rpv-core__page-layer--dual":Pn===e.ViewMode.DualPage,"rpv-core__page-layer--dual-cover":Pn===e.ViewMode.DualPageWithCover,"rpv-core__page-layer--single":Pn===e.ViewMode.SinglePage}),"data-testid":"core__page-layer-".concat(Vt),ref:Ot,style:{height:"".concat(Wr,"px"),width:"".concat(Xr,"px")}},Kn?s.createElement(s.Fragment,null,ro({annotationLayer:{attrs:{},children:s.createElement(Fo,{doc:vt,outlines:jt,page:Kn,pageIndex:Vt,plugins:tn,rotation:ga,scale:xn,onExecuteNamedAction:jn,onJumpFromLinkAnnotation:Nn,onJumpToDest:On})},canvasLayer:{attrs:{},children:s.createElement(so,{canvasLayerRef:qr,height:Wr,page:Kn,pageIndex:Vt,plugins:tn,rotation:ga,scale:xn,width:Xr,onRenderCanvasCompleted:function(){ir.current&&kr(!0)}})},canvasLayerRendered:Cr,doc:vt,height:Wr,pageIndex:Vt,rotation:ga,scale:xn,svgLayer:{attrs:{},children:s.createElement(wo,{height:Wr,page:Kn,rotation:ga,scale:xn,width:Xr})},textLayer:{attrs:{},children:s.createElement(bo,{containerRef:Br,page:Kn,pageIndex:Vt,plugins:tn,rotation:ga,scale:xn,onRenderTextCompleted:function(){ir.current&&Fr(!0)}})},textLayerRendered:Tr,width:Xr,markRendered:Sr,onRotatePage:function(Zr){return rr(Vt,Zr)}}),tn.map(function(Zr,xa){return Zr.renderPageLayer?s.createElement(s.Fragment,{key:xa},Zr.renderPageLayer({canvasLayerRef:qr,canvasLayerRendered:Cr,doc:vt,height:Wr,pageIndex:Vt,rotation:ga,scale:xn,textLayerRef:Br,textLayerRendered:Tr,width:Xr})):s.createElement(s.Fragment,{key:xa})})):s.createElement(ft,{testId:"core__page-layer-loading-".concat(Vt)}))},Hr=function(tt,vt){var Ot=vt.rect;return tt.height!==Ot.height||tt.width!==Ot.width?Ot:tt};(function(tt){tt.Horizontal="Horizontal",tt.Vertical="Vertical",tt.Both="Both"})(Wn||(Wn={}));var ho=function(tt){return 1-Math.pow(1-tt,4)},ao=1e-4,$r={left:0,top:0},lo={capture:!1,passive:!0},Ho=function(tt){var vt=tt.elementRef,Ot=tt.enableSmoothScroll,jt=tt.isRtl,Vt=tt.scrollDirection,Xt=tt.onSmoothScroll,ln=s.useState($r),tn=ln[0],zt=ln[1],an=s.useState(vt.current),nn=an[0],xn=an[1],Rn=jt?-1:1,Pn=s.useRef(Vt);Pn.current=Vt;var jn=s.useRef($r),Nn=s.useRef(!0),On=s.useCallback(function(){Nn.current=!0,Ot&&zt(jn.current),Xt(!1)},[]),Sr=s.useCallback(function(){if(nn){switch(Pn.current){case Wn.Horizontal:jn.current={left:Rn*nn.scrollLeft,top:0};break;case Wn.Both:jn.current={left:Rn*nn.scrollLeft,top:nn.scrollTop};break;case Wn.Vertical:default:jn.current={left:0,top:nn.scrollTop}}Ot&&!Nn.current||zt(jn.current)}},[nn]);lt(function(){xn(vt.current)}),lt(function(){if(nn)return nn.addEventListener("scroll",Sr,lo),function(){nn.removeEventListener("scroll",Sr,lo)}},[nn]);var rr=s.useCallback(function(ir,ur){var Kn=vt.current;if(!Kn)return Promise.resolve();var hr={left:0,top:0};switch(Pn.current){case Wn.Horizontal:hr.left=Rn*ir.left;break;case Wn.Both:hr.left=Rn*ir.left,hr.top=ir.top;break;case Wn.Vertical:default:hr.top=ir.top}return ur?(Nn.current=!1,Xt(!0),new Promise(function(lr,Cr){(function(kr,Pr,Tr,Fr,qr,Br){qr===void 0&&(qr=function(xa){return xa}),Br===void 0&&(Br=function(){});var Yr=0,Vr=0,Gr=!1;switch(Pr){case Wn.Horizontal:Vr=kr.scrollLeft,Yr=0;case Wn.Both:Vr=kr.scrollLeft,Yr=kr.scrollTop;break;case Wn.Vertical:default:Vr=0,Yr=kr.scrollTop}var Xr=function(){Gr||(Gr=!0,kr.scrollLeft=Tr.left,kr.scrollTop=Tr.top,Br())};if(Math.abs(Yr-Tr.top)<=ao&&Pr===Wn.Vertical)Xr();else if(Math.abs(Vr-Tr.left)<=ao&&Pr===Wn.Horizontal)Xr();else{var Wr,ga=-1,oo=Vr-Tr.left,ro=Yr-Tr.top,Zr=function(xa){ga===-1&&(ga=xa);var co=xa-ga,cr=Math.min(co/Fr,1),ar=qr(cr),Qn={left:Vr-oo*ar,top:Yr-ro*ar};switch(Pr){case Wn.Horizontal:kr.scrollLeft=Qn.left;break;case Wn.Both:kr.scrollLeft=Qn.left,kr.scrollTop=Qn.top;break;case Wn.Vertical:default:kr.scrollTop=Qn.top}Math.abs(Qn.top-Tr.top)<=ao&&Math.abs(Qn.left-Tr.left)<=ao&&!Gr&&(window.cancelAnimationFrame(Wr),Xr()),co<Fr?Wr=window.requestAnimationFrame(Zr):window.cancelAnimationFrame(Wr)};Wr=window.requestAnimationFrame(Zr)}})(Kn,Pn.current,hr,400,ho,function(){On(),lr()})})):new Promise(function(lr,Cr){switch(Pn.current){case Wn.Horizontal:Kn.scrollLeft=hr.left;break;case Wn.Both:Kn.scrollLeft=hr.left,Kn.scrollTop=hr.top;break;case Wn.Vertical:default:Kn.scrollTop=hr.top}lr()})},[vt]);return{scrollOffset:tn,scrollTo:rr}},yo=function(tt,vt,Ot){return Math.max(tt,Math.min(Ot,vt))},_u=function(tt,vt){if(vt!==e.ViewMode.DualPageWithCover)return 0;if(!function(Vt){var Xt=Vt.length;if(Xt===1)return!1;for(var ln=1;ln<Xt;ln++)if(Vt[ln].height!==Vt[0].height||Vt[ln].width!==Vt[0].width)return!0;return!1}(tt))return 2*tt[0].width;var Ot=Kt(tt.slice(1),2).map(function(Vt){return Vt.length===2?Vt[0].width+Vt[1].width:Vt[0].width}),jt=[tt[0].width].concat(Ot);return Math.max.apply(Math,jt)},Su={left:0,top:0},Eu={left:0,top:0},ls={left:0,top:0},wu={left:0,top:0},bu={height:0,width:0},_l={left:0,top:0},Sl="data-virtual-index",Au=[0,.1,.2,.3,.4,.5,.6,.7,.8,.9,1],ku=function(tt){var vt=tt.enableSmoothScroll,Ot=tt.isRtl,jt=tt.numberOfItems,Vt=tt.parentRef,Xt=tt.setRenderRange,ln=tt.sizes,tn=tt.scrollMode,zt=tt.viewMode,an=s.useState(!1),nn=an[0],xn=an[1],Rn=s.useCallback(function(cr){return xn(cr)},[]),Pn=s.useRef(tn);Pn.current=tn;var jn=s.useRef(zt);jn.current=zt;var Nn=tn===e.ScrollMode.Wrapped||zt===e.ViewMode.DualPageWithCover||zt===e.ViewMode.DualPage?Wn.Both:tn===e.ScrollMode.Horizontal?Wn.Horizontal:Wn.Vertical,On=Ho({elementRef:Vt,enableSmoothScroll:vt,isRtl:Ot,scrollDirection:Nn,onSmoothScroll:Rn}),Sr=On.scrollOffset,rr=On.scrollTo,ir=function(cr){var ar=cr.elementRef,Qn=s.useState(ar.current),tr=Qn[0],Zn=Qn[1],fr=s.useRef(!1),gr=s.useReducer(Hr,{height:0,width:0}),nr=gr[0],Xn=gr[1];return lt(function(){ar.current!==tr&&Zn(ar.current)}),lt(function(){if(tr&&!fr.current){fr.current=!0;var vr=tr.getBoundingClientRect(),Er=vr.height,jr=vr.width;Xn({rect:{height:Er,width:jr}})}},[tr]),s.useEffect(function(){if(tr){var vr=new ResizeObserver(function(Er,jr){Er.forEach(function(Ir){if(Ir.target===tr){var Jr=Ir.contentRect,$a=Jr.height,yr=Jr.width;Xn({rect:{height:$a,width:yr}})}})});return vr.observe(tr),function(){vr.unobserve(tr)}}},[tr]),nr}({elementRef:Vt}),ur=s.useRef({scrollOffset:_l,measurements:[]});ur.current.scrollOffset=Sr;var Kn=s.useMemo(function(){return Array(jt).fill(-1)},[]),hr=s.useState(Kn),lr=hr[0],Cr=hr[1],kr=s.useMemo(function(){var cr=new IntersectionObserver(function(ar){ar.forEach(function(Qn){var tr=Qn.isIntersecting?Qn.intersectionRatio:-1,Zn=Qn.target.getAttribute(Sl);if(Zn){var fr=parseInt(Zn,10);0<=fr&&fr<jt&&Cr(function(gr){return gr[fr]=tr,function(nr,Xn,vr){for(var Er,jr=0,Ir=Xn.length;jr<Ir;jr++)!Er&&jr in Xn||(Er||(Er=Array.prototype.slice.call(Xn,0,jr)),Er[jr]=Xn[jr]);return nr.concat(Er||Array.prototype.slice.call(Xn))}([],gr)})}})},{threshold:Au});return cr},[]),Pr=s.useMemo(function(){return tn===e.ScrollMode.Page&&zt===e.ViewMode.SinglePage?function(cr,ar,Qn){for(var tr=[],Zn=0;Zn<cr;Zn++){var fr={height:Math.max(ar.height,Qn[Zn].height),width:Math.max(ar.width,Qn[Zn].width)},gr=Zn===0?wu:tr[Zn-1].end,nr={left:gr.left+fr.width,top:gr.top+fr.height};tr[Zn]={index:Zn,start:gr,size:fr,end:nr,visibility:-1}}return tr}(jt,ir,ln):zt===e.ViewMode.DualPageWithCover?function(cr,ar,Qn,tr){for(var Zn=[],fr=0,gr=0,nr=ls,Xn=0;Xn<cr;Xn++){var vr=Xn===0?{height:tr===e.ScrollMode.Page?Math.max(ar.height,Qn[Xn].height):Qn[Xn].height,width:tr===e.ScrollMode.Page?Math.max(ar.width,Qn[Xn].width):Qn[Xn].width}:{height:tr===e.ScrollMode.Page?Math.max(ar.height,Qn[Xn].height):Qn[Xn].height,width:Math.max(ar.width/2,Qn[Xn].width)};tr===e.ScrollMode.Page?nr=Xn===0?ls:{left:Xn%2==0?vr.width:0,top:Math.floor((Xn-1)/2)*vr.height+Zn[0].end.top}:Xn===0?(nr=ls,fr=Qn[0].height,gr=0):Xn%2==1?(nr={left:0,top:fr+=gr},gr=Xn===cr-1?Qn[Xn].height:Math.max(Qn[Xn].height,Qn[Xn+1].height)):nr={left:Zn[Xn-1].end.left,top:fr};var Er={left:nr.left+vr.width,top:nr.top+vr.height};Zn[Xn]={index:Xn,start:nr,size:vr,end:Er,visibility:-1}}return Zn}(jt,ir,ln,tn):zt===e.ViewMode.DualPage?function(cr,ar,Qn,tr){for(var Zn=[],fr=0,gr=0,nr=Eu,Xn=0;Xn<cr;Xn++){var vr={height:tr===e.ScrollMode.Page?Math.max(ar.height,Qn[Xn].height):Qn[Xn].height,width:Math.max(ar.width/2,Qn[Xn].width)};tr===e.ScrollMode.Page?nr={left:Xn%2==0?0:vr.width,top:Math.floor(Xn/2)*vr.height}:Xn%2==0?(nr={left:0,top:fr+=gr},gr=Xn===cr-1?Qn[Xn].height:Math.max(Qn[Xn].height,Qn[Xn+1].height)):nr={left:Zn[Xn-1].end.left,top:fr};var Er={left:nr.left+vr.width,top:nr.top+vr.height};Zn[Xn]={index:Xn,start:nr,size:vr,end:Er,visibility:-1}}return Zn}(jt,ir,ln,tn):function(cr,ar,Qn,tr){for(var Zn=[],fr=0,gr={left:0,top:0},nr=0,Xn=Su,vr=0;vr<cr;vr++){var Er=Qn[vr];if(vr===0)fr=Er.width,gr={left:0,top:0},nr=Er.height;else switch(tr){case e.ScrollMode.Wrapped:(fr+=Er.width)<ar.width?(Xn={left:Zn[vr-1].end.left,top:gr.top},nr=Math.max(nr,Er.height)):(fr=Er.width,gr={left:(Xn={left:gr.left,top:gr.top+nr}).left,top:Xn.top},nr=Er.height);break;case e.ScrollMode.Horizontal:case e.ScrollMode.Vertical:default:Xn=Zn[vr-1].end}var jr={left:Xn.left+Er.width,top:Xn.top+Er.height};Zn[vr]={index:vr,start:Xn,size:Er,end:jr,visibility:-1}}return Zn}(jt,ir,ln,tn)},[tn,ln,zt,ir]),Tr=Pr[jt-1]?{height:Pr[jt-1].end.top,width:Pr[jt-1].end.left}:bu;ur.current.measurements=Pr;var Fr=s.useMemo(function(){var cr=function(vr,Er,jr,Ir){var Jr=0;switch(vr){case Wn.Horizontal:Jr=Ir.left;break;case Wn.Vertical:default:Jr=Ir.top}var $a=Er.length-1,yr=function(Dr,fo,ko,Wo){for(;Dr<=fo;){var _o=(Dr+fo)/2|0,Lo=Wo(_o);if(Lo<ko)Dr=_o+1;else{if(!(Lo>ko))return _o;fo=_o-1}}return Dr>0?Dr-1:0}(0,$a,Jr,function(Dr){switch(vr){case Wn.Horizontal:return Er[Dr].start.left;case Wn.Both:case Wn.Vertical:default:return Er[Dr].start.top}});if(vr===Wn.Both)for(var _i=Er[yr].start.top;yr-1>=0&&Er[yr-1].start.top===_i&&Er[yr-1].start.left>=Ir.left;)yr--;for(var zr=yr;zr<=$a;){var Ur={top:Er[zr].start.top-Ir.top,left:Er[zr].start.left-Ir.left},Kr={height:jr.height-Ur.top,width:jr.width-Ur.left};if(vr===Wn.Horizontal&&Kr.width<0||vr===Wn.Vertical&&Kr.height<0||vr===Wn.Both&&(Kr.width<0||Kr.height<0))break;zr++}return{start:yr,end:zr}}(Nn,Pr,ir,Sr),ar=cr.start,Qn=cr.end,tr=lr.slice(yo(0,jt,ar),yo(0,jt,Qn)),Zn=ar+tr.reduce(function(vr,Er,jr,Ir){return Er>Ir[vr]?jr:vr},0),fr=Zn=yo(0,jt-1,Zn),gr=Xt({endPage:Qn,numPages:jt,startPage:ar}),nr=gr.startPage,Xn=gr.endPage;switch(nr=Math.max(nr,0),Xn=Math.min(Xn,jt-1),zt){case e.ViewMode.DualPageWithCover:Zn>0&&(fr=Zn%2==1?Zn:Zn-1),nr=nr===0?0:nr%2==1?nr:nr-1,jt-(Xn=Xn%2==1?Xn-1:Xn)<=2&&(Xn=jt-1);break;case e.ViewMode.DualPage:fr=Zn%2==0?Zn:Zn-1,nr=nr%2==0?nr:nr-1,Xn=Xn%2==1?Xn:Xn-1;break;case e.ViewMode.SinglePage:default:fr=Zn}return{startPage:nr,endPage:Xn,maxVisbilityIndex:fr}},[Pr,ir,Sr,zt,lr]),qr=Fr.startPage,Br=Fr.endPage,Yr=Fr.maxVisbilityIndex,Vr=s.useMemo(function(){for(var cr=[],ar=function(tr){var Zn=Pr[tr],fr=_(_({},Zn),{visibility:lr[tr]!==void 0?lr[tr]:-1,measureRef:function(gr){gr&&(gr.setAttribute(Sl,"".concat(tr)),kr.observe(gr))}});cr.push(fr)},Qn=qr;Qn<=Br;Qn++)ar(Qn);return cr},[qr,Br,lr,Pr]),Gr=s.useCallback(function(cr,ar){var Qn=ur.current.measurements[yo(0,jt-1,cr)],tr=Pn.current===e.ScrollMode.Page?_l:ar;return Qn?rr({left:tr.left+Qn.start.left,top:tr.top+Qn.start.top},vt):Promise.resolve()},[rr,vt]),Xr=s.useCallback(function(cr,ar){var Qn=ur.current.measurements,tr=Qn[cr].start,Zn=Qn.find(function(gr){return gr.start.top-tr.top>1e-12});if(!Zn)return Promise.resolve();var fr=Zn.index;switch(jn.current){case e.ViewMode.DualPage:fr=fr%2==0?fr:fr+1;break;case e.ViewMode.DualPageWithCover:fr=fr%2==1?fr:fr+1}return Gr(fr,ar)},[]),Wr=s.useCallback(function(cr,ar){for(var Qn=ur.current.measurements,tr=Qn[cr].start,Zn=cr,fr=!1,gr=jt-1;gr>=0;gr--)if(tr.top-Qn[gr].start.top>1e-12){fr=!0,Zn=Qn[gr].index;break}if(!fr)return Promise.resolve();switch(jn.current){case e.ViewMode.DualPage:Zn=Zn%2==0?Zn:Zn-1;break;case e.ViewMode.DualPageWithCover:Zn=Zn%2==0?Zn-1:Zn}return Zn===cr&&(Zn=cr-1),Gr(Zn,ar)},[]),ga=s.useCallback(function(cr,ar){if(jn.current===e.ViewMode.DualPageWithCover||jn.current===e.ViewMode.DualPage)return Xr(cr,ar);switch(Pn.current){case e.ScrollMode.Wrapped:return Xr(cr,ar);case e.ScrollMode.Horizontal:case e.ScrollMode.Vertical:default:return Gr(cr+1,ar)}},[]),oo=s.useCallback(function(cr,ar){if(jn.current===e.ViewMode.DualPageWithCover||jn.current===e.ViewMode.DualPage)return Wr(cr,ar);switch(Pn.current){case e.ScrollMode.Wrapped:return Wr(cr,ar);case e.ScrollMode.Horizontal:case e.ScrollMode.Vertical:default:return Gr(cr-1,ar)}},[]),ro=s.useCallback(function(){return function(cr,ar){switch(ar){case e.ScrollMode.Horizontal:return{position:"relative",height:"100%",width:"".concat(cr.width,"px")};case e.ScrollMode.Vertical:default:return{position:"relative",height:"".concat(cr.height,"px"),width:"100%"}}}(Tr,Pn.current)},[Tr]),Zr=s.useCallback(function(cr){return function(ar,Qn,tr){return tr!==e.ScrollMode.Page?{}:{height:"".concat(Qn.height,"px"),width:"100%",position:"absolute",top:0,transform:"translateY(".concat(ar.start.top,"px)")}}(cr,ir,Pn.current)},[ir]),xa=s.useCallback(function(cr){return function(ar,Qn,tr,Zn,fr){var gr,nr,Xn,vr,Er,jr,Ir,Jr=Qn?"right":"left",$a=Qn?-1:1,yr=tr.length,_i=ar.start.left*$a,zr=ar.size,Ur=zr.height,Kr=zr.width;if(Zn===e.ViewMode.DualPageWithCover){var Dr=fr===e.ScrollMode.Page?0:ar.start.top;return ar.index===0||yr%2==0&&ar.index===yr-1?((gr={height:"".concat(Ur,"px"),minWidth:"".concat(_u(tr,Zn),"px"),width:"100%"})[Jr]=0,gr.position="absolute",gr.top=0,gr.transform="translate(".concat(_i,"px, ").concat(Dr,"px)"),gr):((nr={height:"".concat(Ur,"px"),width:"".concat(Kr,"px")})[Jr]=0,nr.position="absolute",nr.top=0,nr.transform="translate(".concat(_i,"px, ").concat(Dr,"px)"),nr)}if(Zn===e.ViewMode.DualPage)return(Xn={height:"".concat(Ur,"px"),width:"".concat(Kr,"px")})[Jr]=0,Xn.position="absolute",Xn.top=0,Xn.transform="translate(".concat(_i,"px, ").concat(fr===e.ScrollMode.Page?0:ar.start.top,"px)"),Xn;switch(fr){case e.ScrollMode.Horizontal:return(vr={height:"100%",width:"".concat(Kr,"px")})[Jr]=0,vr.position="absolute",vr.top=0,vr.transform="translateX(".concat(_i,"px)"),vr;case e.ScrollMode.Page:return(Er={height:"".concat(Ur,"px"),width:"".concat(Kr,"px")})[Jr]=0,Er.position="absolute",Er.top=0,Er;case e.ScrollMode.Wrapped:return(jr={height:"".concat(Ur,"px"),width:"".concat(Kr,"px")})[Jr]=0,jr.position="absolute",jr.top=0,jr.transform="translate(".concat(_i,"px, ").concat(ar.start.top,"px)"),jr;case e.ScrollMode.Vertical:default:return(Ir={height:"".concat(Ur,"px"),width:"100%"})[Jr]=0,Ir.position="absolute",Ir.top=0,Ir.transform="translateY(".concat(ar.start.top,"px)"),Ir}}(cr,Ot,ln,jn.current,Pn.current)},[Ot,ln]),co=s.useCallback(function(cr,ar){var Qn=ur.current,tr=Qn.measurements,Zn=Qn.scrollOffset,fr=tr[yo(0,jt-1,ar)];if(fr){var gr=Pn.current===e.ScrollMode.Page?{left:fr.start.left,top:fr.start.top}:{left:Zn.left*cr,top:Zn.top*cr};return rr(gr,!1)}return Promise.resolve()},[]);return s.useEffect(function(){return function(){kr.disconnect()}},[]),{boundingClientRect:ir,isSmoothScrolling:nn,startPage:qr,endPage:Br,maxVisbilityIndex:Yr,virtualItems:Vr,getContainerStyles:ro,getItemContainerStyles:Zr,getItemStyles:xa,scrollToItem:Gr,scrollToNextItem:ga,scrollToPreviousItem:oo,zoom:co}},cs=function(tt,vt,Ot,jt,Vt,Xt){var ln=Ot;switch(!0){case(Vt===e.ViewMode.DualPageWithCover&&Xt>=3):case(Vt===e.ViewMode.DualPage&&Xt>=3):ln=2*Ot;break;default:ln=Ot}switch(jt){case e.SpecialZoomLevel.ActualSize:return 1;case e.SpecialZoomLevel.PageFit:return Math.min((tt.clientWidth-17)/ln,(tt.clientHeight-16)/vt);case e.SpecialZoomLevel.PageWidth:return(tt.clientWidth-17)/ln}},Cu=function(tt){var vt,Ot,jt=tt.getCurrentPage,Vt=(vt=50,Ot=s.useRef([]),s.useEffect(function(){return function(){Ot.current=[]}},[]),{push:function(an){var nn=Ot.current;nn.length+1>vt&&nn.shift(),nn.push(an),Ot.current=nn},map:function(an){return Ot.current.map(function(nn){return an(nn)})},pop:function(){var an=Ot.current;if(an.length===0)return null;var nn=an.pop();return Ot.current=an,nn}}),Xt=function(an){var nn=s.useRef([]);return s.useEffect(function(){return function(){nn.current=[]}},[]),{dequeue:function(){var xn=nn.current;if(xn.length===0)return null;var Rn=xn.shift();return nn.current=xn,Rn||null},enqueue:function(xn){var Rn=nn.current;Rn.length+1>an&&Rn.pop(),nn.current=[xn].concat(Rn)},map:function(xn){return nn.current.map(function(Rn){return xn(Rn)})}}}(50),ln=function(){var an=Xt.dequeue();return an&&Vt.push(an),an&&an.pageIndex===jt()?ln():an},tn=function(){var an=Vt.pop();return an&&Xt.enqueue(an),an&&an.pageIndex===jt()?tn():an},zt=s.useCallback(function(an){Vt.push(an)},[]);return{getNextDestination:ln,getPreviousDestination:tn,markVisitedDestination:zt}},El=function(tt){var vt=[];return tt.map(function(Ot){vt=vt.concat(Ot).concat(function(jt){var Vt=[];return jt.items&&jt.items.length>0&&(Vt=Vt.concat(El(jt.items))),Vt}(Ot))}),vt},wl={capture:!1,passive:!0},Pu={height:0,width:0},us={height:0,width:0},Ru=function(tt){var vt=tt.getCurrentPage,Ot=tt.getCurrentScrollMode,jt=tt.jumpToPage,Vt=tt.targetRef,Xt=s.useState(e.FullScreenMode.Normal),ln=Xt[0],tn=Xt[1],zt=function(){var lr=s.useState(Pu),Cr=lr[0],kr=lr[1],Pr=Jt(function(){kr({height:window.innerHeight,width:window.innerWidth})},100);return lt(function(){return window.addEventListener("resize",Pr,wl),function(){window.removeEventListener("resize",Pr,wl)}},[]),Cr}(),an=s.useState(us),nn=an[0],xn=an[1],Rn=s.useRef(us),Pn=s.useRef(vt()),jn=s.useRef(us),Nn=s.useState(Vt.current),On=Nn[0],Sr=Nn[1],rr=s.useRef();lt(function(){Vt.current!==On&&Sr(Vt.current)},[]),lt(function(){if(On){var lr=new ResizeObserver(function(Cr){Cr.forEach(function(kr){var Pr=kr.target.getBoundingClientRect(),Tr=Pr.height,Fr=Pr.width;xn({height:Tr,width:Fr})})});return lr.observe(On),function(){lr.unobserve(On),lr.disconnect()}}},[On]);var ir=s.useCallback(function(lr){var Cr=Rt();return Cr&&Cr!==lr?(tn(e.FullScreenMode.Normal),St(Cr)):Promise.resolve()},[]),ur=s.useCallback(function(lr){lr&&ht()&&(Sr(lr),ir(lr).then(function(){rr.current=lr,tn(e.FullScreenMode.Entering),function(Cr){dt&&Cr[At.RequestFullScreen]()}(lr)}))},[]),Kn=s.useCallback(function(){Rt()&&(tn(e.FullScreenMode.Exitting),St(document))},[]),hr=s.useCallback(function(){On&&Rt()!==On&&tn(e.FullScreenMode.Exitting)},[On]);return s.useEffect(function(){switch(ln){case e.FullScreenMode.Entering:rr.current&&(rr.current.style.backgroundColor="var(--rpv-core__full-screen-target-background-color)"),Pn.current=vt(),Rn.current={height:window.innerHeight,width:window.innerWidth};break;case e.FullScreenMode.Entered:Ot()===e.ScrollMode.Page?jt(Pn.current).then(function(){tn(e.FullScreenMode.EnteredCompletely)}):tn(e.FullScreenMode.EnteredCompletely);break;case e.FullScreenMode.Exitting:rr.current&&(rr.current.style.backgroundColor="",rr.current=null),Pn.current=vt();break;case e.FullScreenMode.Exited:tn(e.FullScreenMode.Normal),Ot()===e.ScrollMode.Page&&jt(Pn.current)}},[ln]),s.useEffect(function(){if(ln!==e.FullScreenMode.Normal)return ln===e.FullScreenMode.Entering&&zt.height===nn.height&&zt.width===nn.width&&zt.height>0&&zt.width>0&&(jn.current.height===0||zt.height==jn.current.height)?(jn.current={height:window.innerHeight,width:window.innerWidth},void tn(e.FullScreenMode.Entered)):void(ln===e.FullScreenMode.Exitting&&Rn.current.height===zt.height&&Rn.current.width===zt.width&&zt.height>0&&zt.width>0&&tn(e.FullScreenMode.Exited))},[ln,zt,nn]),s.useEffect(function(){var lr;return lr=hr,dt&&document.addEventListener(At.FullScreenChange,lr),function(){(function(Cr){dt&&document.removeEventListener(At.FullScreenChange,Cr)})(hr)}},[On]),{enterFullScreenMode:ur,exitFullScreenMode:Kn,fullScreenMode:ln}},xu={buildPageStyles:function(){return{}},transformSize:function(tt){return tt.size}},Ao={left:0,top:0},Tu=function(tt){var vt=tt.currentFile,Ot=tt.defaultScale,jt=tt.doc,Vt=tt.enableSmoothScroll,Xt=tt.initialPage,ln=tt.initialRotation,tn=tt.initialScale,zt=tt.pageLayout,an=tt.pageSizes,nn=tt.plugins,xn=tt.renderPage,Rn=tt.scrollMode,Pn=tt.setRenderRange,jn=tt.viewMode,Nn=tt.viewerState,On=tt.onDocumentLoad,Sr=tt.onOpenFile,rr=tt.onPageChange,ir=tt.onRotate,ur=tt.onRotatePage,Kn=tt.onZoom,hr=jt.numPages,lr=jt.loadingTask.docId,Cr=s.useContext($t).l10n,kr=s.useContext(ut),Pr=kr.direction===e.TextDirection.RightToLeft,Tr=s.useRef(),Fr=s.useRef(),qr=s.useState(Xt),Br=qr[0],Yr=qr[1],Vr=s.useRef(null),Gr=Cu({getCurrentPage:function(){return yr.current.pageIndex}}),Xr=s.useState(ln),Wr=Xr[0],ga=Xr[1],oo=Yt(Wr),ro=s.useState(!1),Zr=ro[0],xa=ro[1],co=s.useState(new Map),cr=co[0],ar=co[1],Qn=s.useState(Rn),tr=Qn[0],Zn=Qn[1],fr=Yt(tr),gr=s.useState(jn),nr=gr[0],Xn=gr[1],vr=Yt(nr),Er=function(In){var mr=Ut(),br=s.useState([]),Lr=br[0],Mr=br[1];return s.useEffect(function(){In.getOutline().then(function(Ar){if(mr.current&&Ar!==null){var Qr=El(Ar);Mr(Qr)}})},[]),Lr}(jt),jr=s.useState(tn),Ir=jr[0],Jr=jr[1],$a=Yt(Ir),yr=s.useRef(Nn),_i=s.useRef(typeof Ot=="string"?Ot:null),zr=s.useRef(-1),Ur=s.useRef(-1),Kr=s.useRef(Xt),Dr=Ru({getCurrentPage:function(){return yr.current.pageIndex},getCurrentScrollMode:function(){return yr.current.scrollMode},jumpToPage:function(In){return go(In)},targetRef:Fr}),fo=s.useState(-1),ko=fo[0],Wo=fo[1],_o=s.useState(0),Lo=_o[0],Ou=_o[1],eo=wt({doc:jt});s.useEffect(function(){return function(){Tn.clear(),Jn.clear()}},[lr]);var Rl=s.useMemo(function(){return Object.assign({},xu,zt)},[]),Nu=s.useMemo(function(){return Array(hr).fill(0).map(function(In,mr){var br=[an[mr].pageHeight,an[mr].pageWidth],Lr=Math.abs(Wr)%180==0?{height:br[0],width:br[1]}:{height:br[1],width:br[0]},Mr={height:Lr.height*Ir,width:Lr.width*Ir};return Rl.transformSize({numPages:hr,pageIndex:mr,size:Mr})})},[Wr,Ir]),Or=ku({enableSmoothScroll:Vt,isRtl:Pr,numberOfItems:hr,parentRef:Fr,scrollMode:tr,setRenderRange:Pn,sizes:Nu,viewMode:nr}),ju=Jt(function(){!_i.current||yr.current.fullScreenMode!==e.FullScreenMode.Normal||Xt>0&&Kr.current===Xt||So(_i.current)},200);(function(In){var mr=In.targetRef,br=In.onResize;lt(function(){var Lr=new ResizeObserver(function(Ar){Ar.forEach(function(Qr){br(Qr.target)})}),Mr=mr.current;if(Mr)return Lr.observe(Mr),function(){Lr.unobserve(Mr)}},[])})({targetRef:Fr,onResize:ju});var po=function(In){var mr=In;nn.forEach(function(br){br.onViewerStateChange&&(mr=br.onViewerStateChange(mr))}),yr.current=mr},zu=function(){return Fr.current},Bu=function(){return yr.current},Uu=s.useCallback(function(In){Gr.markVisitedDestination(In)},[]),fs=s.useCallback(function(In){var mr=In.pageIndex,br=In.bottomOffset,Lr=In.leftOffset,Mr=In.scaleTo,Ar=Fr.current,Qr=yr.current;return Ar&&Qr?new Promise(function(mo,_s){Hn(jt,mr).then(function($o){var vo=$o.getViewport({scale:1}),Go=0,Ol=(typeof br=="function"?br(vo.width,vo.height):br)||0,Xo=(typeof Lr=="function"?Lr(vo.width,vo.height):Lr)||0,Co=Qr.scale;switch(Mr){case e.SpecialZoomLevel.PageFit:Go=0,Xo=0,So(e.SpecialZoomLevel.PageFit);break;case e.SpecialZoomLevel.PageWidth:Co=cs(Ar,an[mr].pageHeight,an[mr].pageWidth,e.SpecialZoomLevel.PageWidth,jn,hr),Go=(vo.height-Ol)*Co,Xo*=Co,So(Co);break;default:Go=(vo.height-Ol)*Co,Xo*=Co}switch(Qr.scrollMode){case e.ScrollMode.Horizontal:Or.scrollToItem(mr,{left:Xo,top:0}).then(function(){mo()});break;case e.ScrollMode.Vertical:default:Or.scrollToItem(mr,{left:0,top:Go}).then(function(){mo()})}})}):Promise.resolve()},[]),xl=s.useCallback(function(In){return Gr.markVisitedDestination(In),fs(In)},[]),Hu=s.useCallback(function(){var In=Gr.getNextDestination();return In?fs(In):Promise.resolve()},[]),Vu=s.useCallback(function(){var In=Gr.getPreviousDestination();return In?fs(In):Promise.resolve()},[]),Wu=s.useCallback(function(){return Or.scrollToNextItem(yr.current.pageIndex,Ao)},[]),go=s.useCallback(function(In){return 0<=In&&In<hr?Or.scrollToItem(In,Ao):Promise.resolve()},[]),$u=s.useCallback(function(){return Or.scrollToPreviousItem(yr.current.pageIndex,Ao)},[]),Tl=s.useCallback(function(In){var mr,br;(mr=In.name,br=mr.split(/\./).pop(),br?br.toLowerCase():"").toLowerCase()==="pdf"&&new Promise(function(Lr){var Mr=new FileReader;Mr.readAsArrayBuffer(In),Mr.onload=function(){var Ar=new Uint8Array(Mr.result);Lr(Ar)}}).then(function(Lr){Sr(In.name,Lr)})},[Sr]),Ml=s.useCallback(function(In){var mr=In===e.RotateDirection.Backward?-90:90,br=yr.current.rotation,Lr=br===360||br===-360?mr:br+mr;eo.markNotRendered(),ga(Lr),po(_(_({},yr.current),{rotation:Lr})),ir({direction:In,doc:jt,rotation:Lr})},[]),ps=s.useCallback(function(In,mr){var br=mr===e.RotateDirection.Backward?-90:90,Lr=yr.current.pagesRotation,Mr=(Lr.has(In)?Lr.get(In):ln)+br,Ar=Lr.set(In,Mr);ar(Ar),xa(function(Qr){return!Qr}),po(_(_({},yr.current),{pagesRotation:Ar,rotatedPage:In})),ur({direction:mr,doc:jt,pageIndex:In,rotation:Mr}),eo.markRendering(In),Wo(In)},[]),Fl=s.useCallback(function(In){po(_(_({},yr.current),{scrollMode:In})),Zn(In)},[]),Ll=s.useCallback(function(In){po(_(_({},yr.current),{viewMode:In})),Xn(In)},[]),So=s.useCallback(function(In){var mr=Fr.current,br=yr.current.pageIndex;if(!(br<0||br>=hr)){var Lr=an[br].pageHeight,Mr=an[br].pageWidth,Ar=mr?typeof In=="string"?cs(mr,Lr,Mr,In,yr.current.viewMode,hr):In:1;_i.current=typeof In=="string"?In:null,Ar!==yr.current.scale&&(Ou(function(Qr){return Qr+1}),eo.markNotRendered(),Jr(Ar),Kn({doc:jt,scale:Ar}),po(_(_({},yr.current),{scale:Ar})))}},[]),Gu=s.useCallback(function(In){Dr.enterFullScreenMode(In)},[]),Xu=s.useCallback(function(){Dr.exitFullScreenMode()},[]);s.useEffect(function(){po(_(_({},yr.current),{fullScreenMode:Dr.fullScreenMode}))},[Dr.fullScreenMode]),s.useEffect(function(){var In={enterFullScreenMode:Gu,exitFullScreenMode:Xu,getPagesContainer:zu,getViewerState:Bu,jumpToDestination:xl,jumpToNextDestination:Hu,jumpToPreviousDestination:Vu,jumpToNextPage:Wu,jumpToPreviousPage:$u,jumpToPage:go,openFile:Tl,rotate:Ml,rotatePage:ps,setViewerState:po,switchScrollMode:Fl,switchViewMode:Ll,zoom:So};return nn.forEach(function(mr){mr.install&&mr.install(In)}),function(){nn.forEach(function(mr){mr.uninstall&&mr.uninstall(In)})}},[lr]),s.useEffect(function(){On({doc:jt,file:vt}),nn.forEach(function(In){In.onDocumentLoad&&In.onDocumentLoad({doc:jt,file:vt})})},[lr]);var gs,ms,vs,Dl=Or.boundingClientRect;gs=function(){Xt&&go(Xt)},ms=Dl.height>0&&Dl.width>0,vs=s.useRef(!1),lt(function(){ms&&!vs.current&&(vs.current=!0,gs())},[gs,ms]),lt(function(){var In=yr.current.pageIndex;In>-1&&fr!==tr&&Or.scrollToItem(In,Ao).then(function(){Dr.fullScreenMode===e.FullScreenMode.EnteredCompletely&&(Vt||eo.markNotRendered(),zr.current=-1)})},[tr]),lt(function(){var In=yr.current.pageIndex;In>-1&&oo!==Wr&&Or.scrollToItem(In,Ao)},[Wr]),lt(function(){$a!=0&&$a!=yr.current.scale&&Or.zoom(yr.current.scale/$a,yr.current.pageIndex).then(function(){Dr.fullScreenMode===e.FullScreenMode.EnteredCompletely&&(Ur.current=-1)})},[Ir]),lt(function(){if(vr!==yr.current.viewMode){var In=Or.startPage,mr=Or.endPage,br=Or.virtualItems;eo.markNotRendered(),eo.setRange(In,mr);for(var Lr=function(Ar){var Qr=br.find(function(mo){return mo.index===Ar});Qr&&eo.setVisibility(Ar,Qr.visibility)},Mr=In;Mr<=mr;Mr++)Lr(Mr);ys()}},[nr]),lt(function(){var In=yr.current.pageIndex;In>-1&&vr!==nr&&Or.scrollToItem(In,Ao)},[nr]),lt(function(){var In=yr.current.pageIndex;In>0&&In===Xt&&Kr.current===Xt&&_i.current&&(Kr.current=-1,So(_i.current))},[Br]),s.useEffect(function(){Or.isSmoothScrolling||Vr.current!==null&&Vr.current===Br||(Vr.current=Br,rr({currentPage:Br,doc:jt}))},[Br,Or.isSmoothScrolling]),s.useEffect(function(){Dr.fullScreenMode===e.FullScreenMode.Entering&&yr.current.scrollMode===e.ScrollMode.Page&&(zr.current=yr.current.pageIndex),Dr.fullScreenMode===e.FullScreenMode.EnteredCompletely&&yr.current.scrollMode===e.ScrollMode.Page&&Vt&&(zr.current=-1),Dr.fullScreenMode===e.FullScreenMode.EnteredCompletely&&_i.current&&(Ur.current=yr.current.pageIndex,So(_i.current))},[Dr.fullScreenMode]),s.useEffect(function(){if(Dr.fullScreenMode!==e.FullScreenMode.Entering&&Dr.fullScreenMode!==e.FullScreenMode.Exitting&&!Or.isSmoothScrolling){var In=Or.startPage,mr=Or.endPage,br=Or.maxVisbilityIndex,Lr=Or.virtualItems,Mr=br,Ar=Dr.fullScreenMode===e.FullScreenMode.Entered||Dr.fullScreenMode===e.FullScreenMode.EnteredCompletely;if(!(Ar&&Mr!==zr.current&&zr.current>-1||Ar&&Mr!==Ur.current&&Ur.current>-1)){Yr(Mr),po(_(_({},yr.current),{pageIndex:Mr})),eo.setRange(In,mr);for(var Qr=function(_s){var $o=Lr.find(function(vo){return vo.index===_s});$o&&eo.setVisibility(_s,$o.visibility)},mo=In;mo<=mr;mo++)Qr(mo);ys()}}},[Or.startPage,Or.endPage,Or.isSmoothScrolling,Or.maxVisbilityIndex,Dr.fullScreenMode,Zr,Wr,Ir]);var qu=s.useCallback(function(In){eo.markRendered(In),ys()},[Lo]),ys=function(){var In=eo.getHighestPriorityPage();In>-1&&eo.isInRange(In)&&(eo.markRendering(In),Wo(In))},Yu=function(In){var mr=Br-1,br=Br+1;switch(In){case"FirstPage":go(0);break;case"LastPage":go(hr-1);break;case"NextPage":br<hr&&go(br);break;case"PrevPage":mr>=0&&go(mr)}},Ku=s.useCallback(function(){var In=Or.virtualItems,mr=[];switch(nr){case e.ViewMode.DualPage:mr=Kt(In,2);break;case e.ViewMode.DualPageWithCover:In.length&&(mr=In[0].index===0?[[In[0]]].concat(Kt(In.slice(1),2)):Kt(In,2));break;case e.ViewMode.SinglePage:default:mr=Kt(In,1)}var br=Cr&&Cr.core?Cr.core.pageLabel:"Page {{pageIndex}}",Lr={attrs:{className:"rpv-core__inner-container","data-testid":"core__inner-container",ref:Tr,style:{height:"100%"}},children:s.createElement(s.Fragment,null),subSlot:{attrs:{"data-testid":"core__inner-pages",className:ot({"rpv-core__inner-pages":!0,"rpv-core__inner-pages--horizontal":tr===e.ScrollMode.Horizontal,"rpv-core__inner-pages--rtl":Pr,"rpv-core__inner-pages--single":tr===e.ScrollMode.Page,"rpv-core__inner-pages--vertical":tr===e.ScrollMode.Vertical,"rpv-core__inner-pages--wrapped":tr===e.ScrollMode.Wrapped}),ref:Fr,style:{height:"100%",position:"relative"}},children:s.createElement("div",{"data-testid":"core__inner-current-page-".concat(Br),style:Object.assign({"--scale-factor":Ir},Or.getContainerStyles())},mr.map(function(Mr){return s.createElement("div",{className:ot({"rpv-core__inner-page-container":!0,"rpv-core__inner-page-container--single":tr===e.ScrollMode.Page}),style:Or.getItemContainerStyles(Mr[0]),key:"".concat(Mr[0].index,"-").concat(nr)},Mr.map(function(Ar){var Qr=nr===e.ViewMode.DualPageWithCover&&(Ar.index===0||hr%2==0&&Ar.index===hr-1);return s.createElement("div",{"aria-label":br.replace("{{pageIndex}}","".concat(Ar.index+1)),className:ot({"rpv-core__inner-page":!0,"rpv-core__inner-page--dual-even":nr===e.ViewMode.DualPage&&Ar.index%2==0,"rpv-core__inner-page--dual-odd":nr===e.ViewMode.DualPage&&Ar.index%2==1,"rpv-core__inner-page--dual-cover":Qr,"rpv-core__inner-page--dual-cover-even":nr===e.ViewMode.DualPageWithCover&&!Qr&&Ar.index%2==0,"rpv-core__inner-page--dual-cover-odd":nr===e.ViewMode.DualPageWithCover&&!Qr&&Ar.index%2==1,"rpv-core__inner-page--single":nr===e.ViewMode.SinglePage&&tr===e.ScrollMode.Page}),role:"region",key:"".concat(Ar.index,"-").concat(nr),style:Object.assign({},Or.getItemStyles(Ar),Rl.buildPageStyles({numPages:hr,pageIndex:Ar.index,scrollMode:tr,viewMode:nr}))},s.createElement(xr,{doc:jt,measureRef:Ar.measureRef,outlines:Er,pageIndex:Ar.index,pageRotation:cr.has(Ar.index)?cr.get(Ar.index):0,pageSize:an[Ar.index],plugins:nn,renderPage:xn,renderQueueKey:Lo,rotation:Wr,scale:Ir,shouldRender:ko===Ar.index,viewMode:nr,onExecuteNamedAction:Yu,onJumpFromLinkAnnotation:Uu,onJumpToDest:xl,onRenderCompleted:qu,onRotatePage:ps}))}))}))}};return nn.forEach(function(Mr){Mr.renderViewer&&(Lr=Mr.renderViewer({containerRef:Tr,doc:jt,pagesContainerRef:Fr,pagesRotation:cr,pageSizes:an,rotation:Wr,slot:Lr,themeContext:kr,jumpToPage:go,openFile:Tl,rotate:Ml,rotatePage:ps,switchScrollMode:Fl,switchViewMode:Ll,zoom:So}))}),Lr},[nn,Or]),Il=s.useCallback(function(In){return s.createElement("div",_({},In.attrs,{style:In.attrs&&In.attrs.style?In.attrs.style:{}}),In.children,In.subSlot&&Il(In.subSlot))},[]);return Il(Ku())},Al=[.1,.2,.3,.4,.5,.6,.7,.8,.9,1,1.1,1.3,1.5,1.7,1.9,2.1,2.4,2.7,3,3.3,3.7,4.1,4.6,5.1,5.7,6.3,7,7.7,8.5,9.4,10],Mu=function(tt){var vt=tt.defaultScale,Ot=tt.doc,jt=tt.render,Vt=tt.scrollMode,Xt=tt.viewMode,ln=s.useRef(),tn=s.useState({pageSizes:[],scale:0}),zt=tn[0],an=tn[1];return s.useLayoutEffect(function(){var nn=Array(Ot.numPages).fill(0).map(function(xn,Rn){return new Promise(function(Pn,jn){Hn(Ot,Rn).then(function(Nn){var On=Nn.getViewport({scale:1});Pn({pageHeight:On.height,pageWidth:On.width,rotation:On.rotation})})})});Promise.all(nn).then(function(xn){var Rn=ln.current;if(Rn&&xn.length!==0){var Pn=xn[0].pageWidth,jn=xn[0].pageHeight,Nn=Rn.parentElement,On=(Nn.clientWidth-45)/Pn,Sr=(Nn.clientHeight-45)/jn,rr=On;switch(Vt){case e.ScrollMode.Horizontal:rr=Math.min(On,Sr);break;case e.ScrollMode.Vertical:default:rr=On}var ir,ur,Kn=vt?typeof vt=="string"?cs(Nn,jn,Pn,vt,Xt,Ot.numPages):vt:(ir=rr,(ur=Al.findIndex(function(hr){return hr>=ir}))===-1||ur===0?ir:Al[ur-1]);an({pageSizes:xn,scale:Kn})}})},[Ot.loadingTask.docId]),zt.pageSizes.length===0||zt.scale===0?s.createElement("div",{className:"rpv-core__page-size-calculator","data-testid":"core__page-size-calculating",ref:ln},s.createElement(ft,null)):jt(zt.pageSizes,zt.scale)},Vo=function(){},ds=function(tt){function vt(Ot,jt){var Vt=tt.call(this)||this;return Vt.verifyPassword=Ot,Vt.passwordStatus=jt,Vt}return h(vt,tt),vt}(Vo),Fu=function(tt){var vt=tt.passwordStatus,Ot=tt.renderProtectedView,jt=tt.verifyPassword,Vt=tt.onDocumentAskPassword,Xt=s.useContext($t).l10n,ln=s.useState(""),tn=ln[0],zt=ln[1],an=s.useContext(ut).direction===e.TextDirection.RightToLeft,nn=function(){return jt(tn)};return s.useEffect(function(){Vt&&Vt({verifyPassword:jt})},[]),Ot?Ot({passwordStatus:vt,verifyPassword:jt}):s.createElement("div",{className:"rpv-core__asking-password-wrapper"},s.createElement("div",{className:ot({"rpv-core__asking-password":!0,"rpv-core__asking-password--rtl":an})},s.createElement("div",{className:"rpv-core__asking-password-message"},vt===e.PasswordStatus.RequiredPassword&&Xt.core.askingPassword.requirePasswordToOpen,vt===e.PasswordStatus.WrongPassword&&Xt.core.wrongPassword.tryAgain),s.createElement("div",{className:"rpv-core__asking-password-body"},s.createElement("div",{className:ot({"rpv-core__asking-password-input":!0,"rpv-core__asking-password-input--ltr":!an,"rpv-core__asking-password-input--rtl":an})},s.createElement(pt,{testId:"core__asking-password-input",type:"password",value:tn,onChange:zt,onKeyDown:function(xn){xn.key==="Enter"&&nn()}})),s.createElement(b,{onClick:nn},Xt.core.askingPassword.submit))))},Cl=function(tt){function vt(Ot){var jt=tt.call(this)||this;return jt.doc=Ot,jt}return h(vt,tt),vt}(Vo),Pl=function(tt){function vt(Ot){var jt=tt.call(this)||this;return jt.error=Ot,jt}return h(vt,tt),vt}(Vo),hs=function(tt){function vt(Ot){var jt=tt.call(this)||this;return jt.percentages=Ot,jt}return h(vt,tt),vt}(Vo),Lu=function(tt){var vt=tt.characterMap,Ot=tt.file,jt=tt.httpHeaders,Vt=tt.render,Xt=tt.renderError,ln=tt.renderLoader,tn=tt.renderProtectedView,zt=tt.transformGetDocumentParams,an=tt.withCredentials,nn=tt.onDocumentAskPassword,xn=s.useContext(ut).direction===e.TextDirection.RightToLeft,Rn=s.useState(new hs(0)),Pn=Rn[0],jn=Rn[1],Nn=s.useRef(""),On=Ut();return s.useEffect(function(){Nn.current="",jn(new hs(0));var Sr=new d.PDFWorker({name:"PDFWorker_".concat(Date.now())}),rr=Object.assign({httpHeaders:jt,withCredentials:an,worker:Sr},typeof Ot=="string"?{url:Ot}:{data:Ot},vt?{cMapUrl:vt.url,cMapPacked:vt.isCompressed}:{}),ir=zt?zt(rr):rr,ur=d.getDocument(ir);return ur.onPassword=function(Kn,hr){switch(hr){case d.PasswordResponses.NEED_PASSWORD:On.current&&jn(new ds(Kn,e.PasswordStatus.RequiredPassword));break;case d.PasswordResponses.INCORRECT_PASSWORD:On.current&&jn(new ds(Kn,e.PasswordStatus.WrongPassword))}},ur.onProgress=function(Kn){var hr=Kn.total>0?Math.min(100,100*Kn.loaded/Kn.total):100;On.current&&Nn.current===""&&jn(new hs(hr))},ur.promise.then(function(Kn){Nn.current=Kn.loadingTask.docId,On.current&&jn(new Cl(Kn))},function(Kn){return On.current&&!Sr.destroyed&&jn(new Pl({message:Kn.message||"Cannot load document",name:Kn.name}))}),function(){ur.destroy(),Sr.destroy()}},[Ot]),Pn instanceof ds?s.createElement(Fu,{passwordStatus:Pn.passwordStatus,renderProtectedView:tn,verifyPassword:Pn.verifyPassword,onDocumentAskPassword:nn}):Pn instanceof Cl?Vt(Pn.doc):Pn instanceof Pl?Xt?Xt(Pn.error):s.createElement("div",{className:ot({"rpv-core__doc-error":!0,"rpv-core__doc-error--rtl":xn})},s.createElement("div",{className:"rpv-core__doc-error-text"},Pn.error.message)):s.createElement("div",{"data-testid":"core__doc-loading",className:ot({"rpv-core__doc-loading":!0,"rpv-core__doc-loading--rtl":xn})},ln?ln(Pn.percentages):s.createElement(ft,null))},Du=function(tt,vt){var Ot=s.useMemo(function(){return tt==="auto"?typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":tt},[]),jt=s.useState(Ot),Vt=jt[0],Xt=jt[1],ln=Yt(Vt);return s.useEffect(function(){if(tt==="auto"){var tn=window.matchMedia("(prefers-color-scheme: dark)"),zt=function(an){Xt(an.matches?"dark":"light")};return tn.addEventListener("change",zt),function(){return tn.removeEventListener("change",zt)}}},[]),s.useEffect(function(){Vt!==ln&&vt&&vt(Vt)},[Vt]),s.useEffect(function(){tt!==Vt&&Xt(tt)},[tt]),{currentTheme:Vt,setCurrentTheme:Xt}},Iu=function(tt){return{startPage:tt.startPage-3,endPage:tt.endPage+3}};e.Button=function(tt){var vt=tt.children,Ot=tt.testId,jt=tt.onClick,Vt=s.useContext(ut).direction===e.TextDirection.RightToLeft,Xt=Ot?{"data-testid":Ot}:{};return s.createElement("button",_({className:ot({"rpv-core__button":!0,"rpv-core__button--rtl":Vt}),type:"button",onClick:jt},Xt),vt)},e.Icon=mt,e.LazyRender=function(tt){var vt=tt.attrs,Ot=tt.children,jt=tt.testId,Vt=s.useState(!1),Xt=Vt[0],ln=Vt[1],tn=jt?_(_({},vt),{"data-testid":jt}):vt,zt=gt({once:!0,onVisibilityChanged:function(an){an.isVisible&&ln(!0)}});return s.createElement("div",_({ref:zt},tn),Xt&&Ot)},e.LocalizationContext=$t,e.Menu=function(tt){var vt=tt.children,Ot=s.useRef(),jt=s.useRef([]),Vt=s.useContext(ut).direction===e.TextDirection.RightToLeft,Xt=function(tn){if(Ot.current)switch(tn.key){case"Tab":tn.preventDefault();break;case"ArrowDown":tn.preventDefault(),ln(function(zt,an){return an+1});break;case"ArrowUp":tn.preventDefault(),ln(function(zt,an){return an-1});break;case"End":tn.preventDefault(),ln(function(zt,an){return zt.length-1});break;case"Home":tn.preventDefault(),ln(function(zt,an){return 0})}},ln=function(tn){if(Ot.current){var zt=jt.current,an=zt.findIndex(function(xn){return xn.getAttribute("tabindex")==="0"}),nn=Math.min(zt.length-1,Math.max(0,tn(zt,an)));an>=0&&an<=zt.length-1&&zt[an].setAttribute("tabindex","-1"),zt[nn].setAttribute("tabindex","0"),zt[nn].focus()}};return lt(function(){var tn=Ot.current;if(tn){var zt=function(an){var nn=[];return an.querySelectorAll('.rpv-core__menu-item[role="menuitem"]').forEach(function(xn){if(xn instanceof HTMLElement){var Rn=xn.parentElement;(Rn===an||window.getComputedStyle(Rn).display!=="none")&&nn.push(xn)}}),nn}(tn);jt.current=zt}},[]),lt(function(){return document.addEventListener("keydown",Xt),function(){document.removeEventListener("keydown",Xt)}},[]),s.createElement("div",{ref:Ot,"aria-orientation":"vertical",className:ot({"rpv-core__menu":!0,"rpv-core__menu--rtl":Vt}),role:"menu",tabIndex:0},vt)},e.MenuDivider=function(){return s.createElement("div",{"aria-orientation":"horizontal",className:"rpv-core__menu-divider",role:"separator"})},e.MenuItem=function(tt){var vt=tt.checked,Ot=vt!==void 0&&vt,jt=tt.children,Vt=tt.icon,Xt=Vt===void 0?null:Vt,ln=tt.isDisabled,tn=ln!==void 0&&ln,zt=tt.testId,an=tt.onClick,nn=s.useContext(ut).direction===e.TextDirection.RightToLeft,xn=zt?{"data-testid":zt}:{};return s.createElement("button",_({className:ot({"rpv-core__menu-item":!0,"rpv-core__menu-item--disabled":tn,"rpv-core__menu-item--ltr":!nn,"rpv-core__menu-item--rtl":nn}),role:"menuitem",tabIndex:-1,type:"button",onClick:an},xn),s.createElement("div",{className:ot({"rpv-core__menu-item-icon":!0,"rpv-core__menu-item-icon--ltr":!nn,"rpv-core__menu-item-icon--rtl":nn})},Xt),s.createElement("div",{className:ot({"rpv-core__menu-item-label":!0,"rpv-core__menu-item-label--ltr":!nn,"rpv-core__menu-item-label--rtl":nn})},jt),s.createElement("div",{className:ot({"rpv-core__menu-item-check":!0,"rpv-core__menu-item-check--ltr":!nn,"rpv-core__menu-item-check--rtl":nn})},Ot&&s.createElement(j,null)))},e.MinimalButton=function(tt){var vt=tt.ariaLabel,Ot=vt===void 0?"":vt,jt=tt.ariaKeyShortcuts,Vt=jt===void 0?"":jt,Xt=tt.children,ln=tt.isDisabled,tn=ln!==void 0&&ln,zt=tt.isSelected,an=zt!==void 0&&zt,nn=tt.testId,xn=tt.onClick,Rn=s.useContext(ut).direction===e.TextDirection.RightToLeft,Pn=nn?{"data-testid":nn}:{};return s.createElement("button",_({"aria-label":Ot},Vt&&{"aria-keyshortcuts":Vt},tn&&{"aria-disabled":!0},{className:ot({"rpv-core__minimal-button":!0,"rpv-core__minimal-button--disabled":tn,"rpv-core__minimal-button--rtl":Rn,"rpv-core__minimal-button--selected":an}),type:"button",onClick:xn},Pn),Xt)},e.Modal=function(tt){var vt=tt.ariaControlsSuffix,Ot=tt.closeOnClickOutside,jt=tt.closeOnEscape,Vt=tt.content,Xt=tt.isOpened,ln=Xt!==void 0&&Xt,tn=tt.target,zt=vt||"".concat(at());return s.createElement(un,{target:tn?function(an,nn){return s.createElement("div",{"aria-expanded":nn?"true":"false","aria-haspopup":"dialog","aria-controls":"rpv-core__modal-body-".concat(zt)},tn(an,nn))}:null,content:function(an){return s.createElement(Tt,null,s.createElement(Pt,{ariaControlsSuffix:zt,closeOnClickOutside:Ot,closeOnEscape:jt,onToggle:an},Vt(an)))},isOpened:ln})},e.Popover=function(tt){var vt=tt.ariaHasPopup,Ot=vt===void 0?"dialog":vt,jt=tt.ariaControlsSuffix,Vt=tt.closeOnClickOutside,Xt=tt.closeOnEscape,ln=tt.content,tn=tt.lockScroll,zt=tn===void 0||tn,an=tt.offset,nn=tt.position,xn=tt.target,Rn=Gt(!1),Pn=Rn.opened,jn=Rn.toggle,Nn=s.useRef(),On=s.useMemo(function(){return jt||"".concat(at())},[]);return s.createElement("div",{ref:Nn,"aria-expanded":Pn?"true":"false","aria-haspopup":Ot,"aria-controls":"rpv-core__popver-body-".concat(On)},xn(jn,Pn),Pn&&s.createElement(s.Fragment,null,zt&&s.createElement(pn,{closeOnEscape:Xt,onClose:jn}),s.createElement(sn,{ariaControlsSuffix:On,closeOnClickOutside:Vt,offset:an,position:nn,targetRef:Nn,onClose:jn},ln(jn))))},e.PrimaryButton=b,e.ProgressBar=function(tt){var vt=tt.progress,Ot=s.useContext(ut).direction===e.TextDirection.RightToLeft;return s.createElement("div",{className:ot({"rpv-core__progress-bar":!0,"rpv-core__progress-bar--rtl":Ot})},s.createElement("div",{className:"rpv-core__progress-bar-progress",style:{width:"".concat(vt,"%")}},vt,"%"))},e.Separator=function(){return s.createElement("div",{className:"rpv-core__separator"})},e.Spinner=ft,e.Splitter=function(tt){var vt=tt.constrain,Ot=s.useContext(ut).direction===e.TextDirection.RightToLeft,jt=s.useRef(),Vt=s.useRef(),Xt=s.useRef(),ln=s.useRef(0),tn=s.useRef(0),zt=s.useRef(0),an=s.useRef(0),nn={capture:!0},xn=function(Pn){var jn=jt.current,Nn=Vt.current,On=Xt.current;if(jn&&Nn&&On){var Sr=an.current,rr=Pn.clientX-ln.current,ir=zt.current+(Ot?-rr:rr),ur=jn.parentElement.getBoundingClientRect().width,Kn=100*ir/ur;if(jn.classList.add("rpv-core__splitter--resizing"),vt){var hr=ur-ir-Sr;if(!vt({firstHalfPercentage:Kn,firstHalfSize:ir,secondHalfPercentage:100*hr/ur,secondHalfSize:hr}))return}Nn.style.width="".concat(Kn,"%"),document.body.classList.add("rpv-core__splitter-body--resizing"),Nn.classList.add("rpv-core__splitter-sibling--resizing"),On.classList.add("rpv-core__splitter-sibling--resizing")}},Rn=function(Pn){var jn=jt.current,Nn=Vt.current,On=Xt.current;jn&&Nn&&On&&(document.body.classList.remove("rpv-core__splitter-body--resizing"),jn.classList.remove("rpv-core__splitter--resizing"),Nn.classList.remove("rpv-core__splitter-sibling--resizing"),On.classList.remove("rpv-core__splitter-sibling--resizing"),document.removeEventListener("mousemove",xn,nn),document.removeEventListener("mouseup",Rn,nn))};return s.useEffect(function(){var Pn=jt.current;Pn&&(an.current=Pn.getBoundingClientRect().width,Vt.current=Pn.previousElementSibling,Xt.current=Pn.nextElementSibling)},[]),s.createElement("div",{ref:jt,className:"rpv-core__splitter",onMouseDown:function(Pn){var jn=Vt.current;jn&&(ln.current=Pn.clientX,tn.current=Pn.clientY,zt.current=jn.getBoundingClientRect().width,document.addEventListener("mousemove",xn,nn),document.addEventListener("mouseup",Rn,nn))}})},e.TextBox=pt,e.ThemeContext=ut,e.Tooltip=function(tt){var vt=tt.ariaControlsSuffix,Ot=tt.content,jt=tt.offset,Vt=tt.position,Xt=tt.target,ln=Gt(!1),tn=ln.opened,zt=ln.toggle,an=s.useRef(),nn=s.useRef(),xn=s.useMemo(function(){return vt||"".concat(at())},[]);yt(function(){an.current&&document.activeElement&&an.current.contains(document.activeElement)&&Pn()});var Rn=function(){zt(e.ToggleStatus.Open)},Pn=function(){zt(e.ToggleStatus.Close)};return s.createElement(s.Fragment,null,s.createElement("div",{ref:an,"aria-describedby":"rpv-core__tooltip-body-".concat(xn),onBlur:function(jn){jn.relatedTarget instanceof HTMLElement&&jn.currentTarget.parentElement&&jn.currentTarget.parentElement.contains(jn.relatedTarget)?nn.current&&(nn.current.style.display="none"):Pn()},onFocus:Rn,onMouseEnter:Rn,onMouseLeave:Pn},Xt),tn&&s.createElement(An,{ariaControlsSuffix:xn,contentRef:nn,offset:jt,position:Vt,targetRef:an},Ot()))},e.Viewer=function(tt){var vt=tt.characterMap,Ot=tt.defaultScale,jt=tt.enableSmoothScroll,Vt=jt===void 0||jt,Xt=tt.fileUrl,ln=tt.httpHeaders,tn=ln===void 0?{}:ln,zt=tt.initialPage,an=zt===void 0?0:zt,nn=tt.pageLayout,xn=tt.initialRotation,Rn=xn===void 0?0:xn,Pn=tt.localization,jn=tt.plugins,Nn=jn===void 0?[]:jn,On=tt.renderError,Sr=tt.renderLoader,rr=tt.renderPage,ir=tt.renderProtectedView,ur=tt.scrollMode,Kn=ur===void 0?e.ScrollMode.Vertical:ur,hr=tt.setRenderRange,lr=hr===void 0?Iu:hr,Cr=tt.transformGetDocumentParams,kr=tt.theme,Pr=kr===void 0?{direction:e.TextDirection.LeftToRight,theme:"light"}:kr,Tr=tt.viewMode,Fr=Tr===void 0?e.ViewMode.SinglePage:Tr,qr=tt.withCredentials,Br=qr!==void 0&&qr,Yr=tt.onDocumentAskPassword,Vr=tt.onDocumentLoad,Gr=Vr===void 0?function(){}:Vr,Xr=tt.onPageChange,Wr=Xr===void 0?function(){}:Xr,ga=tt.onRotate,oo=ga===void 0?function(){}:ga,ro=tt.onRotatePage,Zr=ro===void 0?function(){}:ro,xa=tt.onSwitchTheme,co=xa===void 0?function(){}:xa,cr=tt.onZoom,ar=cr===void 0?function(){}:cr,Qn=s.useState({data:Xt,name:typeof Xt=="string"?Xt:"",shouldLoad:!1}),tr=Qn[0],Zn=Qn[1],fr=function(zr,Ur){Zn({data:Ur,name:zr,shouldLoad:!0})},gr=s.useState(!1),nr=gr[0],Xn=gr[1],vr=Yt(tr);s.useEffect(function(){var zr,Ur,Kr,Dr;zr=vr.data,Dr=typeof(Ur=Xt),(Kr=typeof zr)=="string"&&Dr==="string"&&zr===Ur||Kr==="object"&&Dr==="object"&&zr.length===Ur.length&&zr.every(function(fo,ko){return fo===Ur[ko]})||Zn({data:Xt,name:typeof Xt=="string"?Xt:"",shouldLoad:nr})},[Xt,nr]);var Er=gt({onVisibilityChanged:function(zr){Xn(zr.isVisible),zr.isVisible&&Zn(function(Ur){return Object.assign({},Ur,{shouldLoad:!0})})}}),jr=typeof Pr=="string"?{direction:e.TextDirection.LeftToRight,theme:Pr}:Pr,Ir=s.useState(Pn||Lt),Jr=Ir[0],$a=Ir[1],yr={l10n:Jr,setL10n:$a},_i=Object.assign({},{direction:jr.direction},Du(jr.theme||"light",co));return s.useEffect(function(){Pn&&$a(Pn)},[Pn]),s.createElement($t.Provider,{value:yr},s.createElement(ut.Provider,{value:_i},s.createElement("div",{ref:Er,className:"rpv-core__viewer rpv-core__viewer--".concat(_i.currentTheme),"data-testid":"core__viewer",style:{height:"100%",width:"100%"}},tr.shouldLoad&&s.createElement(Lu,{characterMap:vt,file:tr.data,httpHeaders:tn,render:function(zr){return s.createElement(Mu,{defaultScale:Ot,doc:zr,render:function(Ur,Kr){return s.createElement(Tu,{currentFile:{data:tr.data,name:tr.name},defaultScale:Ot,doc:zr,enableSmoothScroll:Vt,initialPage:an,initialRotation:Rn,initialScale:Kr,pageLayout:nn,pageSizes:Ur,plugins:Nn,renderPage:rr,scrollMode:Kn,setRenderRange:lr,viewMode:Fr,viewerState:{file:tr,fullScreenMode:e.FullScreenMode.Normal,pageIndex:-1,pageHeight:Ur[0].pageHeight,pageWidth:Ur[0].pageWidth,pagesRotation:new Map,rotation:Rn,scale:Kr,scrollMode:Kn,viewMode:Fr},onDocumentLoad:Gr,onOpenFile:fr,onPageChange:Wr,onRotate:oo,onRotatePage:Zr,onZoom:ar})},scrollMode:Kn,viewMode:Fr})},renderError:On,renderLoader:Sr,renderProtectedView:ir,transformGetDocumentParams:Cr,withCredentials:Br,onDocumentAskPassword:Yr}))))},e.Worker=function(tt){var vt=tt.children,Ot=tt.workerUrl;return d.GlobalWorkerOptions.workerSrc=Ot,s.createElement(s.Fragment,null,vt)},e.chunk=Kt,e.classNames=ot,e.createStore=function(tt){var vt=tt||{},Ot={},jt=function(Xt,ln){var tn;vt=_(_({},vt),((tn={})[Xt]=ln,tn)),(Ot[Xt]||[]).forEach(function(zt){return zt(vt[Xt])})},Vt=function(Xt){return vt[Xt]};return{subscribe:function(Xt,ln){Ot[Xt]=(Ot[Xt]||[]).concat(ln)},unsubscribe:function(Xt,ln){Ot[Xt]=(Ot[Xt]||[]).filter(function(tn){return tn!==ln})},update:function(Xt,ln){jt(Xt,ln)},updateCurrentValue:function(Xt,ln){var tn=Vt(Xt);tn!==void 0&&jt(Xt,ln(tn))},get:function(Xt){return Vt(Xt)}}},e.getDestination=Vn,e.getPage=Hn,e.isFullScreenEnabled=ht,e.isMac=function(){return typeof window<"u"&&/(Mac|iPhone|iPod|iPad)/i.test(navigator.platform)},e.useDebounceCallback=Jt,e.useIntersectionObserver=gt,e.useIsMounted=Ut,e.useIsomorphicLayoutEffect=lt,e.usePrevious=Yt,e.useRenderQueue=wt})(core_min);/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */lib.exports=core_min;var libExports=lib.exports;function CertificateViewer(){const{id:e}=useParams(),i=`/certificates/${e}.pdf`,a=()=>{const o=document.createElement("a");o.href=i,o.download=`${e}.pdf`,document.body.appendChild(o),o.click(),document.body.removeChild(o)};return jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(libExports.Worker,{workerUrl:"https://unpkg.com/pdfjs-dist@3.11.174/build/pdf.worker.min.js",children:jsxRuntimeExports.jsx("div",{className:"border-2 border-gray-300",children:jsxRuntimeExports.jsx(libExports.Viewer,{fileUrl:i})})}),jsxRuntimeExports.jsx("div",{className:"container mx-auto flex flex-col items-center mb-12",children:jsxRuntimeExports.jsx("button",{onClick:a,className:"mt-4 p-2 bg-blue-500 text-white rounded w-1/4 ",children:"Descargar certificado"})})]})}const router=createHashRouter([{path:"/",element:jsxRuntimeExports.jsx(App,{}),errorElement:jsxRuntimeExports.jsx(ErrorPage,{}),children:[{path:"/cert/:id",element:jsxRuntimeExports.jsx(CertificateViewer,{})}]}]);createRoot(document.getElementById("root")).render(jsxRuntimeExports.jsx(reactExports.StrictMode,{children:jsxRuntimeExports.jsx(RouterProvider,{router})}));
